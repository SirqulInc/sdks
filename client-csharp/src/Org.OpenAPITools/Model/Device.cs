// <auto-generated>
/*
 * Sirqul IoT Platform
 *
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Org.OpenAPITools.Client;

namespace Org.OpenAPITools.Model
{
    /// <summary>
    /// Device
    /// </summary>
    public partial class Device : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="Device" /> class.
        /// </summary>
        /// <param name="rebootTimeHour">rebootTimeHour</param>
        /// <param name="rebootTimeMinute">rebootTimeMinute</param>
        /// <param name="idleTimeoutInSecond">idleTimeoutInSecond</param>
        /// <param name="serialNumber">serialNumber</param>
        /// <param name="udid">udid</param>
        /// <param name="deviceType">deviceType</param>
        /// <param name="devicePower">devicePower</param>
        /// <param name="deviceInterference">deviceInterference</param>
        /// <param name="lastHeartbeatSent">lastHeartbeatSent</param>
        /// <param name="lastDown">lastDown</param>
        /// <param name="lastUp">lastUp</param>
        /// <param name="lastNotificationSent">lastNotificationSent</param>
        /// <param name="health">health</param>
        [JsonConstructor]
        public Device(Option<int?> rebootTimeHour = default, Option<int?> rebootTimeMinute = default, Option<int?> idleTimeoutInSecond = default, Option<string?> serialNumber = default, Option<string?> udid = default, Option<string?> deviceType = default, Option<double?> devicePower = default, Option<double?> deviceInterference = default, Option<DateTime?> lastHeartbeatSent = default, Option<DateTime?> lastDown = default, Option<DateTime?> lastUp = default, Option<DateTime?> lastNotificationSent = default, Option<HealthEnum?> health = default)
        {
            RebootTimeHourOption = rebootTimeHour;
            RebootTimeMinuteOption = rebootTimeMinute;
            IdleTimeoutInSecondOption = idleTimeoutInSecond;
            SerialNumberOption = serialNumber;
            UdidOption = udid;
            DeviceTypeOption = deviceType;
            DevicePowerOption = devicePower;
            DeviceInterferenceOption = deviceInterference;
            LastHeartbeatSentOption = lastHeartbeatSent;
            LastDownOption = lastDown;
            LastUpOption = lastUp;
            LastNotificationSentOption = lastNotificationSent;
            HealthOption = health;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// Defines Health
        /// </summary>
        public enum HealthEnum
        {
            /// <summary>
            /// Enum RUNNING for value: RUNNING
            /// </summary>
            RUNNING = 1,

            /// <summary>
            /// Enum WARNING for value: WARNING
            /// </summary>
            WARNING = 2,

            /// <summary>
            /// Enum DOWN for value: DOWN
            /// </summary>
            DOWN = 3
        }

        /// <summary>
        /// Returns a <see cref="HealthEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static HealthEnum HealthEnumFromString(string value)
        {
            if (value.Equals("RUNNING"))
                return HealthEnum.RUNNING;

            if (value.Equals("WARNING"))
                return HealthEnum.WARNING;

            if (value.Equals("DOWN"))
                return HealthEnum.DOWN;

            throw new NotImplementedException($"Could not convert value to type HealthEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="HealthEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static HealthEnum? HealthEnumFromStringOrDefault(string value)
        {
            if (value.Equals("RUNNING"))
                return HealthEnum.RUNNING;

            if (value.Equals("WARNING"))
                return HealthEnum.WARNING;

            if (value.Equals("DOWN"))
                return HealthEnum.DOWN;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="HealthEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string HealthEnumToJsonValue(HealthEnum? value)
        {
            if (value == HealthEnum.RUNNING)
                return "RUNNING";

            if (value == HealthEnum.WARNING)
                return "WARNING";

            if (value == HealthEnum.DOWN)
                return "DOWN";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// Used to track the state of Health
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<HealthEnum?> HealthOption { get; private set; }

        /// <summary>
        /// Gets or Sets Health
        /// </summary>
        [JsonPropertyName("health")]
        public HealthEnum? Health { get { return this.HealthOption; } set { this.HealthOption = new(value); } }

        /// <summary>
        /// Used to track the state of RebootTimeHour
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<int?> RebootTimeHourOption { get; private set; }

        /// <summary>
        /// Gets or Sets RebootTimeHour
        /// </summary>
        [JsonPropertyName("rebootTimeHour")]
        public int? RebootTimeHour { get { return this.RebootTimeHourOption; } set { this.RebootTimeHourOption = new(value); } }

        /// <summary>
        /// Used to track the state of RebootTimeMinute
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<int?> RebootTimeMinuteOption { get; private set; }

        /// <summary>
        /// Gets or Sets RebootTimeMinute
        /// </summary>
        [JsonPropertyName("rebootTimeMinute")]
        public int? RebootTimeMinute { get { return this.RebootTimeMinuteOption; } set { this.RebootTimeMinuteOption = new(value); } }

        /// <summary>
        /// Used to track the state of IdleTimeoutInSecond
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<int?> IdleTimeoutInSecondOption { get; private set; }

        /// <summary>
        /// Gets or Sets IdleTimeoutInSecond
        /// </summary>
        [JsonPropertyName("idleTimeoutInSecond")]
        public int? IdleTimeoutInSecond { get { return this.IdleTimeoutInSecondOption; } set { this.IdleTimeoutInSecondOption = new(value); } }

        /// <summary>
        /// Used to track the state of SerialNumber
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> SerialNumberOption { get; private set; }

        /// <summary>
        /// Gets or Sets SerialNumber
        /// </summary>
        [JsonPropertyName("serialNumber")]
        public string? SerialNumber { get { return this.SerialNumberOption; } set { this.SerialNumberOption = new(value); } }

        /// <summary>
        /// Used to track the state of Udid
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> UdidOption { get; private set; }

        /// <summary>
        /// Gets or Sets Udid
        /// </summary>
        [JsonPropertyName("udid")]
        public string? Udid { get { return this.UdidOption; } set { this.UdidOption = new(value); } }

        /// <summary>
        /// Used to track the state of DeviceType
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> DeviceTypeOption { get; private set; }

        /// <summary>
        /// Gets or Sets DeviceType
        /// </summary>
        [JsonPropertyName("deviceType")]
        public string? DeviceType { get { return this.DeviceTypeOption; } set { this.DeviceTypeOption = new(value); } }

        /// <summary>
        /// Used to track the state of DevicePower
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<double?> DevicePowerOption { get; private set; }

        /// <summary>
        /// Gets or Sets DevicePower
        /// </summary>
        [JsonPropertyName("devicePower")]
        public double? DevicePower { get { return this.DevicePowerOption; } set { this.DevicePowerOption = new(value); } }

        /// <summary>
        /// Used to track the state of DeviceInterference
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<double?> DeviceInterferenceOption { get; private set; }

        /// <summary>
        /// Gets or Sets DeviceInterference
        /// </summary>
        [JsonPropertyName("deviceInterference")]
        public double? DeviceInterference { get { return this.DeviceInterferenceOption; } set { this.DeviceInterferenceOption = new(value); } }

        /// <summary>
        /// Used to track the state of LastHeartbeatSent
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> LastHeartbeatSentOption { get; private set; }

        /// <summary>
        /// Gets or Sets LastHeartbeatSent
        /// </summary>
        [JsonPropertyName("lastHeartbeatSent")]
        public DateTime? LastHeartbeatSent { get { return this.LastHeartbeatSentOption; } set { this.LastHeartbeatSentOption = new(value); } }

        /// <summary>
        /// Used to track the state of LastDown
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> LastDownOption { get; private set; }

        /// <summary>
        /// Gets or Sets LastDown
        /// </summary>
        [JsonPropertyName("lastDown")]
        public DateTime? LastDown { get { return this.LastDownOption; } set { this.LastDownOption = new(value); } }

        /// <summary>
        /// Used to track the state of LastUp
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> LastUpOption { get; private set; }

        /// <summary>
        /// Gets or Sets LastUp
        /// </summary>
        [JsonPropertyName("lastUp")]
        public DateTime? LastUp { get { return this.LastUpOption; } set { this.LastUpOption = new(value); } }

        /// <summary>
        /// Used to track the state of LastNotificationSent
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<DateTime?> LastNotificationSentOption { get; private set; }

        /// <summary>
        /// Gets or Sets LastNotificationSent
        /// </summary>
        [JsonPropertyName("lastNotificationSent")]
        public DateTime? LastNotificationSent { get { return this.LastNotificationSentOption; } set { this.LastNotificationSentOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class Device {\n");
            sb.Append("  RebootTimeHour: ").Append(RebootTimeHour).Append("\n");
            sb.Append("  RebootTimeMinute: ").Append(RebootTimeMinute).Append("\n");
            sb.Append("  IdleTimeoutInSecond: ").Append(IdleTimeoutInSecond).Append("\n");
            sb.Append("  SerialNumber: ").Append(SerialNumber).Append("\n");
            sb.Append("  Udid: ").Append(Udid).Append("\n");
            sb.Append("  DeviceType: ").Append(DeviceType).Append("\n");
            sb.Append("  DevicePower: ").Append(DevicePower).Append("\n");
            sb.Append("  DeviceInterference: ").Append(DeviceInterference).Append("\n");
            sb.Append("  LastHeartbeatSent: ").Append(LastHeartbeatSent).Append("\n");
            sb.Append("  LastDown: ").Append(LastDown).Append("\n");
            sb.Append("  LastUp: ").Append(LastUp).Append("\n");
            sb.Append("  LastNotificationSent: ").Append(LastNotificationSent).Append("\n");
            sb.Append("  Health: ").Append(Health).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="Device" />
    /// </summary>
    public class DeviceJsonConverter : JsonConverter<Device>
    {
        /// <summary>
        /// The format to use to serialize LastHeartbeatSent
        /// </summary>
        public static string LastHeartbeatSentFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// The format to use to serialize LastDown
        /// </summary>
        public static string LastDownFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// The format to use to serialize LastUp
        /// </summary>
        public static string LastUpFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// The format to use to serialize LastNotificationSent
        /// </summary>
        public static string LastNotificationSentFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="Device" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override Device Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<int?> rebootTimeHour = default;
            Option<int?> rebootTimeMinute = default;
            Option<int?> idleTimeoutInSecond = default;
            Option<string?> serialNumber = default;
            Option<string?> udid = default;
            Option<string?> deviceType = default;
            Option<double?> devicePower = default;
            Option<double?> deviceInterference = default;
            Option<DateTime?> lastHeartbeatSent = default;
            Option<DateTime?> lastDown = default;
            Option<DateTime?> lastUp = default;
            Option<DateTime?> lastNotificationSent = default;
            Option<Device.HealthEnum?> health = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "rebootTimeHour":
                            rebootTimeHour = new Option<int?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (int?)null : utf8JsonReader.GetInt32());
                            break;
                        case "rebootTimeMinute":
                            rebootTimeMinute = new Option<int?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (int?)null : utf8JsonReader.GetInt32());
                            break;
                        case "idleTimeoutInSecond":
                            idleTimeoutInSecond = new Option<int?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (int?)null : utf8JsonReader.GetInt32());
                            break;
                        case "serialNumber":
                            serialNumber = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "udid":
                            udid = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "deviceType":
                            deviceType = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "devicePower":
                            devicePower = new Option<double?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (double?)null : utf8JsonReader.GetDouble());
                            break;
                        case "deviceInterference":
                            deviceInterference = new Option<double?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (double?)null : utf8JsonReader.GetDouble());
                            break;
                        case "lastHeartbeatSent":
                            lastHeartbeatSent = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "lastDown":
                            lastDown = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "lastUp":
                            lastUp = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "lastNotificationSent":
                            lastNotificationSent = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "health":
                            string? healthRawValue = utf8JsonReader.GetString();
                            if (healthRawValue != null)
                                health = new Option<Device.HealthEnum?>(Device.HealthEnumFromStringOrDefault(healthRawValue));
                            break;
                        default:
                            break;
                    }
                }
            }

            if (rebootTimeHour.IsSet && rebootTimeHour.Value == null)
                throw new ArgumentNullException(nameof(rebootTimeHour), "Property is not nullable for class Device.");

            if (rebootTimeMinute.IsSet && rebootTimeMinute.Value == null)
                throw new ArgumentNullException(nameof(rebootTimeMinute), "Property is not nullable for class Device.");

            if (idleTimeoutInSecond.IsSet && idleTimeoutInSecond.Value == null)
                throw new ArgumentNullException(nameof(idleTimeoutInSecond), "Property is not nullable for class Device.");

            if (serialNumber.IsSet && serialNumber.Value == null)
                throw new ArgumentNullException(nameof(serialNumber), "Property is not nullable for class Device.");

            if (udid.IsSet && udid.Value == null)
                throw new ArgumentNullException(nameof(udid), "Property is not nullable for class Device.");

            if (deviceType.IsSet && deviceType.Value == null)
                throw new ArgumentNullException(nameof(deviceType), "Property is not nullable for class Device.");

            if (devicePower.IsSet && devicePower.Value == null)
                throw new ArgumentNullException(nameof(devicePower), "Property is not nullable for class Device.");

            if (deviceInterference.IsSet && deviceInterference.Value == null)
                throw new ArgumentNullException(nameof(deviceInterference), "Property is not nullable for class Device.");

            if (lastHeartbeatSent.IsSet && lastHeartbeatSent.Value == null)
                throw new ArgumentNullException(nameof(lastHeartbeatSent), "Property is not nullable for class Device.");

            if (lastDown.IsSet && lastDown.Value == null)
                throw new ArgumentNullException(nameof(lastDown), "Property is not nullable for class Device.");

            if (lastUp.IsSet && lastUp.Value == null)
                throw new ArgumentNullException(nameof(lastUp), "Property is not nullable for class Device.");

            if (lastNotificationSent.IsSet && lastNotificationSent.Value == null)
                throw new ArgumentNullException(nameof(lastNotificationSent), "Property is not nullable for class Device.");

            if (health.IsSet && health.Value == null)
                throw new ArgumentNullException(nameof(health), "Property is not nullable for class Device.");

            return new Device(rebootTimeHour, rebootTimeMinute, idleTimeoutInSecond, serialNumber, udid, deviceType, devicePower, deviceInterference, lastHeartbeatSent, lastDown, lastUp, lastNotificationSent, health);
        }

        /// <summary>
        /// Serializes a <see cref="Device" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="device"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, Device device, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, device, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="Device" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="device"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, Device device, JsonSerializerOptions jsonSerializerOptions)
        {
            if (device.SerialNumberOption.IsSet && device.SerialNumber == null)
                throw new ArgumentNullException(nameof(device.SerialNumber), "Property is required for class Device.");

            if (device.UdidOption.IsSet && device.Udid == null)
                throw new ArgumentNullException(nameof(device.Udid), "Property is required for class Device.");

            if (device.DeviceTypeOption.IsSet && device.DeviceType == null)
                throw new ArgumentNullException(nameof(device.DeviceType), "Property is required for class Device.");

            if (device.RebootTimeHourOption.IsSet)
                writer.WriteNumber("rebootTimeHour", device.RebootTimeHourOption.Value!.Value);

            if (device.RebootTimeMinuteOption.IsSet)
                writer.WriteNumber("rebootTimeMinute", device.RebootTimeMinuteOption.Value!.Value);

            if (device.IdleTimeoutInSecondOption.IsSet)
                writer.WriteNumber("idleTimeoutInSecond", device.IdleTimeoutInSecondOption.Value!.Value);

            if (device.SerialNumberOption.IsSet)
                writer.WriteString("serialNumber", device.SerialNumber);

            if (device.UdidOption.IsSet)
                writer.WriteString("udid", device.Udid);

            if (device.DeviceTypeOption.IsSet)
                writer.WriteString("deviceType", device.DeviceType);

            if (device.DevicePowerOption.IsSet)
                writer.WriteNumber("devicePower", device.DevicePowerOption.Value!.Value);

            if (device.DeviceInterferenceOption.IsSet)
                writer.WriteNumber("deviceInterference", device.DeviceInterferenceOption.Value!.Value);

            if (device.LastHeartbeatSentOption.IsSet)
                writer.WriteString("lastHeartbeatSent", device.LastHeartbeatSentOption.Value!.Value.ToString(LastHeartbeatSentFormat));

            if (device.LastDownOption.IsSet)
                writer.WriteString("lastDown", device.LastDownOption.Value!.Value.ToString(LastDownFormat));

            if (device.LastUpOption.IsSet)
                writer.WriteString("lastUp", device.LastUpOption.Value!.Value.ToString(LastUpFormat));

            if (device.LastNotificationSentOption.IsSet)
                writer.WriteString("lastNotificationSent", device.LastNotificationSentOption.Value!.Value.ToString(LastNotificationSentFormat));

            var healthRawValue = Device.HealthEnumToJsonValue(device.HealthOption.Value!.Value);
            writer.WriteString("health", healthRawValue);
        }
    }
}
