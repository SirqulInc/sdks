// <auto-generated>
/*
 * Sirqul IoT Platform
 *
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Net;
using System.IO;
using System.Threading.Tasks;
using Microsoft.Extensions.Logging;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text.Json;
using Org.OpenAPITools.Client;
using Org.OpenAPITools.Model;
using System.Diagnostics.CodeAnalysis;

namespace Org.OpenAPITools.Api
{
    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// This class is registered as transient.
    /// </summary>
    public interface IBidApi : IApi
    {
        /// <summary>
        /// The class containing the events
        /// </summary>
        BidApiEvents Events { get; }

        /// <summary>
        /// Create Bid
        /// </summary>
        /// <remarks>
        /// Creates a bid on a biddable object
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="biddableType">A biddable object type. Possible values include: CREATIVE (ads).</param>
        /// <param name="biddableId">The id of the biddable object</param>
        /// <param name="amountPerView">The bid amount for views. For ads, this is the amount that will be taken for each impression.</param>
        /// <param name="amountPerAction">The bid amount for actions. For ads, this is the amount that will be taken for each click.</param>
        /// <param name="budgetAmount">The allocated budget amount that will be used</param>
        /// <param name="budgetSchedule">The schedule for when the allocated budget amount is reset</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBidApiResponse"/>&gt;</returns>
        Task<ICreateBidApiResponse> CreateBidAsync(string biddableType, long biddableId, double amountPerView, double amountPerAction, double budgetAmount, string budgetSchedule, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create Bid
        /// </summary>
        /// <remarks>
        /// Creates a bid on a biddable object
        /// </remarks>
        /// <param name="biddableType">A biddable object type. Possible values include: CREATIVE (ads).</param>
        /// <param name="biddableId">The id of the biddable object</param>
        /// <param name="amountPerView">The bid amount for views. For ads, this is the amount that will be taken for each impression.</param>
        /// <param name="amountPerAction">The bid amount for actions. For ads, this is the amount that will be taken for each click.</param>
        /// <param name="budgetAmount">The allocated budget amount that will be used</param>
        /// <param name="budgetSchedule">The schedule for when the allocated budget amount is reset</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBidApiResponse"/>?&gt;</returns>
        Task<ICreateBidApiResponse?> CreateBidOrDefaultAsync(string biddableType, long biddableId, double amountPerView, double amountPerAction, double budgetAmount, string budgetSchedule, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Delete Bid
        /// </summary>
        /// <remarks>
        /// Deleted a bid on a biddable object
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IDeleteBidApiResponse"/>&gt;</returns>
        Task<IDeleteBidApiResponse> DeleteBidAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Delete Bid
        /// </summary>
        /// <remarks>
        /// Deleted a bid on a biddable object
        /// </remarks>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IDeleteBidApiResponse"/>?&gt;</returns>
        Task<IDeleteBidApiResponse?> DeleteBidOrDefaultAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get Bid
        /// </summary>
        /// <remarks>
        /// Get the bid details of a biddable object
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetBidApiResponse"/>&gt;</returns>
        Task<IGetBidApiResponse> GetBidAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get Bid
        /// </summary>
        /// <remarks>
        /// Get the bid details of a biddable object
        /// </remarks>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetBidApiResponse"/>?&gt;</returns>
        Task<IGetBidApiResponse?> GetBidOrDefaultAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Update Bid
        /// </summary>
        /// <remarks>
        /// Updates a bid on a biddable object
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="amountPerView">The bid amount for views. For ads, this is the amount that will be taken for each impression. (optional)</param>
        /// <param name="amountPerAction">The bid amount for actions. For ads, this is the amount that will be taken for each click. (optional)</param>
        /// <param name="budgetAmount">The allocated budget amount that will be used (optional)</param>
        /// <param name="budgetSchedule">The schedule for when the allocated budget amount is reset (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUpdateBidApiResponse"/>&gt;</returns>
        Task<IUpdateBidApiResponse> UpdateBidAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, Option<double> amountPerView = default, Option<double> amountPerAction = default, Option<double> budgetAmount = default, Option<string> budgetSchedule = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Update Bid
        /// </summary>
        /// <remarks>
        /// Updates a bid on a biddable object
        /// </remarks>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="amountPerView">The bid amount for views. For ads, this is the amount that will be taken for each impression. (optional)</param>
        /// <param name="amountPerAction">The bid amount for actions. For ads, this is the amount that will be taken for each click. (optional)</param>
        /// <param name="budgetAmount">The allocated budget amount that will be used (optional)</param>
        /// <param name="budgetSchedule">The schedule for when the allocated budget amount is reset (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUpdateBidApiResponse"/>?&gt;</returns>
        Task<IUpdateBidApiResponse?> UpdateBidOrDefaultAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, Option<double> amountPerView = default, Option<double> amountPerAction = default, Option<double> budgetAmount = default, Option<string> budgetSchedule = default, System.Threading.CancellationToken cancellationToken = default);
    }

    /// <summary>
    /// The <see cref="ICreateBidApiResponse"/>
    /// </summary>
    public interface ICreateBidApiResponse : Org.OpenAPITools.Client.IApiResponse, IOk<Org.OpenAPITools.Model.BidResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IDeleteBidApiResponse"/>
    /// </summary>
    public interface IDeleteBidApiResponse : Org.OpenAPITools.Client.IApiResponse, IOk<Org.OpenAPITools.Model.SirqulResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IGetBidApiResponse"/>
    /// </summary>
    public interface IGetBidApiResponse : Org.OpenAPITools.Client.IApiResponse, IOk<Org.OpenAPITools.Model.BidResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IUpdateBidApiResponse"/>
    /// </summary>
    public interface IUpdateBidApiResponse : Org.OpenAPITools.Client.IApiResponse, IOk<Org.OpenAPITools.Model.BidResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public class BidApiEvents
    {
        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateBid;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateBid;

        internal void ExecuteOnCreateBid(BidApi.CreateBidApiResponse apiResponse)
        {
            OnCreateBid?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateBid(Exception exception)
        {
            OnErrorCreateBid?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnDeleteBid;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorDeleteBid;

        internal void ExecuteOnDeleteBid(BidApi.DeleteBidApiResponse apiResponse)
        {
            OnDeleteBid?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorDeleteBid(Exception exception)
        {
            OnErrorDeleteBid?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnGetBid;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorGetBid;

        internal void ExecuteOnGetBid(BidApi.GetBidApiResponse apiResponse)
        {
            OnGetBid?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorGetBid(Exception exception)
        {
            OnErrorGetBid?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnUpdateBid;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorUpdateBid;

        internal void ExecuteOnUpdateBid(BidApi.UpdateBidApiResponse apiResponse)
        {
            OnUpdateBid?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorUpdateBid(Exception exception)
        {
            OnErrorUpdateBid?.Invoke(this, new ExceptionEventArgs(exception));
        }
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public sealed partial class BidApi : IBidApi
    {
        private JsonSerializerOptions _jsonSerializerOptions;

        /// <summary>
        /// The logger factory
        /// </summary>
        public ILoggerFactory LoggerFactory { get; }

        /// <summary>
        /// The logger
        /// </summary>
        public ILogger<BidApi> Logger { get; }

        /// <summary>
        /// The HttpClient
        /// </summary>
        public HttpClient HttpClient { get; }

        /// <summary>
        /// The class containing the events
        /// </summary>
        public BidApiEvents Events { get; }

        /// <summary>
        /// A token provider of type <see cref="ApiKeyProvider"/>
        /// </summary>
        public TokenProvider<ApiKeyToken> ApiKeyProvider { get; }

        /// <summary>
        /// Initializes a new instance of the <see cref="BidApi"/> class.
        /// </summary>
        /// <returns></returns>
        public BidApi(ILogger<BidApi> logger, ILoggerFactory loggerFactory, HttpClient httpClient, JsonSerializerOptionsProvider jsonSerializerOptionsProvider, BidApiEvents bidApiEvents,
            TokenProvider<ApiKeyToken> apiKeyProvider)
        {
            _jsonSerializerOptions = jsonSerializerOptionsProvider.Options;
            LoggerFactory = loggerFactory;
            Logger = LoggerFactory.CreateLogger<BidApi>();
            HttpClient = httpClient;
            Events = bidApiEvents;
            ApiKeyProvider = apiKeyProvider;
        }

        partial void FormatCreateBid(ref string biddableType, ref long biddableId, ref double amountPerView, ref double amountPerAction, ref double budgetAmount, ref string budgetSchedule, ref Option<string> deviceId, ref Option<long> accountId);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="biddableType"></param>
        /// <param name="budgetSchedule"></param>
        /// <param name="deviceId"></param>
        /// <returns></returns>
        private void ValidateCreateBid(string biddableType, string budgetSchedule, Option<string> deviceId)
        {
            if (biddableType == null)
                throw new ArgumentNullException(nameof(biddableType));

            if (budgetSchedule == null)
                throw new ArgumentNullException(nameof(budgetSchedule));

            if (deviceId.IsSet && deviceId.Value == null)
                throw new ArgumentNullException(nameof(deviceId));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="biddableType"></param>
        /// <param name="biddableId"></param>
        /// <param name="amountPerView"></param>
        /// <param name="amountPerAction"></param>
        /// <param name="budgetAmount"></param>
        /// <param name="budgetSchedule"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        private void AfterCreateBidDefaultImplementation(ICreateBidApiResponse apiResponseLocalVar, string biddableType, long biddableId, double amountPerView, double amountPerAction, double budgetAmount, string budgetSchedule, Option<string> deviceId, Option<long> accountId)
        {
            bool suppressDefaultLog = false;
            AfterCreateBid(ref suppressDefaultLog, apiResponseLocalVar, biddableType, biddableId, amountPerView, amountPerAction, budgetAmount, budgetSchedule, deviceId, accountId);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {2}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="biddableType"></param>
        /// <param name="biddableId"></param>
        /// <param name="amountPerView"></param>
        /// <param name="amountPerAction"></param>
        /// <param name="budgetAmount"></param>
        /// <param name="budgetSchedule"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        partial void AfterCreateBid(ref bool suppressDefaultLog, ICreateBidApiResponse apiResponseLocalVar, string biddableType, long biddableId, double amountPerView, double amountPerAction, double budgetAmount, string budgetSchedule, Option<string> deviceId, Option<long> accountId);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="biddableType"></param>
        /// <param name="biddableId"></param>
        /// <param name="amountPerView"></param>
        /// <param name="amountPerAction"></param>
        /// <param name="budgetAmount"></param>
        /// <param name="budgetSchedule"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        private void OnErrorCreateBidDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string biddableType, long biddableId, double amountPerView, double amountPerAction, double budgetAmount, string budgetSchedule, Option<string> deviceId, Option<long> accountId)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateBid(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, biddableType, biddableId, amountPerView, amountPerAction, budgetAmount, budgetSchedule, deviceId, accountId);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="biddableType"></param>
        /// <param name="biddableId"></param>
        /// <param name="amountPerView"></param>
        /// <param name="amountPerAction"></param>
        /// <param name="budgetAmount"></param>
        /// <param name="budgetSchedule"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        partial void OnErrorCreateBid(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string biddableType, long biddableId, double amountPerView, double amountPerAction, double budgetAmount, string budgetSchedule, Option<string> deviceId, Option<long> accountId);

        /// <summary>
        /// Create Bid Creates a bid on a biddable object
        /// </summary>
        /// <param name="biddableType">A biddable object type. Possible values include: CREATIVE (ads).</param>
        /// <param name="biddableId">The id of the biddable object</param>
        /// <param name="amountPerView">The bid amount for views. For ads, this is the amount that will be taken for each impression.</param>
        /// <param name="amountPerAction">The bid amount for actions. For ads, this is the amount that will be taken for each click.</param>
        /// <param name="budgetAmount">The allocated budget amount that will be used</param>
        /// <param name="budgetSchedule">The schedule for when the allocated budget amount is reset</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBidApiResponse"/>&gt;</returns>
        public async Task<ICreateBidApiResponse?> CreateBidOrDefaultAsync(string biddableType, long biddableId, double amountPerView, double amountPerAction, double budgetAmount, string budgetSchedule, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateBidAsync(biddableType, biddableId, amountPerView, amountPerAction, budgetAmount, budgetSchedule, deviceId, accountId, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create Bid Creates a bid on a biddable object
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="biddableType">A biddable object type. Possible values include: CREATIVE (ads).</param>
        /// <param name="biddableId">The id of the biddable object</param>
        /// <param name="amountPerView">The bid amount for views. For ads, this is the amount that will be taken for each impression.</param>
        /// <param name="amountPerAction">The bid amount for actions. For ads, this is the amount that will be taken for each click.</param>
        /// <param name="budgetAmount">The allocated budget amount that will be used</param>
        /// <param name="budgetSchedule">The schedule for when the allocated budget amount is reset</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBidApiResponse"/>&gt;</returns>
        public async Task<ICreateBidApiResponse> CreateBidAsync(string biddableType, long biddableId, double amountPerView, double amountPerAction, double budgetAmount, string budgetSchedule, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateBid(biddableType, budgetSchedule, deviceId);

                FormatCreateBid(ref biddableType, ref biddableId, ref amountPerView, ref amountPerAction, ref budgetAmount, ref budgetSchedule, ref deviceId, ref accountId);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/bid/create"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/bid/create");

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    parseQueryStringLocalVar["biddableType"] = ClientUtils.ParameterToString(biddableType);
                    parseQueryStringLocalVar["biddableId"] = ClientUtils.ParameterToString(biddableId);
                    parseQueryStringLocalVar["amountPerView"] = ClientUtils.ParameterToString(amountPerView);
                    parseQueryStringLocalVar["amountPerAction"] = ClientUtils.ParameterToString(amountPerAction);
                    parseQueryStringLocalVar["budgetAmount"] = ClientUtils.ParameterToString(budgetAmount);
                    parseQueryStringLocalVar["budgetSchedule"] = ClientUtils.ParameterToString(budgetSchedule);

                    if (deviceId.IsSet)
                        parseQueryStringLocalVar["deviceId"] = ClientUtils.ParameterToString(deviceId.Value);

                    if (accountId.IsSet)
                        parseQueryStringLocalVar["accountId"] = ClientUtils.ParameterToString(accountId.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    string[] acceptLocalVars = new string[] {
                        "*/*"
                    };

                    IEnumerable<MediaTypeWithQualityHeaderValue> acceptHeaderValuesLocalVar = ClientUtils.SelectHeaderAcceptArray(acceptLocalVars);

                    foreach (var acceptLocalVar in acceptHeaderValuesLocalVar)
                        httpRequestMessageLocalVar.Headers.Accept.Add(acceptLocalVar);

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateBidApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateBidApiResponse>();
                        CreateBidApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/bid/create", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateBidDefaultImplementation(apiResponseLocalVar, biddableType, biddableId, amountPerView, amountPerAction, budgetAmount, budgetSchedule, deviceId, accountId);

                        Events.ExecuteOnCreateBid(apiResponseLocalVar);

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateBidDefaultImplementation(e, "/bid/create", uriBuilderLocalVar.Path, biddableType, biddableId, amountPerView, amountPerAction, budgetAmount, budgetSchedule, deviceId, accountId);
                Events.ExecuteOnErrorCreateBid(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateBidApiResponse"/>
        /// </summary>
        public partial class CreateBidApiResponse : Org.OpenAPITools.Client.ApiResponse, ICreateBidApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateBidApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateBidApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateBidApiResponse(ILogger<CreateBidApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateBidApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateBidApiResponse(ILogger<CreateBidApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public Org.OpenAPITools.Model.BidResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Org.OpenAPITools.Model.BidResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out Org.OpenAPITools.Model.BidResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatDeleteBid(ref long bidId, ref Option<string> deviceId, ref Option<long> accountId);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="deviceId"></param>
        /// <returns></returns>
        private void ValidateDeleteBid(Option<string> deviceId)
        {
            if (deviceId.IsSet && deviceId.Value == null)
                throw new ArgumentNullException(nameof(deviceId));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        private void AfterDeleteBidDefaultImplementation(IDeleteBidApiResponse apiResponseLocalVar, long bidId, Option<string> deviceId, Option<long> accountId)
        {
            bool suppressDefaultLog = false;
            AfterDeleteBid(ref suppressDefaultLog, apiResponseLocalVar, bidId, deviceId, accountId);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {2}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        partial void AfterDeleteBid(ref bool suppressDefaultLog, IDeleteBidApiResponse apiResponseLocalVar, long bidId, Option<string> deviceId, Option<long> accountId);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        private void OnErrorDeleteBidDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, long bidId, Option<string> deviceId, Option<long> accountId)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorDeleteBid(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, bidId, deviceId, accountId);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        partial void OnErrorDeleteBid(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, long bidId, Option<string> deviceId, Option<long> accountId);

        /// <summary>
        /// Delete Bid Deleted a bid on a biddable object
        /// </summary>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IDeleteBidApiResponse"/>&gt;</returns>
        public async Task<IDeleteBidApiResponse?> DeleteBidOrDefaultAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await DeleteBidAsync(bidId, deviceId, accountId, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Delete Bid Deleted a bid on a biddable object
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IDeleteBidApiResponse"/>&gt;</returns>
        public async Task<IDeleteBidApiResponse> DeleteBidAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateDeleteBid(deviceId);

                FormatDeleteBid(ref bidId, ref deviceId, ref accountId);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/bid/delete"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/bid/delete");

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    parseQueryStringLocalVar["bidId"] = ClientUtils.ParameterToString(bidId);

                    if (deviceId.IsSet)
                        parseQueryStringLocalVar["deviceId"] = ClientUtils.ParameterToString(deviceId.Value);

                    if (accountId.IsSet)
                        parseQueryStringLocalVar["accountId"] = ClientUtils.ParameterToString(accountId.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    string[] acceptLocalVars = new string[] {
                        "*/*"
                    };

                    IEnumerable<MediaTypeWithQualityHeaderValue> acceptHeaderValuesLocalVar = ClientUtils.SelectHeaderAcceptArray(acceptLocalVars);

                    foreach (var acceptLocalVar in acceptHeaderValuesLocalVar)
                        httpRequestMessageLocalVar.Headers.Accept.Add(acceptLocalVar);

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<DeleteBidApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<DeleteBidApiResponse>();
                        DeleteBidApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/bid/delete", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterDeleteBidDefaultImplementation(apiResponseLocalVar, bidId, deviceId, accountId);

                        Events.ExecuteOnDeleteBid(apiResponseLocalVar);

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorDeleteBidDefaultImplementation(e, "/bid/delete", uriBuilderLocalVar.Path, bidId, deviceId, accountId);
                Events.ExecuteOnErrorDeleteBid(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="DeleteBidApiResponse"/>
        /// </summary>
        public partial class DeleteBidApiResponse : Org.OpenAPITools.Client.ApiResponse, IDeleteBidApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<DeleteBidApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="DeleteBidApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public DeleteBidApiResponse(ILogger<DeleteBidApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="DeleteBidApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public DeleteBidApiResponse(ILogger<DeleteBidApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public Org.OpenAPITools.Model.SirqulResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Org.OpenAPITools.Model.SirqulResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out Org.OpenAPITools.Model.SirqulResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatGetBid(ref long bidId, ref Option<string> deviceId, ref Option<long> accountId);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="deviceId"></param>
        /// <returns></returns>
        private void ValidateGetBid(Option<string> deviceId)
        {
            if (deviceId.IsSet && deviceId.Value == null)
                throw new ArgumentNullException(nameof(deviceId));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        private void AfterGetBidDefaultImplementation(IGetBidApiResponse apiResponseLocalVar, long bidId, Option<string> deviceId, Option<long> accountId)
        {
            bool suppressDefaultLog = false;
            AfterGetBid(ref suppressDefaultLog, apiResponseLocalVar, bidId, deviceId, accountId);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {2}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        partial void AfterGetBid(ref bool suppressDefaultLog, IGetBidApiResponse apiResponseLocalVar, long bidId, Option<string> deviceId, Option<long> accountId);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        private void OnErrorGetBidDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, long bidId, Option<string> deviceId, Option<long> accountId)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorGetBid(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, bidId, deviceId, accountId);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        partial void OnErrorGetBid(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, long bidId, Option<string> deviceId, Option<long> accountId);

        /// <summary>
        /// Get Bid Get the bid details of a biddable object
        /// </summary>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetBidApiResponse"/>&gt;</returns>
        public async Task<IGetBidApiResponse?> GetBidOrDefaultAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await GetBidAsync(bidId, deviceId, accountId, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Get Bid Get the bid details of a biddable object
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetBidApiResponse"/>&gt;</returns>
        public async Task<IGetBidApiResponse> GetBidAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateGetBid(deviceId);

                FormatGetBid(ref bidId, ref deviceId, ref accountId);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/bid/get"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/bid/get");

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    parseQueryStringLocalVar["bidId"] = ClientUtils.ParameterToString(bidId);

                    if (deviceId.IsSet)
                        parseQueryStringLocalVar["deviceId"] = ClientUtils.ParameterToString(deviceId.Value);

                    if (accountId.IsSet)
                        parseQueryStringLocalVar["accountId"] = ClientUtils.ParameterToString(accountId.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    string[] acceptLocalVars = new string[] {
                        "*/*"
                    };

                    IEnumerable<MediaTypeWithQualityHeaderValue> acceptHeaderValuesLocalVar = ClientUtils.SelectHeaderAcceptArray(acceptLocalVars);

                    foreach (var acceptLocalVar in acceptHeaderValuesLocalVar)
                        httpRequestMessageLocalVar.Headers.Accept.Add(acceptLocalVar);

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<GetBidApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<GetBidApiResponse>();
                        GetBidApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/bid/get", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterGetBidDefaultImplementation(apiResponseLocalVar, bidId, deviceId, accountId);

                        Events.ExecuteOnGetBid(apiResponseLocalVar);

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorGetBidDefaultImplementation(e, "/bid/get", uriBuilderLocalVar.Path, bidId, deviceId, accountId);
                Events.ExecuteOnErrorGetBid(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="GetBidApiResponse"/>
        /// </summary>
        public partial class GetBidApiResponse : Org.OpenAPITools.Client.ApiResponse, IGetBidApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<GetBidApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="GetBidApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetBidApiResponse(ILogger<GetBidApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="GetBidApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetBidApiResponse(ILogger<GetBidApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public Org.OpenAPITools.Model.BidResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Org.OpenAPITools.Model.BidResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out Org.OpenAPITools.Model.BidResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatUpdateBid(ref long bidId, ref Option<string> deviceId, ref Option<long> accountId, ref Option<double> amountPerView, ref Option<double> amountPerAction, ref Option<double> budgetAmount, ref Option<string> budgetSchedule);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="deviceId"></param>
        /// <param name="budgetSchedule"></param>
        /// <returns></returns>
        private void ValidateUpdateBid(Option<string> deviceId, Option<string> budgetSchedule)
        {
            if (deviceId.IsSet && deviceId.Value == null)
                throw new ArgumentNullException(nameof(deviceId));

            if (budgetSchedule.IsSet && budgetSchedule.Value == null)
                throw new ArgumentNullException(nameof(budgetSchedule));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="amountPerView"></param>
        /// <param name="amountPerAction"></param>
        /// <param name="budgetAmount"></param>
        /// <param name="budgetSchedule"></param>
        private void AfterUpdateBidDefaultImplementation(IUpdateBidApiResponse apiResponseLocalVar, long bidId, Option<string> deviceId, Option<long> accountId, Option<double> amountPerView, Option<double> amountPerAction, Option<double> budgetAmount, Option<string> budgetSchedule)
        {
            bool suppressDefaultLog = false;
            AfterUpdateBid(ref suppressDefaultLog, apiResponseLocalVar, bidId, deviceId, accountId, amountPerView, amountPerAction, budgetAmount, budgetSchedule);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {2}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="amountPerView"></param>
        /// <param name="amountPerAction"></param>
        /// <param name="budgetAmount"></param>
        /// <param name="budgetSchedule"></param>
        partial void AfterUpdateBid(ref bool suppressDefaultLog, IUpdateBidApiResponse apiResponseLocalVar, long bidId, Option<string> deviceId, Option<long> accountId, Option<double> amountPerView, Option<double> amountPerAction, Option<double> budgetAmount, Option<string> budgetSchedule);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="amountPerView"></param>
        /// <param name="amountPerAction"></param>
        /// <param name="budgetAmount"></param>
        /// <param name="budgetSchedule"></param>
        private void OnErrorUpdateBidDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, long bidId, Option<string> deviceId, Option<long> accountId, Option<double> amountPerView, Option<double> amountPerAction, Option<double> budgetAmount, Option<string> budgetSchedule)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorUpdateBid(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, bidId, deviceId, accountId, amountPerView, amountPerAction, budgetAmount, budgetSchedule);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="bidId"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="amountPerView"></param>
        /// <param name="amountPerAction"></param>
        /// <param name="budgetAmount"></param>
        /// <param name="budgetSchedule"></param>
        partial void OnErrorUpdateBid(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, long bidId, Option<string> deviceId, Option<long> accountId, Option<double> amountPerView, Option<double> amountPerAction, Option<double> budgetAmount, Option<string> budgetSchedule);

        /// <summary>
        /// Update Bid Updates a bid on a biddable object
        /// </summary>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="amountPerView">The bid amount for views. For ads, this is the amount that will be taken for each impression. (optional)</param>
        /// <param name="amountPerAction">The bid amount for actions. For ads, this is the amount that will be taken for each click. (optional)</param>
        /// <param name="budgetAmount">The allocated budget amount that will be used (optional)</param>
        /// <param name="budgetSchedule">The schedule for when the allocated budget amount is reset (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUpdateBidApiResponse"/>&gt;</returns>
        public async Task<IUpdateBidApiResponse?> UpdateBidOrDefaultAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, Option<double> amountPerView = default, Option<double> amountPerAction = default, Option<double> budgetAmount = default, Option<string> budgetSchedule = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await UpdateBidAsync(bidId, deviceId, accountId, amountPerView, amountPerAction, budgetAmount, budgetSchedule, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Update Bid Updates a bid on a biddable object
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="bidId">The bid id</param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional)</param>
        /// <param name="amountPerView">The bid amount for views. For ads, this is the amount that will be taken for each impression. (optional)</param>
        /// <param name="amountPerAction">The bid amount for actions. For ads, this is the amount that will be taken for each click. (optional)</param>
        /// <param name="budgetAmount">The allocated budget amount that will be used (optional)</param>
        /// <param name="budgetSchedule">The schedule for when the allocated budget amount is reset (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUpdateBidApiResponse"/>&gt;</returns>
        public async Task<IUpdateBidApiResponse> UpdateBidAsync(long bidId, Option<string> deviceId = default, Option<long> accountId = default, Option<double> amountPerView = default, Option<double> amountPerAction = default, Option<double> budgetAmount = default, Option<string> budgetSchedule = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateUpdateBid(deviceId, budgetSchedule);

                FormatUpdateBid(ref bidId, ref deviceId, ref accountId, ref amountPerView, ref amountPerAction, ref budgetAmount, ref budgetSchedule);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/bid/update"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/bid/update");

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    parseQueryStringLocalVar["bidId"] = ClientUtils.ParameterToString(bidId);

                    if (deviceId.IsSet)
                        parseQueryStringLocalVar["deviceId"] = ClientUtils.ParameterToString(deviceId.Value);

                    if (accountId.IsSet)
                        parseQueryStringLocalVar["accountId"] = ClientUtils.ParameterToString(accountId.Value);

                    if (amountPerView.IsSet)
                        parseQueryStringLocalVar["amountPerView"] = ClientUtils.ParameterToString(amountPerView.Value);

                    if (amountPerAction.IsSet)
                        parseQueryStringLocalVar["amountPerAction"] = ClientUtils.ParameterToString(amountPerAction.Value);

                    if (budgetAmount.IsSet)
                        parseQueryStringLocalVar["budgetAmount"] = ClientUtils.ParameterToString(budgetAmount.Value);

                    if (budgetSchedule.IsSet)
                        parseQueryStringLocalVar["budgetSchedule"] = ClientUtils.ParameterToString(budgetSchedule.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    string[] acceptLocalVars = new string[] {
                        "*/*"
                    };

                    IEnumerable<MediaTypeWithQualityHeaderValue> acceptHeaderValuesLocalVar = ClientUtils.SelectHeaderAcceptArray(acceptLocalVars);

                    foreach (var acceptLocalVar in acceptHeaderValuesLocalVar)
                        httpRequestMessageLocalVar.Headers.Accept.Add(acceptLocalVar);

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<UpdateBidApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<UpdateBidApiResponse>();
                        UpdateBidApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/bid/update", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterUpdateBidDefaultImplementation(apiResponseLocalVar, bidId, deviceId, accountId, amountPerView, amountPerAction, budgetAmount, budgetSchedule);

                        Events.ExecuteOnUpdateBid(apiResponseLocalVar);

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorUpdateBidDefaultImplementation(e, "/bid/update", uriBuilderLocalVar.Path, bidId, deviceId, accountId, amountPerView, amountPerAction, budgetAmount, budgetSchedule);
                Events.ExecuteOnErrorUpdateBid(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="UpdateBidApiResponse"/>
        /// </summary>
        public partial class UpdateBidApiResponse : Org.OpenAPITools.Client.ApiResponse, IUpdateBidApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<UpdateBidApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="UpdateBidApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public UpdateBidApiResponse(ILogger<UpdateBidApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="UpdateBidApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public UpdateBidApiResponse(ILogger<UpdateBidApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public Org.OpenAPITools.Model.BidResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Org.OpenAPITools.Model.BidResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out Org.OpenAPITools.Model.BidResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }
    }
}
