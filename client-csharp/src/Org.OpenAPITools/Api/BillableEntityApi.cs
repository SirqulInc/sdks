// <auto-generated>
/*
 * Sirqul IoT Platform
 *
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Net;
using System.IO;
using System.Threading.Tasks;
using Microsoft.Extensions.Logging;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text.Json;
using Org.OpenAPITools.Client;
using Org.OpenAPITools.Model;
using System.Diagnostics.CodeAnalysis;

namespace Org.OpenAPITools.Api
{
    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// This class is registered as transient.
    /// </summary>
    public interface IBillableEntityApi : IApi
    {
        /// <summary>
        /// The class containing the events
        /// </summary>
        BillableEntityApiEvents Events { get; }

        /// <summary>
        /// Create Billable
        /// </summary>
        /// <remarks>
        /// reate a billable entity for an account. The creator is assumed to be the responsible account. An account can only have one billable entity
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="name">The name of the entity responsible for billing  (optional)</param>
        /// <param name="streetAddress">The street address of the billable entity (optional)</param>
        /// <param name="streetAddress2">Additional address information (such as a suite number, floor number, building name, or PO Box)  (optional)</param>
        /// <param name="city">The city of the billable entity (optional)</param>
        /// <param name="state">The state of the billable entity (optional)</param>
        /// <param name="postalCode">The postal code of the billable entity (optional)</param>
        /// <param name="businessPhone">The business phone of the billable entity (optional)</param>
        /// <param name="businessPhoneExt">The business phone extension (optional)</param>
        /// <param name="authorizeNetApiKey">Authorize Net Api Key (optional)</param>
        /// <param name="authorizeNetTransactionKey">Authorize Net Transaction Key (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBillableEntityApiResponse"/>&gt;</returns>
        Task<ICreateBillableEntityApiResponse> CreateBillableEntityAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<string> name = default, Option<string> streetAddress = default, Option<string> streetAddress2 = default, Option<string> city = default, Option<string> state = default, Option<string> postalCode = default, Option<string> businessPhone = default, Option<string> businessPhoneExt = default, Option<string> authorizeNetApiKey = default, Option<string> authorizeNetTransactionKey = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create Billable
        /// </summary>
        /// <remarks>
        /// reate a billable entity for an account. The creator is assumed to be the responsible account. An account can only have one billable entity
        /// </remarks>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="name">The name of the entity responsible for billing  (optional)</param>
        /// <param name="streetAddress">The street address of the billable entity (optional)</param>
        /// <param name="streetAddress2">Additional address information (such as a suite number, floor number, building name, or PO Box)  (optional)</param>
        /// <param name="city">The city of the billable entity (optional)</param>
        /// <param name="state">The state of the billable entity (optional)</param>
        /// <param name="postalCode">The postal code of the billable entity (optional)</param>
        /// <param name="businessPhone">The business phone of the billable entity (optional)</param>
        /// <param name="businessPhoneExt">The business phone extension (optional)</param>
        /// <param name="authorizeNetApiKey">Authorize Net Api Key (optional)</param>
        /// <param name="authorizeNetTransactionKey">Authorize Net Transaction Key (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBillableEntityApiResponse"/>?&gt;</returns>
        Task<ICreateBillableEntityApiResponse?> CreateBillableEntityOrDefaultAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<string> name = default, Option<string> streetAddress = default, Option<string> streetAddress2 = default, Option<string> city = default, Option<string> state = default, Option<string> postalCode = default, Option<string> businessPhone = default, Option<string> businessPhoneExt = default, Option<string> authorizeNetApiKey = default, Option<string> authorizeNetTransactionKey = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Delete Billable
        /// </summary>
        /// <remarks>
        /// Mark the billable as deleted
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="version"></param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account used to perform the delete, must have rights to edit the billable entity. (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IDeleteBillableEntityApiResponse"/>&gt;</returns>
        Task<IDeleteBillableEntityApiResponse> DeleteBillableEntityAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Delete Billable
        /// </summary>
        /// <remarks>
        /// Mark the billable as deleted
        /// </remarks>
        /// <param name="version"></param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account used to perform the delete, must have rights to edit the billable entity. (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IDeleteBillableEntityApiResponse"/>?&gt;</returns>
        Task<IDeleteBillableEntityApiResponse?> DeleteBillableEntityOrDefaultAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get Billable
        /// </summary>
        /// <remarks>
        /// Used to determine the associated BillableEntity of an account
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="includeCounts">Determines whether to include the retailer dash board counts into the response (optional, default to false)</param>
        /// <param name="includePayments">Whether to enable payments or not (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetBillableEntityApiResponse"/>&gt;</returns>
        Task<IGetBillableEntityApiResponse> GetBillableEntityAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<bool> includeCounts = default, Option<bool> includePayments = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get Billable
        /// </summary>
        /// <remarks>
        /// Used to determine the associated BillableEntity of an account
        /// </remarks>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="includeCounts">Determines whether to include the retailer dash board counts into the response (optional, default to false)</param>
        /// <param name="includePayments">Whether to enable payments or not (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetBillableEntityApiResponse"/>?&gt;</returns>
        Task<IGetBillableEntityApiResponse?> GetBillableEntityOrDefaultAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<bool> includeCounts = default, Option<bool> includePayments = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Update Billable
        /// </summary>
        /// <remarks>
        /// Updates the billable record for an account
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used). The account must have rights to edit the billable entity. (optional)</param>
        /// <param name="name">The name of the entity responsible for billing  (optional)</param>
        /// <param name="streetAddress">The street address of the billable entity (optional)</param>
        /// <param name="streetAddress2">Additional address information (such as a suite number, floor number, building name, or PO Box)  (optional)</param>
        /// <param name="city">The city of the billable entity (optional)</param>
        /// <param name="state">The state of the billable entity (optional)</param>
        /// <param name="postalCode">The postal code of the billable entity (optional)</param>
        /// <param name="businessPhone">The business phone of the billable entity (optional)</param>
        /// <param name="businessPhoneExt">The business phone extension of the billable entity (optional)</param>
        /// <param name="authorizeNetApiKey">Authorize Net Api Key of the billable entity (optional)</param>
        /// <param name="authorizeNetTransactionKey">Authorize Net Transaction Key of the billable entity (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUpdateBillableEntityApiResponse"/>&gt;</returns>
        Task<IUpdateBillableEntityApiResponse> UpdateBillableEntityAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<string> name = default, Option<string> streetAddress = default, Option<string> streetAddress2 = default, Option<string> city = default, Option<string> state = default, Option<string> postalCode = default, Option<string> businessPhone = default, Option<string> businessPhoneExt = default, Option<string> authorizeNetApiKey = default, Option<string> authorizeNetTransactionKey = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Update Billable
        /// </summary>
        /// <remarks>
        /// Updates the billable record for an account
        /// </remarks>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used). The account must have rights to edit the billable entity. (optional)</param>
        /// <param name="name">The name of the entity responsible for billing  (optional)</param>
        /// <param name="streetAddress">The street address of the billable entity (optional)</param>
        /// <param name="streetAddress2">Additional address information (such as a suite number, floor number, building name, or PO Box)  (optional)</param>
        /// <param name="city">The city of the billable entity (optional)</param>
        /// <param name="state">The state of the billable entity (optional)</param>
        /// <param name="postalCode">The postal code of the billable entity (optional)</param>
        /// <param name="businessPhone">The business phone of the billable entity (optional)</param>
        /// <param name="businessPhoneExt">The business phone extension of the billable entity (optional)</param>
        /// <param name="authorizeNetApiKey">Authorize Net Api Key of the billable entity (optional)</param>
        /// <param name="authorizeNetTransactionKey">Authorize Net Transaction Key of the billable entity (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUpdateBillableEntityApiResponse"/>?&gt;</returns>
        Task<IUpdateBillableEntityApiResponse?> UpdateBillableEntityOrDefaultAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<string> name = default, Option<string> streetAddress = default, Option<string> streetAddress2 = default, Option<string> city = default, Option<string> state = default, Option<string> postalCode = default, Option<string> businessPhone = default, Option<string> businessPhoneExt = default, Option<string> authorizeNetApiKey = default, Option<string> authorizeNetTransactionKey = default, System.Threading.CancellationToken cancellationToken = default);
    }

    /// <summary>
    /// The <see cref="ICreateBillableEntityApiResponse"/>
    /// </summary>
    public interface ICreateBillableEntityApiResponse : Org.OpenAPITools.Client.IApiResponse, IOk<Org.OpenAPITools.Model.BillableEntityResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IDeleteBillableEntityApiResponse"/>
    /// </summary>
    public interface IDeleteBillableEntityApiResponse : Org.OpenAPITools.Client.IApiResponse, IOk<Org.OpenAPITools.Model.SirqulResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IGetBillableEntityApiResponse"/>
    /// </summary>
    public interface IGetBillableEntityApiResponse : Org.OpenAPITools.Client.IApiResponse, IOk<Org.OpenAPITools.Model.BillableEntityResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IUpdateBillableEntityApiResponse"/>
    /// </summary>
    public interface IUpdateBillableEntityApiResponse : Org.OpenAPITools.Client.IApiResponse, IOk<Org.OpenAPITools.Model.BillableEntityResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public class BillableEntityApiEvents
    {
        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateBillableEntity;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateBillableEntity;

        internal void ExecuteOnCreateBillableEntity(BillableEntityApi.CreateBillableEntityApiResponse apiResponse)
        {
            OnCreateBillableEntity?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateBillableEntity(Exception exception)
        {
            OnErrorCreateBillableEntity?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnDeleteBillableEntity;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorDeleteBillableEntity;

        internal void ExecuteOnDeleteBillableEntity(BillableEntityApi.DeleteBillableEntityApiResponse apiResponse)
        {
            OnDeleteBillableEntity?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorDeleteBillableEntity(Exception exception)
        {
            OnErrorDeleteBillableEntity?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnGetBillableEntity;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorGetBillableEntity;

        internal void ExecuteOnGetBillableEntity(BillableEntityApi.GetBillableEntityApiResponse apiResponse)
        {
            OnGetBillableEntity?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorGetBillableEntity(Exception exception)
        {
            OnErrorGetBillableEntity?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnUpdateBillableEntity;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorUpdateBillableEntity;

        internal void ExecuteOnUpdateBillableEntity(BillableEntityApi.UpdateBillableEntityApiResponse apiResponse)
        {
            OnUpdateBillableEntity?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorUpdateBillableEntity(Exception exception)
        {
            OnErrorUpdateBillableEntity?.Invoke(this, new ExceptionEventArgs(exception));
        }
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public sealed partial class BillableEntityApi : IBillableEntityApi
    {
        private JsonSerializerOptions _jsonSerializerOptions;

        /// <summary>
        /// The logger factory
        /// </summary>
        public ILoggerFactory LoggerFactory { get; }

        /// <summary>
        /// The logger
        /// </summary>
        public ILogger<BillableEntityApi> Logger { get; }

        /// <summary>
        /// The HttpClient
        /// </summary>
        public HttpClient HttpClient { get; }

        /// <summary>
        /// The class containing the events
        /// </summary>
        public BillableEntityApiEvents Events { get; }

        /// <summary>
        /// A token provider of type <see cref="ApiKeyProvider"/>
        /// </summary>
        public TokenProvider<ApiKeyToken> ApiKeyProvider { get; }

        /// <summary>
        /// Initializes a new instance of the <see cref="BillableEntityApi"/> class.
        /// </summary>
        /// <returns></returns>
        public BillableEntityApi(ILogger<BillableEntityApi> logger, ILoggerFactory loggerFactory, HttpClient httpClient, JsonSerializerOptionsProvider jsonSerializerOptionsProvider, BillableEntityApiEvents billableEntityApiEvents,
            TokenProvider<ApiKeyToken> apiKeyProvider)
        {
            _jsonSerializerOptions = jsonSerializerOptionsProvider.Options;
            LoggerFactory = loggerFactory;
            Logger = LoggerFactory.CreateLogger<BillableEntityApi>();
            HttpClient = httpClient;
            Events = billableEntityApiEvents;
            ApiKeyProvider = apiKeyProvider;
        }

        partial void FormatCreateBillableEntity(ref decimal version, ref Option<string> deviceId, ref Option<long> accountId, ref Option<string> name, ref Option<string> streetAddress, ref Option<string> streetAddress2, ref Option<string> city, ref Option<string> state, ref Option<string> postalCode, ref Option<string> businessPhone, ref Option<string> businessPhoneExt, ref Option<string> authorizeNetApiKey, ref Option<string> authorizeNetTransactionKey);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="deviceId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        /// <returns></returns>
        private void ValidateCreateBillableEntity(Option<string> deviceId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey)
        {
            if (deviceId.IsSet && deviceId.Value == null)
                throw new ArgumentNullException(nameof(deviceId));

            if (name.IsSet && name.Value == null)
                throw new ArgumentNullException(nameof(name));

            if (streetAddress.IsSet && streetAddress.Value == null)
                throw new ArgumentNullException(nameof(streetAddress));

            if (streetAddress2.IsSet && streetAddress2.Value == null)
                throw new ArgumentNullException(nameof(streetAddress2));

            if (city.IsSet && city.Value == null)
                throw new ArgumentNullException(nameof(city));

            if (state.IsSet && state.Value == null)
                throw new ArgumentNullException(nameof(state));

            if (postalCode.IsSet && postalCode.Value == null)
                throw new ArgumentNullException(nameof(postalCode));

            if (businessPhone.IsSet && businessPhone.Value == null)
                throw new ArgumentNullException(nameof(businessPhone));

            if (businessPhoneExt.IsSet && businessPhoneExt.Value == null)
                throw new ArgumentNullException(nameof(businessPhoneExt));

            if (authorizeNetApiKey.IsSet && authorizeNetApiKey.Value == null)
                throw new ArgumentNullException(nameof(authorizeNetApiKey));

            if (authorizeNetTransactionKey.IsSet && authorizeNetTransactionKey.Value == null)
                throw new ArgumentNullException(nameof(authorizeNetTransactionKey));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        private void AfterCreateBillableEntityDefaultImplementation(ICreateBillableEntityApiResponse apiResponseLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey)
        {
            bool suppressDefaultLog = false;
            AfterCreateBillableEntity(ref suppressDefaultLog, apiResponseLocalVar, version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {2}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        partial void AfterCreateBillableEntity(ref bool suppressDefaultLog, ICreateBillableEntityApiResponse apiResponseLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        private void OnErrorCreateBillableEntityDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateBillableEntity(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        partial void OnErrorCreateBillableEntity(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey);

        /// <summary>
        /// Create Billable reate a billable entity for an account. The creator is assumed to be the responsible account. An account can only have one billable entity
        /// </summary>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="name">The name of the entity responsible for billing  (optional)</param>
        /// <param name="streetAddress">The street address of the billable entity (optional)</param>
        /// <param name="streetAddress2">Additional address information (such as a suite number, floor number, building name, or PO Box)  (optional)</param>
        /// <param name="city">The city of the billable entity (optional)</param>
        /// <param name="state">The state of the billable entity (optional)</param>
        /// <param name="postalCode">The postal code of the billable entity (optional)</param>
        /// <param name="businessPhone">The business phone of the billable entity (optional)</param>
        /// <param name="businessPhoneExt">The business phone extension (optional)</param>
        /// <param name="authorizeNetApiKey">Authorize Net Api Key (optional)</param>
        /// <param name="authorizeNetTransactionKey">Authorize Net Transaction Key (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBillableEntityApiResponse"/>&gt;</returns>
        public async Task<ICreateBillableEntityApiResponse?> CreateBillableEntityOrDefaultAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<string> name = default, Option<string> streetAddress = default, Option<string> streetAddress2 = default, Option<string> city = default, Option<string> state = default, Option<string> postalCode = default, Option<string> businessPhone = default, Option<string> businessPhoneExt = default, Option<string> authorizeNetApiKey = default, Option<string> authorizeNetTransactionKey = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateBillableEntityAsync(version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create Billable reate a billable entity for an account. The creator is assumed to be the responsible account. An account can only have one billable entity
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="name">The name of the entity responsible for billing  (optional)</param>
        /// <param name="streetAddress">The street address of the billable entity (optional)</param>
        /// <param name="streetAddress2">Additional address information (such as a suite number, floor number, building name, or PO Box)  (optional)</param>
        /// <param name="city">The city of the billable entity (optional)</param>
        /// <param name="state">The state of the billable entity (optional)</param>
        /// <param name="postalCode">The postal code of the billable entity (optional)</param>
        /// <param name="businessPhone">The business phone of the billable entity (optional)</param>
        /// <param name="businessPhoneExt">The business phone extension (optional)</param>
        /// <param name="authorizeNetApiKey">Authorize Net Api Key (optional)</param>
        /// <param name="authorizeNetTransactionKey">Authorize Net Transaction Key (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBillableEntityApiResponse"/>&gt;</returns>
        public async Task<ICreateBillableEntityApiResponse> CreateBillableEntityAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<string> name = default, Option<string> streetAddress = default, Option<string> streetAddress2 = default, Option<string> city = default, Option<string> state = default, Option<string> postalCode = default, Option<string> businessPhone = default, Option<string> businessPhoneExt = default, Option<string> authorizeNetApiKey = default, Option<string> authorizeNetTransactionKey = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateBillableEntity(deviceId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);

                FormatCreateBillableEntity(ref version, ref deviceId, ref accountId, ref name, ref streetAddress, ref streetAddress2, ref city, ref state, ref postalCode, ref businessPhone, ref businessPhoneExt, ref authorizeNetApiKey, ref authorizeNetTransactionKey);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/api/{version}/billable/create"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/api/{version}/billable/create");
                    uriBuilderLocalVar.Path = uriBuilderLocalVar.Path.Replace("%7Bversion%7D", Uri.EscapeDataString(version.ToString()));

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (deviceId.IsSet)
                        parseQueryStringLocalVar["deviceId"] = ClientUtils.ParameterToString(deviceId.Value);

                    if (accountId.IsSet)
                        parseQueryStringLocalVar["accountId"] = ClientUtils.ParameterToString(accountId.Value);

                    if (name.IsSet)
                        parseQueryStringLocalVar["name"] = ClientUtils.ParameterToString(name.Value);

                    if (streetAddress.IsSet)
                        parseQueryStringLocalVar["streetAddress"] = ClientUtils.ParameterToString(streetAddress.Value);

                    if (streetAddress2.IsSet)
                        parseQueryStringLocalVar["streetAddress2"] = ClientUtils.ParameterToString(streetAddress2.Value);

                    if (city.IsSet)
                        parseQueryStringLocalVar["city"] = ClientUtils.ParameterToString(city.Value);

                    if (state.IsSet)
                        parseQueryStringLocalVar["state"] = ClientUtils.ParameterToString(state.Value);

                    if (postalCode.IsSet)
                        parseQueryStringLocalVar["postalCode"] = ClientUtils.ParameterToString(postalCode.Value);

                    if (businessPhone.IsSet)
                        parseQueryStringLocalVar["businessPhone"] = ClientUtils.ParameterToString(businessPhone.Value);

                    if (businessPhoneExt.IsSet)
                        parseQueryStringLocalVar["businessPhoneExt"] = ClientUtils.ParameterToString(businessPhoneExt.Value);

                    if (authorizeNetApiKey.IsSet)
                        parseQueryStringLocalVar["authorizeNetApiKey"] = ClientUtils.ParameterToString(authorizeNetApiKey.Value);

                    if (authorizeNetTransactionKey.IsSet)
                        parseQueryStringLocalVar["authorizeNetTransactionKey"] = ClientUtils.ParameterToString(authorizeNetTransactionKey.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    string[] acceptLocalVars = new string[] {
                        "*/*"
                    };

                    IEnumerable<MediaTypeWithQualityHeaderValue> acceptHeaderValuesLocalVar = ClientUtils.SelectHeaderAcceptArray(acceptLocalVars);

                    foreach (var acceptLocalVar in acceptHeaderValuesLocalVar)
                        httpRequestMessageLocalVar.Headers.Accept.Add(acceptLocalVar);

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateBillableEntityApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateBillableEntityApiResponse>();
                        CreateBillableEntityApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/api/{version}/billable/create", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateBillableEntityDefaultImplementation(apiResponseLocalVar, version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);

                        Events.ExecuteOnCreateBillableEntity(apiResponseLocalVar);

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateBillableEntityDefaultImplementation(e, "/api/{version}/billable/create", uriBuilderLocalVar.Path, version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);
                Events.ExecuteOnErrorCreateBillableEntity(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateBillableEntityApiResponse"/>
        /// </summary>
        public partial class CreateBillableEntityApiResponse : Org.OpenAPITools.Client.ApiResponse, ICreateBillableEntityApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateBillableEntityApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateBillableEntityApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateBillableEntityApiResponse(ILogger<CreateBillableEntityApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateBillableEntityApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateBillableEntityApiResponse(ILogger<CreateBillableEntityApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public Org.OpenAPITools.Model.BillableEntityResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Org.OpenAPITools.Model.BillableEntityResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out Org.OpenAPITools.Model.BillableEntityResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatDeleteBillableEntity(ref decimal version, ref Option<string> deviceId, ref Option<long> accountId);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="deviceId"></param>
        /// <returns></returns>
        private void ValidateDeleteBillableEntity(Option<string> deviceId)
        {
            if (deviceId.IsSet && deviceId.Value == null)
                throw new ArgumentNullException(nameof(deviceId));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        private void AfterDeleteBillableEntityDefaultImplementation(IDeleteBillableEntityApiResponse apiResponseLocalVar, decimal version, Option<string> deviceId, Option<long> accountId)
        {
            bool suppressDefaultLog = false;
            AfterDeleteBillableEntity(ref suppressDefaultLog, apiResponseLocalVar, version, deviceId, accountId);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {2}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        partial void AfterDeleteBillableEntity(ref bool suppressDefaultLog, IDeleteBillableEntityApiResponse apiResponseLocalVar, decimal version, Option<string> deviceId, Option<long> accountId);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        private void OnErrorDeleteBillableEntityDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, decimal version, Option<string> deviceId, Option<long> accountId)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorDeleteBillableEntity(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, version, deviceId, accountId);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        partial void OnErrorDeleteBillableEntity(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, decimal version, Option<string> deviceId, Option<long> accountId);

        /// <summary>
        /// Delete Billable Mark the billable as deleted
        /// </summary>
        /// <param name="version"></param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account used to perform the delete, must have rights to edit the billable entity. (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IDeleteBillableEntityApiResponse"/>&gt;</returns>
        public async Task<IDeleteBillableEntityApiResponse?> DeleteBillableEntityOrDefaultAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await DeleteBillableEntityAsync(version, deviceId, accountId, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Delete Billable Mark the billable as deleted
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="version"></param>
        /// <param name="deviceId">The device id (deviceId or accountId required) (optional)</param>
        /// <param name="accountId">The account used to perform the delete, must have rights to edit the billable entity. (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IDeleteBillableEntityApiResponse"/>&gt;</returns>
        public async Task<IDeleteBillableEntityApiResponse> DeleteBillableEntityAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateDeleteBillableEntity(deviceId);

                FormatDeleteBillableEntity(ref version, ref deviceId, ref accountId);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/api/{version}/billable/delete"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/api/{version}/billable/delete");
                    uriBuilderLocalVar.Path = uriBuilderLocalVar.Path.Replace("%7Bversion%7D", Uri.EscapeDataString(version.ToString()));

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (deviceId.IsSet)
                        parseQueryStringLocalVar["deviceId"] = ClientUtils.ParameterToString(deviceId.Value);

                    if (accountId.IsSet)
                        parseQueryStringLocalVar["accountId"] = ClientUtils.ParameterToString(accountId.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    string[] acceptLocalVars = new string[] {
                        "*/*"
                    };

                    IEnumerable<MediaTypeWithQualityHeaderValue> acceptHeaderValuesLocalVar = ClientUtils.SelectHeaderAcceptArray(acceptLocalVars);

                    foreach (var acceptLocalVar in acceptHeaderValuesLocalVar)
                        httpRequestMessageLocalVar.Headers.Accept.Add(acceptLocalVar);

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<DeleteBillableEntityApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<DeleteBillableEntityApiResponse>();
                        DeleteBillableEntityApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/api/{version}/billable/delete", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterDeleteBillableEntityDefaultImplementation(apiResponseLocalVar, version, deviceId, accountId);

                        Events.ExecuteOnDeleteBillableEntity(apiResponseLocalVar);

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorDeleteBillableEntityDefaultImplementation(e, "/api/{version}/billable/delete", uriBuilderLocalVar.Path, version, deviceId, accountId);
                Events.ExecuteOnErrorDeleteBillableEntity(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="DeleteBillableEntityApiResponse"/>
        /// </summary>
        public partial class DeleteBillableEntityApiResponse : Org.OpenAPITools.Client.ApiResponse, IDeleteBillableEntityApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<DeleteBillableEntityApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="DeleteBillableEntityApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public DeleteBillableEntityApiResponse(ILogger<DeleteBillableEntityApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="DeleteBillableEntityApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public DeleteBillableEntityApiResponse(ILogger<DeleteBillableEntityApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public Org.OpenAPITools.Model.SirqulResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Org.OpenAPITools.Model.SirqulResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out Org.OpenAPITools.Model.SirqulResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatGetBillableEntity(ref decimal version, ref Option<string> deviceId, ref Option<long> accountId, ref Option<bool> includeCounts, ref Option<bool> includePayments);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="deviceId"></param>
        /// <returns></returns>
        private void ValidateGetBillableEntity(Option<string> deviceId)
        {
            if (deviceId.IsSet && deviceId.Value == null)
                throw new ArgumentNullException(nameof(deviceId));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="includeCounts"></param>
        /// <param name="includePayments"></param>
        private void AfterGetBillableEntityDefaultImplementation(IGetBillableEntityApiResponse apiResponseLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<bool> includeCounts, Option<bool> includePayments)
        {
            bool suppressDefaultLog = false;
            AfterGetBillableEntity(ref suppressDefaultLog, apiResponseLocalVar, version, deviceId, accountId, includeCounts, includePayments);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {2}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="includeCounts"></param>
        /// <param name="includePayments"></param>
        partial void AfterGetBillableEntity(ref bool suppressDefaultLog, IGetBillableEntityApiResponse apiResponseLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<bool> includeCounts, Option<bool> includePayments);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="includeCounts"></param>
        /// <param name="includePayments"></param>
        private void OnErrorGetBillableEntityDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<bool> includeCounts, Option<bool> includePayments)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorGetBillableEntity(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, version, deviceId, accountId, includeCounts, includePayments);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="includeCounts"></param>
        /// <param name="includePayments"></param>
        partial void OnErrorGetBillableEntity(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<bool> includeCounts, Option<bool> includePayments);

        /// <summary>
        /// Get Billable Used to determine the associated BillableEntity of an account
        /// </summary>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="includeCounts">Determines whether to include the retailer dash board counts into the response (optional, default to false)</param>
        /// <param name="includePayments">Whether to enable payments or not (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetBillableEntityApiResponse"/>&gt;</returns>
        public async Task<IGetBillableEntityApiResponse?> GetBillableEntityOrDefaultAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<bool> includeCounts = default, Option<bool> includePayments = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await GetBillableEntityAsync(version, deviceId, accountId, includeCounts, includePayments, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Get Billable Used to determine the associated BillableEntity of an account
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="includeCounts">Determines whether to include the retailer dash board counts into the response (optional, default to false)</param>
        /// <param name="includePayments">Whether to enable payments or not (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetBillableEntityApiResponse"/>&gt;</returns>
        public async Task<IGetBillableEntityApiResponse> GetBillableEntityAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<bool> includeCounts = default, Option<bool> includePayments = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateGetBillableEntity(deviceId);

                FormatGetBillableEntity(ref version, ref deviceId, ref accountId, ref includeCounts, ref includePayments);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/api/{version}/billable/get"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/api/{version}/billable/get");
                    uriBuilderLocalVar.Path = uriBuilderLocalVar.Path.Replace("%7Bversion%7D", Uri.EscapeDataString(version.ToString()));

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (deviceId.IsSet)
                        parseQueryStringLocalVar["deviceId"] = ClientUtils.ParameterToString(deviceId.Value);

                    if (accountId.IsSet)
                        parseQueryStringLocalVar["accountId"] = ClientUtils.ParameterToString(accountId.Value);

                    if (includeCounts.IsSet)
                        parseQueryStringLocalVar["includeCounts"] = ClientUtils.ParameterToString(includeCounts.Value);

                    if (includePayments.IsSet)
                        parseQueryStringLocalVar["includePayments"] = ClientUtils.ParameterToString(includePayments.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    string[] acceptLocalVars = new string[] {
                        "*/*"
                    };

                    IEnumerable<MediaTypeWithQualityHeaderValue> acceptHeaderValuesLocalVar = ClientUtils.SelectHeaderAcceptArray(acceptLocalVars);

                    foreach (var acceptLocalVar in acceptHeaderValuesLocalVar)
                        httpRequestMessageLocalVar.Headers.Accept.Add(acceptLocalVar);

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<GetBillableEntityApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<GetBillableEntityApiResponse>();
                        GetBillableEntityApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/api/{version}/billable/get", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterGetBillableEntityDefaultImplementation(apiResponseLocalVar, version, deviceId, accountId, includeCounts, includePayments);

                        Events.ExecuteOnGetBillableEntity(apiResponseLocalVar);

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorGetBillableEntityDefaultImplementation(e, "/api/{version}/billable/get", uriBuilderLocalVar.Path, version, deviceId, accountId, includeCounts, includePayments);
                Events.ExecuteOnErrorGetBillableEntity(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="GetBillableEntityApiResponse"/>
        /// </summary>
        public partial class GetBillableEntityApiResponse : Org.OpenAPITools.Client.ApiResponse, IGetBillableEntityApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<GetBillableEntityApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="GetBillableEntityApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetBillableEntityApiResponse(ILogger<GetBillableEntityApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="GetBillableEntityApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetBillableEntityApiResponse(ILogger<GetBillableEntityApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public Org.OpenAPITools.Model.BillableEntityResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Org.OpenAPITools.Model.BillableEntityResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out Org.OpenAPITools.Model.BillableEntityResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatUpdateBillableEntity(ref decimal version, ref Option<string> deviceId, ref Option<long> accountId, ref Option<string> name, ref Option<string> streetAddress, ref Option<string> streetAddress2, ref Option<string> city, ref Option<string> state, ref Option<string> postalCode, ref Option<string> businessPhone, ref Option<string> businessPhoneExt, ref Option<string> authorizeNetApiKey, ref Option<string> authorizeNetTransactionKey);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="deviceId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        /// <returns></returns>
        private void ValidateUpdateBillableEntity(Option<string> deviceId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey)
        {
            if (deviceId.IsSet && deviceId.Value == null)
                throw new ArgumentNullException(nameof(deviceId));

            if (name.IsSet && name.Value == null)
                throw new ArgumentNullException(nameof(name));

            if (streetAddress.IsSet && streetAddress.Value == null)
                throw new ArgumentNullException(nameof(streetAddress));

            if (streetAddress2.IsSet && streetAddress2.Value == null)
                throw new ArgumentNullException(nameof(streetAddress2));

            if (city.IsSet && city.Value == null)
                throw new ArgumentNullException(nameof(city));

            if (state.IsSet && state.Value == null)
                throw new ArgumentNullException(nameof(state));

            if (postalCode.IsSet && postalCode.Value == null)
                throw new ArgumentNullException(nameof(postalCode));

            if (businessPhone.IsSet && businessPhone.Value == null)
                throw new ArgumentNullException(nameof(businessPhone));

            if (businessPhoneExt.IsSet && businessPhoneExt.Value == null)
                throw new ArgumentNullException(nameof(businessPhoneExt));

            if (authorizeNetApiKey.IsSet && authorizeNetApiKey.Value == null)
                throw new ArgumentNullException(nameof(authorizeNetApiKey));

            if (authorizeNetTransactionKey.IsSet && authorizeNetTransactionKey.Value == null)
                throw new ArgumentNullException(nameof(authorizeNetTransactionKey));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        private void AfterUpdateBillableEntityDefaultImplementation(IUpdateBillableEntityApiResponse apiResponseLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey)
        {
            bool suppressDefaultLog = false;
            AfterUpdateBillableEntity(ref suppressDefaultLog, apiResponseLocalVar, version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {2}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        partial void AfterUpdateBillableEntity(ref bool suppressDefaultLog, IUpdateBillableEntityApiResponse apiResponseLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        private void OnErrorUpdateBillableEntityDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorUpdateBillableEntity(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="version"></param>
        /// <param name="deviceId"></param>
        /// <param name="accountId"></param>
        /// <param name="name"></param>
        /// <param name="streetAddress"></param>
        /// <param name="streetAddress2"></param>
        /// <param name="city"></param>
        /// <param name="state"></param>
        /// <param name="postalCode"></param>
        /// <param name="businessPhone"></param>
        /// <param name="businessPhoneExt"></param>
        /// <param name="authorizeNetApiKey"></param>
        /// <param name="authorizeNetTransactionKey"></param>
        partial void OnErrorUpdateBillableEntity(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, decimal version, Option<string> deviceId, Option<long> accountId, Option<string> name, Option<string> streetAddress, Option<string> streetAddress2, Option<string> city, Option<string> state, Option<string> postalCode, Option<string> businessPhone, Option<string> businessPhoneExt, Option<string> authorizeNetApiKey, Option<string> authorizeNetTransactionKey);

        /// <summary>
        /// Update Billable Updates the billable record for an account
        /// </summary>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used). The account must have rights to edit the billable entity. (optional)</param>
        /// <param name="name">The name of the entity responsible for billing  (optional)</param>
        /// <param name="streetAddress">The street address of the billable entity (optional)</param>
        /// <param name="streetAddress2">Additional address information (such as a suite number, floor number, building name, or PO Box)  (optional)</param>
        /// <param name="city">The city of the billable entity (optional)</param>
        /// <param name="state">The state of the billable entity (optional)</param>
        /// <param name="postalCode">The postal code of the billable entity (optional)</param>
        /// <param name="businessPhone">The business phone of the billable entity (optional)</param>
        /// <param name="businessPhoneExt">The business phone extension of the billable entity (optional)</param>
        /// <param name="authorizeNetApiKey">Authorize Net Api Key of the billable entity (optional)</param>
        /// <param name="authorizeNetTransactionKey">Authorize Net Transaction Key of the billable entity (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUpdateBillableEntityApiResponse"/>&gt;</returns>
        public async Task<IUpdateBillableEntityApiResponse?> UpdateBillableEntityOrDefaultAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<string> name = default, Option<string> streetAddress = default, Option<string> streetAddress2 = default, Option<string> city = default, Option<string> state = default, Option<string> postalCode = default, Option<string> businessPhone = default, Option<string> businessPhoneExt = default, Option<string> authorizeNetApiKey = default, Option<string> authorizeNetTransactionKey = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await UpdateBillableEntityAsync(version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Update Billable Updates the billable record for an account
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="version"></param>
        /// <param name="deviceId">The unique device identifier that made the request (either deviceId or accountId must be used) (optional)</param>
        /// <param name="accountId">The unique accountId that made the request (either deviceId or accountId must be used). The account must have rights to edit the billable entity. (optional)</param>
        /// <param name="name">The name of the entity responsible for billing  (optional)</param>
        /// <param name="streetAddress">The street address of the billable entity (optional)</param>
        /// <param name="streetAddress2">Additional address information (such as a suite number, floor number, building name, or PO Box)  (optional)</param>
        /// <param name="city">The city of the billable entity (optional)</param>
        /// <param name="state">The state of the billable entity (optional)</param>
        /// <param name="postalCode">The postal code of the billable entity (optional)</param>
        /// <param name="businessPhone">The business phone of the billable entity (optional)</param>
        /// <param name="businessPhoneExt">The business phone extension of the billable entity (optional)</param>
        /// <param name="authorizeNetApiKey">Authorize Net Api Key of the billable entity (optional)</param>
        /// <param name="authorizeNetTransactionKey">Authorize Net Transaction Key of the billable entity (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUpdateBillableEntityApiResponse"/>&gt;</returns>
        public async Task<IUpdateBillableEntityApiResponse> UpdateBillableEntityAsync(decimal version, Option<string> deviceId = default, Option<long> accountId = default, Option<string> name = default, Option<string> streetAddress = default, Option<string> streetAddress2 = default, Option<string> city = default, Option<string> state = default, Option<string> postalCode = default, Option<string> businessPhone = default, Option<string> businessPhoneExt = default, Option<string> authorizeNetApiKey = default, Option<string> authorizeNetTransactionKey = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateUpdateBillableEntity(deviceId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);

                FormatUpdateBillableEntity(ref version, ref deviceId, ref accountId, ref name, ref streetAddress, ref streetAddress2, ref city, ref state, ref postalCode, ref businessPhone, ref businessPhoneExt, ref authorizeNetApiKey, ref authorizeNetTransactionKey);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/api/{version}/billable/update"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/api/{version}/billable/update");
                    uriBuilderLocalVar.Path = uriBuilderLocalVar.Path.Replace("%7Bversion%7D", Uri.EscapeDataString(version.ToString()));

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (deviceId.IsSet)
                        parseQueryStringLocalVar["deviceId"] = ClientUtils.ParameterToString(deviceId.Value);

                    if (accountId.IsSet)
                        parseQueryStringLocalVar["accountId"] = ClientUtils.ParameterToString(accountId.Value);

                    if (name.IsSet)
                        parseQueryStringLocalVar["name"] = ClientUtils.ParameterToString(name.Value);

                    if (streetAddress.IsSet)
                        parseQueryStringLocalVar["streetAddress"] = ClientUtils.ParameterToString(streetAddress.Value);

                    if (streetAddress2.IsSet)
                        parseQueryStringLocalVar["streetAddress2"] = ClientUtils.ParameterToString(streetAddress2.Value);

                    if (city.IsSet)
                        parseQueryStringLocalVar["city"] = ClientUtils.ParameterToString(city.Value);

                    if (state.IsSet)
                        parseQueryStringLocalVar["state"] = ClientUtils.ParameterToString(state.Value);

                    if (postalCode.IsSet)
                        parseQueryStringLocalVar["postalCode"] = ClientUtils.ParameterToString(postalCode.Value);

                    if (businessPhone.IsSet)
                        parseQueryStringLocalVar["businessPhone"] = ClientUtils.ParameterToString(businessPhone.Value);

                    if (businessPhoneExt.IsSet)
                        parseQueryStringLocalVar["businessPhoneExt"] = ClientUtils.ParameterToString(businessPhoneExt.Value);

                    if (authorizeNetApiKey.IsSet)
                        parseQueryStringLocalVar["authorizeNetApiKey"] = ClientUtils.ParameterToString(authorizeNetApiKey.Value);

                    if (authorizeNetTransactionKey.IsSet)
                        parseQueryStringLocalVar["authorizeNetTransactionKey"] = ClientUtils.ParameterToString(authorizeNetTransactionKey.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    string[] acceptLocalVars = new string[] {
                        "*/*"
                    };

                    IEnumerable<MediaTypeWithQualityHeaderValue> acceptHeaderValuesLocalVar = ClientUtils.SelectHeaderAcceptArray(acceptLocalVars);

                    foreach (var acceptLocalVar in acceptHeaderValuesLocalVar)
                        httpRequestMessageLocalVar.Headers.Accept.Add(acceptLocalVar);

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<UpdateBillableEntityApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<UpdateBillableEntityApiResponse>();
                        UpdateBillableEntityApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/api/{version}/billable/update", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterUpdateBillableEntityDefaultImplementation(apiResponseLocalVar, version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);

                        Events.ExecuteOnUpdateBillableEntity(apiResponseLocalVar);

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorUpdateBillableEntityDefaultImplementation(e, "/api/{version}/billable/update", uriBuilderLocalVar.Path, version, deviceId, accountId, name, streetAddress, streetAddress2, city, state, postalCode, businessPhone, businessPhoneExt, authorizeNetApiKey, authorizeNetTransactionKey);
                Events.ExecuteOnErrorUpdateBillableEntity(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="UpdateBillableEntityApiResponse"/>
        /// </summary>
        public partial class UpdateBillableEntityApiResponse : Org.OpenAPITools.Client.ApiResponse, IUpdateBillableEntityApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<UpdateBillableEntityApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="UpdateBillableEntityApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public UpdateBillableEntityApiResponse(ILogger<UpdateBillableEntityApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="UpdateBillableEntityApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public UpdateBillableEntityApiResponse(ILogger<UpdateBillableEntityApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public Org.OpenAPITools.Model.BillableEntityResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<Org.OpenAPITools.Model.BillableEntityResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out Org.OpenAPITools.Model.BillableEntityResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }
    }
}
