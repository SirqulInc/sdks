=begin comment

Sirqul IoT Platform

Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>

The version of the OpenAPI document: 3.16
Contact: info@sirqul.com
Generated by: https://openapi-generator.tech

=end comment

=cut

#
# NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
# Do not edit the class manually.
# Ref: https://openapi-generator.tech
#
package WWW::OpenAPIClient::UserPermissionsApi;

require 5.6.0;
use strict;
use warnings;
use utf8;
use Exporter;
use Carp qw( croak );
use Log::Any qw($log);

use WWW::OpenAPIClient::ApiClient;

use base "Class::Data::Inheritable";

__PACKAGE__->mk_classdata('method_documentation' => {});

sub new {
    my $class = shift;
    my $api_client;

    if ($_[0] && ref $_[0] && ref $_[0] eq 'WWW::OpenAPIClient::ApiClient' ) {
        $api_client = $_[0];
    } else {
        $api_client = WWW::OpenAPIClient::ApiClient->new(@_);
    }

    bless { api_client => $api_client }, $class;

}


#
# add_users_to_permissionable
#
# Add User
#
# @param double $version  (required)
# @param string $permissionable_type the permissionable type of the object (required)
# @param int $permissionable_id the id of the permissionable object (required)
# @param string $device_id the device id (deviceId or accountId required) (optional)
# @param int $account_id the account id of the user (deviceId or accountId required) (optional)
# @param boolean $read the read permission of the users/groups (optional, default to true)
# @param boolean $write the write permission of the users/groups (optional, default to false)
# @param boolean $delete the delete permission of the users/groups (optional, default to false)
# @param boolean $add the add permission of the users/groups (optional, default to false)
# @param string $connection_ids a comma separated list of connection ids (NOT the account ids) (optional)
# @param string $connection_account_ids a comma separated list of account ids (optional)
# @param string $connection_group_ids a comma separated list of connection group ids (these are groups made by the user) (optional)
# @param boolean $pending sets whether the added users are marked as pending (and will require the album admins to accept) - admins can set this to false (to accept) (optional, default to false)
# @param boolean $admin sets whether the added users will become admins or not (optional)
# @param boolean $include_friend_group flag to determine whether to include the built-in \&quot;friends\&quot; group (optional, default to false)
# @param double $latitude the current latitude of the user (optional)
# @param double $longitude the current longitude of the user (optional)
# @param string $audience_ids comma separated list of audience ids. This is a feature only available to the permissionable&#39;s application owner (and its employees). This will add all users from these audiences to the permissionable object. Notifications will not be sent to users if this feature is used. (optional)
{
    my $params = {
    'version' => {
        data_type => 'double',
        description => '',
        required => '1',
    },
    'permissionable_type' => {
        data_type => 'string',
        description => 'the permissionable type of the object',
        required => '1',
    },
    'permissionable_id' => {
        data_type => 'int',
        description => 'the id of the permissionable object',
        required => '1',
    },
    'device_id' => {
        data_type => 'string',
        description => 'the device id (deviceId or accountId required)',
        required => '0',
    },
    'account_id' => {
        data_type => 'int',
        description => 'the account id of the user (deviceId or accountId required)',
        required => '0',
    },
    'read' => {
        data_type => 'boolean',
        description => 'the read permission of the users/groups',
        required => '0',
    },
    'write' => {
        data_type => 'boolean',
        description => 'the write permission of the users/groups',
        required => '0',
    },
    'delete' => {
        data_type => 'boolean',
        description => 'the delete permission of the users/groups',
        required => '0',
    },
    'add' => {
        data_type => 'boolean',
        description => 'the add permission of the users/groups',
        required => '0',
    },
    'connection_ids' => {
        data_type => 'string',
        description => 'a comma separated list of connection ids (NOT the account ids)',
        required => '0',
    },
    'connection_account_ids' => {
        data_type => 'string',
        description => 'a comma separated list of account ids',
        required => '0',
    },
    'connection_group_ids' => {
        data_type => 'string',
        description => 'a comma separated list of connection group ids (these are groups made by the user)',
        required => '0',
    },
    'pending' => {
        data_type => 'boolean',
        description => 'sets whether the added users are marked as pending (and will require the album admins to accept) - admins can set this to false (to accept)',
        required => '0',
    },
    'admin' => {
        data_type => 'boolean',
        description => 'sets whether the added users will become admins or not',
        required => '0',
    },
    'include_friend_group' => {
        data_type => 'boolean',
        description => 'flag to determine whether to include the built-in \&quot;friends\&quot; group',
        required => '0',
    },
    'latitude' => {
        data_type => 'double',
        description => 'the current latitude of the user',
        required => '0',
    },
    'longitude' => {
        data_type => 'double',
        description => 'the current longitude of the user',
        required => '0',
    },
    'audience_ids' => {
        data_type => 'string',
        description => 'comma separated list of audience ids. This is a feature only available to the permissionable&#39;s application owner (and its employees). This will add all users from these audiences to the permissionable object. Notifications will not be sent to users if this feature is used.',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'add_users_to_permissionable' } = {
        summary => 'Add User',
        params => $params,
        returns => 'SirqulResponse',
        };
}
# @return SirqulResponse
#
sub add_users_to_permissionable {
    my ($self, %args) = @_;

    # verify the required parameter 'version' is set
    unless (exists $args{'version'}) {
      croak("Missing the required parameter 'version' when calling add_users_to_permissionable");
    }

    # verify the required parameter 'permissionable_type' is set
    unless (exists $args{'permissionable_type'}) {
      croak("Missing the required parameter 'permissionable_type' when calling add_users_to_permissionable");
    }

    # verify the required parameter 'permissionable_id' is set
    unless (exists $args{'permissionable_id'}) {
      croak("Missing the required parameter 'permissionable_id' when calling add_users_to_permissionable");
    }

    # parse inputs
    my $_resource_path = '/api/{version}/consumer/permissions/add';

    my $_method = 'POST';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'device_id'}) {
        $query_params->{'deviceId'} = $self->{api_client}->to_query_value($args{'device_id'});
    }

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'permissionable_type'}) {
        $query_params->{'permissionableType'} = $self->{api_client}->to_query_value($args{'permissionable_type'});
    }

    # query params
    if ( exists $args{'permissionable_id'}) {
        $query_params->{'permissionableId'} = $self->{api_client}->to_query_value($args{'permissionable_id'});
    }

    # query params
    if ( exists $args{'read'}) {
        $query_params->{'read'} = $self->{api_client}->to_query_value($args{'read'});
    }

    # query params
    if ( exists $args{'write'}) {
        $query_params->{'write'} = $self->{api_client}->to_query_value($args{'write'});
    }

    # query params
    if ( exists $args{'delete'}) {
        $query_params->{'delete'} = $self->{api_client}->to_query_value($args{'delete'});
    }

    # query params
    if ( exists $args{'add'}) {
        $query_params->{'add'} = $self->{api_client}->to_query_value($args{'add'});
    }

    # query params
    if ( exists $args{'connection_ids'}) {
        $query_params->{'connectionIds'} = $self->{api_client}->to_query_value($args{'connection_ids'});
    }

    # query params
    if ( exists $args{'connection_account_ids'}) {
        $query_params->{'connectionAccountIds'} = $self->{api_client}->to_query_value($args{'connection_account_ids'});
    }

    # query params
    if ( exists $args{'connection_group_ids'}) {
        $query_params->{'connectionGroupIds'} = $self->{api_client}->to_query_value($args{'connection_group_ids'});
    }

    # query params
    if ( exists $args{'pending'}) {
        $query_params->{'pending'} = $self->{api_client}->to_query_value($args{'pending'});
    }

    # query params
    if ( exists $args{'admin'}) {
        $query_params->{'admin'} = $self->{api_client}->to_query_value($args{'admin'});
    }

    # query params
    if ( exists $args{'include_friend_group'}) {
        $query_params->{'includeFriendGroup'} = $self->{api_client}->to_query_value($args{'include_friend_group'});
    }

    # query params
    if ( exists $args{'latitude'}) {
        $query_params->{'latitude'} = $self->{api_client}->to_query_value($args{'latitude'});
    }

    # query params
    if ( exists $args{'longitude'}) {
        $query_params->{'longitude'} = $self->{api_client}->to_query_value($args{'longitude'});
    }

    # query params
    if ( exists $args{'audience_ids'}) {
        $query_params->{'audienceIds'} = $self->{api_client}->to_query_value($args{'audience_ids'});
    }

    # path params
    if ( exists $args{'version'}) {
        my $_base_variable = "{" . "version" . "}";
        my $_base_value = $self->{api_client}->to_path_value($args{'version'});
        $_resource_path =~ s/$_base_variable/$_base_value/g;
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('SirqulResponse', $response);
    return $_response_object;
}

#
# approve_permissionable
#
# Approve Permissionable
#
# @param double $version  (required)
# @param string $permissionable_type The permissionable type of the object (required)
# @param int $permissionable_id The id of the permissionable object (required)
# @param string $device_id A unique ID given by the device (deviceId or accountId required) (optional)
# @param int $account_id The account ID of the user (deviceId or accountId required) (optional)
# @param string $approval_status The approval status to set {PENDING, REJECTED, APPROVED, FEATURED} (optional, default to 'APPROVED')
{
    my $params = {
    'version' => {
        data_type => 'double',
        description => '',
        required => '1',
    },
    'permissionable_type' => {
        data_type => 'string',
        description => 'The permissionable type of the object',
        required => '1',
    },
    'permissionable_id' => {
        data_type => 'int',
        description => 'The id of the permissionable object',
        required => '1',
    },
    'device_id' => {
        data_type => 'string',
        description => 'A unique ID given by the device (deviceId or accountId required)',
        required => '0',
    },
    'account_id' => {
        data_type => 'int',
        description => 'The account ID of the user (deviceId or accountId required)',
        required => '0',
    },
    'approval_status' => {
        data_type => 'string',
        description => 'The approval status to set {PENDING, REJECTED, APPROVED, FEATURED}',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'approve_permissionable' } = {
        summary => 'Approve Permissionable',
        params => $params,
        returns => 'SirqulResponse',
        };
}
# @return SirqulResponse
#
sub approve_permissionable {
    my ($self, %args) = @_;

    # verify the required parameter 'version' is set
    unless (exists $args{'version'}) {
      croak("Missing the required parameter 'version' when calling approve_permissionable");
    }

    # verify the required parameter 'permissionable_type' is set
    unless (exists $args{'permissionable_type'}) {
      croak("Missing the required parameter 'permissionable_type' when calling approve_permissionable");
    }

    # verify the required parameter 'permissionable_id' is set
    unless (exists $args{'permissionable_id'}) {
      croak("Missing the required parameter 'permissionable_id' when calling approve_permissionable");
    }

    # parse inputs
    my $_resource_path = '/api/{version}/permissionable/approve';

    my $_method = 'POST';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'device_id'}) {
        $query_params->{'deviceId'} = $self->{api_client}->to_query_value($args{'device_id'});
    }

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'permissionable_type'}) {
        $query_params->{'permissionableType'} = $self->{api_client}->to_query_value($args{'permissionable_type'});
    }

    # query params
    if ( exists $args{'permissionable_id'}) {
        $query_params->{'permissionableId'} = $self->{api_client}->to_query_value($args{'permissionable_id'});
    }

    # query params
    if ( exists $args{'approval_status'}) {
        $query_params->{'approvalStatus'} = $self->{api_client}->to_query_value($args{'approval_status'});
    }

    # path params
    if ( exists $args{'version'}) {
        my $_base_variable = "{" . "version" . "}";
        my $_base_value = $self->{api_client}->to_path_value($args{'version'});
        $_resource_path =~ s/$_base_variable/$_base_value/g;
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('SirqulResponse', $response);
    return $_response_object;
}

#
# leave_from_permissionable
#
# Leave
#
# @param double $version  (required)
# @param string $permissionable_type the permissionable type PermissionableType (required)
# @param int $permissionable_id the id of the permissionable object (required)
# @param string $device_id the device id (deviceId or accountId required) (optional)
# @param int $account_id the account id of the user (deviceId or accountId required) (optional)
# @param double $latitude the current latitude of the user (optional)
# @param double $longitude the current longitude of the user (optional)
{
    my $params = {
    'version' => {
        data_type => 'double',
        description => '',
        required => '1',
    },
    'permissionable_type' => {
        data_type => 'string',
        description => 'the permissionable type PermissionableType',
        required => '1',
    },
    'permissionable_id' => {
        data_type => 'int',
        description => 'the id of the permissionable object',
        required => '1',
    },
    'device_id' => {
        data_type => 'string',
        description => 'the device id (deviceId or accountId required)',
        required => '0',
    },
    'account_id' => {
        data_type => 'int',
        description => 'the account id of the user (deviceId or accountId required)',
        required => '0',
    },
    'latitude' => {
        data_type => 'double',
        description => 'the current latitude of the user',
        required => '0',
    },
    'longitude' => {
        data_type => 'double',
        description => 'the current longitude of the user',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'leave_from_permissionable' } = {
        summary => 'Leave',
        params => $params,
        returns => 'SirqulResponse',
        };
}
# @return SirqulResponse
#
sub leave_from_permissionable {
    my ($self, %args) = @_;

    # verify the required parameter 'version' is set
    unless (exists $args{'version'}) {
      croak("Missing the required parameter 'version' when calling leave_from_permissionable");
    }

    # verify the required parameter 'permissionable_type' is set
    unless (exists $args{'permissionable_type'}) {
      croak("Missing the required parameter 'permissionable_type' when calling leave_from_permissionable");
    }

    # verify the required parameter 'permissionable_id' is set
    unless (exists $args{'permissionable_id'}) {
      croak("Missing the required parameter 'permissionable_id' when calling leave_from_permissionable");
    }

    # parse inputs
    my $_resource_path = '/api/{version}/consumer/permissions/leave';

    my $_method = 'POST';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'device_id'}) {
        $query_params->{'deviceId'} = $self->{api_client}->to_query_value($args{'device_id'});
    }

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'permissionable_type'}) {
        $query_params->{'permissionableType'} = $self->{api_client}->to_query_value($args{'permissionable_type'});
    }

    # query params
    if ( exists $args{'permissionable_id'}) {
        $query_params->{'permissionableId'} = $self->{api_client}->to_query_value($args{'permissionable_id'});
    }

    # query params
    if ( exists $args{'latitude'}) {
        $query_params->{'latitude'} = $self->{api_client}->to_query_value($args{'latitude'});
    }

    # query params
    if ( exists $args{'longitude'}) {
        $query_params->{'longitude'} = $self->{api_client}->to_query_value($args{'longitude'});
    }

    # path params
    if ( exists $args{'version'}) {
        my $_base_variable = "{" . "version" . "}";
        my $_base_value = $self->{api_client}->to_path_value($args{'version'});
        $_resource_path =~ s/$_base_variable/$_base_value/g;
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('SirqulResponse', $response);
    return $_response_object;
}

#
# remove_users_from_permissionable
#
# Remove User
#
# @param double $version  (required)
# @param string $permissionable_type the permissionable type of the object (required)
# @param int $permissionable_id the id of the permissionable object (required)
# @param string $device_id the device id (deviceId or accountId required) (optional)
# @param int $account_id the account id of the user (deviceId or accountId required) (optional)
# @param string $connection_ids a comma separated list of connection ids (NOT the account ids) (optional)
# @param string $connection_account_ids a comma separated list of account ids (optional)
# @param string $connection_group_ids a comma separated list of connection group ids (these are groups made by the user) (optional)
# @param boolean $remove_friend_group flag to determine whether to remove the built-in \&quot;friends\&quot; group (optional, default to false)
# @param double $latitude the current latitude of the user (optional)
# @param double $longitude the current longitude of the user (optional)
# @param string $audience_ids comma separated list of audience ids. This will remove all users from these audiences from the permissionable object. Notifications will not be sent to users if this feature is used. (optional)
{
    my $params = {
    'version' => {
        data_type => 'double',
        description => '',
        required => '1',
    },
    'permissionable_type' => {
        data_type => 'string',
        description => 'the permissionable type of the object',
        required => '1',
    },
    'permissionable_id' => {
        data_type => 'int',
        description => 'the id of the permissionable object',
        required => '1',
    },
    'device_id' => {
        data_type => 'string',
        description => 'the device id (deviceId or accountId required)',
        required => '0',
    },
    'account_id' => {
        data_type => 'int',
        description => 'the account id of the user (deviceId or accountId required)',
        required => '0',
    },
    'connection_ids' => {
        data_type => 'string',
        description => 'a comma separated list of connection ids (NOT the account ids)',
        required => '0',
    },
    'connection_account_ids' => {
        data_type => 'string',
        description => 'a comma separated list of account ids',
        required => '0',
    },
    'connection_group_ids' => {
        data_type => 'string',
        description => 'a comma separated list of connection group ids (these are groups made by the user)',
        required => '0',
    },
    'remove_friend_group' => {
        data_type => 'boolean',
        description => 'flag to determine whether to remove the built-in \&quot;friends\&quot; group',
        required => '0',
    },
    'latitude' => {
        data_type => 'double',
        description => 'the current latitude of the user',
        required => '0',
    },
    'longitude' => {
        data_type => 'double',
        description => 'the current longitude of the user',
        required => '0',
    },
    'audience_ids' => {
        data_type => 'string',
        description => 'comma separated list of audience ids. This will remove all users from these audiences from the permissionable object. Notifications will not be sent to users if this feature is used.',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'remove_users_from_permissionable' } = {
        summary => 'Remove User',
        params => $params,
        returns => 'SirqulResponse',
        };
}
# @return SirqulResponse
#
sub remove_users_from_permissionable {
    my ($self, %args) = @_;

    # verify the required parameter 'version' is set
    unless (exists $args{'version'}) {
      croak("Missing the required parameter 'version' when calling remove_users_from_permissionable");
    }

    # verify the required parameter 'permissionable_type' is set
    unless (exists $args{'permissionable_type'}) {
      croak("Missing the required parameter 'permissionable_type' when calling remove_users_from_permissionable");
    }

    # verify the required parameter 'permissionable_id' is set
    unless (exists $args{'permissionable_id'}) {
      croak("Missing the required parameter 'permissionable_id' when calling remove_users_from_permissionable");
    }

    # parse inputs
    my $_resource_path = '/api/{version}/consumer/permissions/remove';

    my $_method = 'POST';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'device_id'}) {
        $query_params->{'deviceId'} = $self->{api_client}->to_query_value($args{'device_id'});
    }

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'permissionable_type'}) {
        $query_params->{'permissionableType'} = $self->{api_client}->to_query_value($args{'permissionable_type'});
    }

    # query params
    if ( exists $args{'permissionable_id'}) {
        $query_params->{'permissionableId'} = $self->{api_client}->to_query_value($args{'permissionable_id'});
    }

    # query params
    if ( exists $args{'connection_ids'}) {
        $query_params->{'connectionIds'} = $self->{api_client}->to_query_value($args{'connection_ids'});
    }

    # query params
    if ( exists $args{'connection_account_ids'}) {
        $query_params->{'connectionAccountIds'} = $self->{api_client}->to_query_value($args{'connection_account_ids'});
    }

    # query params
    if ( exists $args{'connection_group_ids'}) {
        $query_params->{'connectionGroupIds'} = $self->{api_client}->to_query_value($args{'connection_group_ids'});
    }

    # query params
    if ( exists $args{'remove_friend_group'}) {
        $query_params->{'removeFriendGroup'} = $self->{api_client}->to_query_value($args{'remove_friend_group'});
    }

    # query params
    if ( exists $args{'latitude'}) {
        $query_params->{'latitude'} = $self->{api_client}->to_query_value($args{'latitude'});
    }

    # query params
    if ( exists $args{'longitude'}) {
        $query_params->{'longitude'} = $self->{api_client}->to_query_value($args{'longitude'});
    }

    # query params
    if ( exists $args{'audience_ids'}) {
        $query_params->{'audienceIds'} = $self->{api_client}->to_query_value($args{'audience_ids'});
    }

    # path params
    if ( exists $args{'version'}) {
        my $_base_variable = "{" . "version" . "}";
        my $_base_value = $self->{api_client}->to_path_value($args{'version'});
        $_resource_path =~ s/$_base_variable/$_base_value/g;
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('SirqulResponse', $response);
    return $_response_object;
}

#
# search_permissionables
#
# Search Permissionables
#
# @param double $version  (required)
# @param string $device_id A unique ID given by the device (deviceId or accountId required) (optional)
# @param int $account_id The account ID of the user (deviceId or accountId required) (optional)
# @param int $connection_account_id Filter results for a specific user account (optional)
# @param string $connection_account_ids Comma separated list of account IDs to filter results with (optional)
# @param string $permissionable_type Filter user permissions by the permissionable object type (optional)
# @param int $permissionable_id The id of the permissionable object to filter by (optional)
# @param string $keyword Keyword to search within permissionable records (optional)
# @param string $sort_field Field to sort results on (optional)
# @param boolean $descending Sort descending when true (optional)
# @param boolean $pending Return user permissions that are pending (optional)
# @param boolean $admin Return user permissions that are admins (optional)
# @param int $start the start index for pagination (optional, default to 0)
# @param int $limit the limit for pagination (optional, default to 20)
{
    my $params = {
    'version' => {
        data_type => 'double',
        description => '',
        required => '1',
    },
    'device_id' => {
        data_type => 'string',
        description => 'A unique ID given by the device (deviceId or accountId required)',
        required => '0',
    },
    'account_id' => {
        data_type => 'int',
        description => 'The account ID of the user (deviceId or accountId required)',
        required => '0',
    },
    'connection_account_id' => {
        data_type => 'int',
        description => 'Filter results for a specific user account',
        required => '0',
    },
    'connection_account_ids' => {
        data_type => 'string',
        description => 'Comma separated list of account IDs to filter results with',
        required => '0',
    },
    'permissionable_type' => {
        data_type => 'string',
        description => 'Filter user permissions by the permissionable object type',
        required => '0',
    },
    'permissionable_id' => {
        data_type => 'int',
        description => 'The id of the permissionable object to filter by',
        required => '0',
    },
    'keyword' => {
        data_type => 'string',
        description => 'Keyword to search within permissionable records',
        required => '0',
    },
    'sort_field' => {
        data_type => 'string',
        description => 'Field to sort results on',
        required => '0',
    },
    'descending' => {
        data_type => 'boolean',
        description => 'Sort descending when true',
        required => '0',
    },
    'pending' => {
        data_type => 'boolean',
        description => 'Return user permissions that are pending',
        required => '0',
    },
    'admin' => {
        data_type => 'boolean',
        description => 'Return user permissions that are admins',
        required => '0',
    },
    'start' => {
        data_type => 'int',
        description => 'the start index for pagination',
        required => '0',
    },
    'limit' => {
        data_type => 'int',
        description => 'the limit for pagination',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'search_permissionables' } = {
        summary => 'Search Permissionables',
        params => $params,
        returns => 'ARRAY[UserPermissionsResponse]',
        };
}
# @return ARRAY[UserPermissionsResponse]
#
sub search_permissionables {
    my ($self, %args) = @_;

    # verify the required parameter 'version' is set
    unless (exists $args{'version'}) {
      croak("Missing the required parameter 'version' when calling search_permissionables");
    }

    # parse inputs
    my $_resource_path = '/api/{version}/permissions/search';

    my $_method = 'GET';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'device_id'}) {
        $query_params->{'deviceId'} = $self->{api_client}->to_query_value($args{'device_id'});
    }

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'connection_account_id'}) {
        $query_params->{'connectionAccountId'} = $self->{api_client}->to_query_value($args{'connection_account_id'});
    }

    # query params
    if ( exists $args{'connection_account_ids'}) {
        $query_params->{'connectionAccountIds'} = $self->{api_client}->to_query_value($args{'connection_account_ids'});
    }

    # query params
    if ( exists $args{'permissionable_type'}) {
        $query_params->{'permissionableType'} = $self->{api_client}->to_query_value($args{'permissionable_type'});
    }

    # query params
    if ( exists $args{'permissionable_id'}) {
        $query_params->{'permissionableId'} = $self->{api_client}->to_query_value($args{'permissionable_id'});
    }

    # query params
    if ( exists $args{'keyword'}) {
        $query_params->{'keyword'} = $self->{api_client}->to_query_value($args{'keyword'});
    }

    # query params
    if ( exists $args{'sort_field'}) {
        $query_params->{'sortField'} = $self->{api_client}->to_query_value($args{'sort_field'});
    }

    # query params
    if ( exists $args{'descending'}) {
        $query_params->{'descending'} = $self->{api_client}->to_query_value($args{'descending'});
    }

    # query params
    if ( exists $args{'pending'}) {
        $query_params->{'pending'} = $self->{api_client}->to_query_value($args{'pending'});
    }

    # query params
    if ( exists $args{'admin'}) {
        $query_params->{'admin'} = $self->{api_client}->to_query_value($args{'admin'});
    }

    # query params
    if ( exists $args{'start'}) {
        $query_params->{'start'} = $self->{api_client}->to_query_value($args{'start'});
    }

    # query params
    if ( exists $args{'limit'}) {
        $query_params->{'limit'} = $self->{api_client}->to_query_value($args{'limit'});
    }

    # path params
    if ( exists $args{'version'}) {
        my $_base_variable = "{" . "version" . "}";
        my $_base_value = $self->{api_client}->to_path_value($args{'version'});
        $_resource_path =~ s/$_base_variable/$_base_value/g;
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('ARRAY[UserPermissionsResponse]', $response);
    return $_response_object;
}

#
# search_permissionables_following_distance
#
# Search Permissionables by Distnace
#
# @param double $version  (required)
# @param double $latitude The latitude of the current account (required)
# @param double $longitude The longitude of the current account (required)
# @param string $device_id A unique ID given by the device (deviceId or accountId required) (optional)
# @param int $account_id The account ID of the user (deviceId or accountId required) (optional)
# @param int $connection_account_id Filter results for a specific user account (optional)
# @param string $connection_account_ids Comma separated list of account IDs to filter results with (optional)
# @param string $permissionable_type Filter user permissions by the permissionable object type (optional)
# @param int $permissionable_id The id of the permissionable object to filter by (optional)
# @param double $search_range The search range in miles (optional, default to 5)
# @param string $keyword Keyword to search within permissionable records (optional)
# @param boolean $pending Return user permissions that are pending (optional)
# @param boolean $admin Return user permissions that are admins (optional)
# @param int $start The start index for pagination (optional, default to 0)
# @param int $limit The limit for pagination (optional, default to 20)
{
    my $params = {
    'version' => {
        data_type => 'double',
        description => '',
        required => '1',
    },
    'latitude' => {
        data_type => 'double',
        description => 'The latitude of the current account',
        required => '1',
    },
    'longitude' => {
        data_type => 'double',
        description => 'The longitude of the current account',
        required => '1',
    },
    'device_id' => {
        data_type => 'string',
        description => 'A unique ID given by the device (deviceId or accountId required)',
        required => '0',
    },
    'account_id' => {
        data_type => 'int',
        description => 'The account ID of the user (deviceId or accountId required)',
        required => '0',
    },
    'connection_account_id' => {
        data_type => 'int',
        description => 'Filter results for a specific user account',
        required => '0',
    },
    'connection_account_ids' => {
        data_type => 'string',
        description => 'Comma separated list of account IDs to filter results with',
        required => '0',
    },
    'permissionable_type' => {
        data_type => 'string',
        description => 'Filter user permissions by the permissionable object type',
        required => '0',
    },
    'permissionable_id' => {
        data_type => 'int',
        description => 'The id of the permissionable object to filter by',
        required => '0',
    },
    'search_range' => {
        data_type => 'double',
        description => 'The search range in miles',
        required => '0',
    },
    'keyword' => {
        data_type => 'string',
        description => 'Keyword to search within permissionable records',
        required => '0',
    },
    'pending' => {
        data_type => 'boolean',
        description => 'Return user permissions that are pending',
        required => '0',
    },
    'admin' => {
        data_type => 'boolean',
        description => 'Return user permissions that are admins',
        required => '0',
    },
    'start' => {
        data_type => 'int',
        description => 'The start index for pagination',
        required => '0',
    },
    'limit' => {
        data_type => 'int',
        description => 'The limit for pagination',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'search_permissionables_following_distance' } = {
        summary => 'Search Permissionables by Distnace',
        params => $params,
        returns => 'ARRAY[UserPermissionsResponse]',
        };
}
# @return ARRAY[UserPermissionsResponse]
#
sub search_permissionables_following_distance {
    my ($self, %args) = @_;

    # verify the required parameter 'version' is set
    unless (exists $args{'version'}) {
      croak("Missing the required parameter 'version' when calling search_permissionables_following_distance");
    }

    # verify the required parameter 'latitude' is set
    unless (exists $args{'latitude'}) {
      croak("Missing the required parameter 'latitude' when calling search_permissionables_following_distance");
    }

    # verify the required parameter 'longitude' is set
    unless (exists $args{'longitude'}) {
      croak("Missing the required parameter 'longitude' when calling search_permissionables_following_distance");
    }

    # parse inputs
    my $_resource_path = '/api/{version}/permissions/distancesearch';

    my $_method = 'GET';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'device_id'}) {
        $query_params->{'deviceId'} = $self->{api_client}->to_query_value($args{'device_id'});
    }

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'connection_account_id'}) {
        $query_params->{'connectionAccountId'} = $self->{api_client}->to_query_value($args{'connection_account_id'});
    }

    # query params
    if ( exists $args{'connection_account_ids'}) {
        $query_params->{'connectionAccountIds'} = $self->{api_client}->to_query_value($args{'connection_account_ids'});
    }

    # query params
    if ( exists $args{'permissionable_type'}) {
        $query_params->{'permissionableType'} = $self->{api_client}->to_query_value($args{'permissionable_type'});
    }

    # query params
    if ( exists $args{'permissionable_id'}) {
        $query_params->{'permissionableId'} = $self->{api_client}->to_query_value($args{'permissionable_id'});
    }

    # query params
    if ( exists $args{'latitude'}) {
        $query_params->{'latitude'} = $self->{api_client}->to_query_value($args{'latitude'});
    }

    # query params
    if ( exists $args{'longitude'}) {
        $query_params->{'longitude'} = $self->{api_client}->to_query_value($args{'longitude'});
    }

    # query params
    if ( exists $args{'search_range'}) {
        $query_params->{'searchRange'} = $self->{api_client}->to_query_value($args{'search_range'});
    }

    # query params
    if ( exists $args{'keyword'}) {
        $query_params->{'keyword'} = $self->{api_client}->to_query_value($args{'keyword'});
    }

    # query params
    if ( exists $args{'pending'}) {
        $query_params->{'pending'} = $self->{api_client}->to_query_value($args{'pending'});
    }

    # query params
    if ( exists $args{'admin'}) {
        $query_params->{'admin'} = $self->{api_client}->to_query_value($args{'admin'});
    }

    # query params
    if ( exists $args{'start'}) {
        $query_params->{'start'} = $self->{api_client}->to_query_value($args{'start'});
    }

    # query params
    if ( exists $args{'limit'}) {
        $query_params->{'limit'} = $self->{api_client}->to_query_value($args{'limit'});
    }

    # path params
    if ( exists $args{'version'}) {
        my $_base_variable = "{" . "version" . "}";
        my $_base_value = $self->{api_client}->to_path_value($args{'version'});
        $_resource_path =~ s/$_base_variable/$_base_value/g;
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('ARRAY[UserPermissionsResponse]', $response);
    return $_response_object;
}

1;
