=begin comment

Sirqul IoT Platform

Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>

The version of the OpenAPI document: 3.16
Contact: info@sirqul.com
Generated by: https://openapi-generator.tech

=end comment

=cut

#
# NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
# Do not edit the class manually.
# Ref: https://openapi-generator.tech
#
package WWW::OpenAPIClient::FilterApi;

require 5.6.0;
use strict;
use warnings;
use utf8;
use Exporter;
use Carp qw( croak );
use Log::Any qw($log);

use WWW::OpenAPIClient::ApiClient;

use base "Class::Data::Inheritable";

__PACKAGE__->mk_classdata('method_documentation' => {});

sub new {
    my $class = shift;
    my $api_client;

    if ($_[0] && ref $_[0] && ref $_[0] eq 'WWW::OpenAPIClient::ApiClient' ) {
        $api_client = $_[0];
    } else {
        $api_client = WWW::OpenAPIClient::ApiClient->new(@_);
    }

    bless { api_client => $api_client }, $class;

}


#
# create_filter
#
# Create Filter
#
# @param int $account_id The account id of the user (must have permissions to the target application) (required)
# @param string $name The name of the filter (required)
# @param string $app_key The appKey of the application to assign the filter to, if not provided then the filter will be applied to the global application (if the account has permissions) (optional)
# @param int $parent_filter_id The ID of the parent filter, if not provided then the parent filter will be null (optional)
# @param string $description The description of the filter (optional)
# @param string $external_id A string identifier used by client applications to store external information (optional)
# @param string $external_type A string type used by client applications to store external information (optional)
# @param boolean $active Sets whether the filter is active or inactive (hidden from consumers) (optional)
# @param string $meta_data external custom client defined data (optional)
{
    my $params = {
    'account_id' => {
        data_type => 'int',
        description => 'The account id of the user (must have permissions to the target application)',
        required => '1',
    },
    'name' => {
        data_type => 'string',
        description => 'The name of the filter',
        required => '1',
    },
    'app_key' => {
        data_type => 'string',
        description => 'The appKey of the application to assign the filter to, if not provided then the filter will be applied to the global application (if the account has permissions)',
        required => '0',
    },
    'parent_filter_id' => {
        data_type => 'int',
        description => 'The ID of the parent filter, if not provided then the parent filter will be null',
        required => '0',
    },
    'description' => {
        data_type => 'string',
        description => 'The description of the filter',
        required => '0',
    },
    'external_id' => {
        data_type => 'string',
        description => 'A string identifier used by client applications to store external information',
        required => '0',
    },
    'external_type' => {
        data_type => 'string',
        description => 'A string type used by client applications to store external information',
        required => '0',
    },
    'active' => {
        data_type => 'boolean',
        description => 'Sets whether the filter is active or inactive (hidden from consumers)',
        required => '0',
    },
    'meta_data' => {
        data_type => 'string',
        description => 'external custom client defined data',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'create_filter' } = {
        summary => 'Create Filter',
        params => $params,
        returns => 'FilterTreeResponse',
        };
}
# @return FilterTreeResponse
#
sub create_filter {
    my ($self, %args) = @_;

    # verify the required parameter 'account_id' is set
    unless (exists $args{'account_id'}) {
      croak("Missing the required parameter 'account_id' when calling create_filter");
    }

    # verify the required parameter 'name' is set
    unless (exists $args{'name'}) {
      croak("Missing the required parameter 'name' when calling create_filter");
    }

    # parse inputs
    my $_resource_path = '/filter/create';

    my $_method = 'POST';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'app_key'}) {
        $query_params->{'appKey'} = $self->{api_client}->to_query_value($args{'app_key'});
    }

    # query params
    if ( exists $args{'parent_filter_id'}) {
        $query_params->{'parentFilterId'} = $self->{api_client}->to_query_value($args{'parent_filter_id'});
    }

    # query params
    if ( exists $args{'name'}) {
        $query_params->{'name'} = $self->{api_client}->to_query_value($args{'name'});
    }

    # query params
    if ( exists $args{'description'}) {
        $query_params->{'description'} = $self->{api_client}->to_query_value($args{'description'});
    }

    # query params
    if ( exists $args{'external_id'}) {
        $query_params->{'externalId'} = $self->{api_client}->to_query_value($args{'external_id'});
    }

    # query params
    if ( exists $args{'external_type'}) {
        $query_params->{'externalType'} = $self->{api_client}->to_query_value($args{'external_type'});
    }

    # query params
    if ( exists $args{'active'}) {
        $query_params->{'active'} = $self->{api_client}->to_query_value($args{'active'});
    }

    # query params
    if ( exists $args{'meta_data'}) {
        $query_params->{'metaData'} = $self->{api_client}->to_query_value($args{'meta_data'});
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('FilterTreeResponse', $response);
    return $_response_object;
}

#
# delete_filter
#
# Delete Filter
#
# @param int $account_id The account id of the user (must have permissions to the filter&#39;s assigned application) (required)
# @param int $filter_id The ID of the filter to delete (required)
{
    my $params = {
    'account_id' => {
        data_type => 'int',
        description => 'The account id of the user (must have permissions to the filter&#39;s assigned application)',
        required => '1',
    },
    'filter_id' => {
        data_type => 'int',
        description => 'The ID of the filter to delete',
        required => '1',
    },
    };
    __PACKAGE__->method_documentation->{ 'delete_filter' } = {
        summary => 'Delete Filter',
        params => $params,
        returns => 'SirqulResponse',
        };
}
# @return SirqulResponse
#
sub delete_filter {
    my ($self, %args) = @_;

    # verify the required parameter 'account_id' is set
    unless (exists $args{'account_id'}) {
      croak("Missing the required parameter 'account_id' when calling delete_filter");
    }

    # verify the required parameter 'filter_id' is set
    unless (exists $args{'filter_id'}) {
      croak("Missing the required parameter 'filter_id' when calling delete_filter");
    }

    # parse inputs
    my $_resource_path = '/filter/delete';

    my $_method = 'POST';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'filter_id'}) {
        $query_params->{'filterId'} = $self->{api_client}->to_query_value($args{'filter_id'});
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('SirqulResponse', $response);
    return $_response_object;
}

#
# get_filter
#
# Get Filter
#
# @param int $filter_id the id of the filter to get (required)
{
    my $params = {
    'filter_id' => {
        data_type => 'int',
        description => 'the id of the filter to get',
        required => '1',
    },
    };
    __PACKAGE__->method_documentation->{ 'get_filter' } = {
        summary => 'Get Filter',
        params => $params,
        returns => 'FilterTreeResponse',
        };
}
# @return FilterTreeResponse
#
sub get_filter {
    my ($self, %args) = @_;

    # verify the required parameter 'filter_id' is set
    unless (exists $args{'filter_id'}) {
      croak("Missing the required parameter 'filter_id' when calling get_filter");
    }

    # parse inputs
    my $_resource_path = '/filter/get';

    my $_method = 'GET';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'filter_id'}) {
        $query_params->{'filterId'} = $self->{api_client}->to_query_value($args{'filter_id'});
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('FilterTreeResponse', $response);
    return $_response_object;
}

#
# search_filters
#
# Search Filters
#
# @param int $account_id The account id of the user (optional)
# @param string $keyword The string to search on (optional)
# @param string $app_key the appKey of the application to retrieve filters for (optional)
# @param string $response_group The group of filters to return: ALL, GLOBAL or MINE. ALL returns both global and application specific matches, GLOBAL only returns global matches, and MINE only returns the application specific matches. If not provided search on the application provided. (optional)
# @param boolean $root_only Restrict the search to only those filters with no parent filter assigned. (optional)
# @param string $sort_field The column to sort the search on. Possible values include: ID, CREATED, UPDATED, ACTIVE, NAME, DISPLAY (optional, default to 'DISPLAY')
# @param boolean $descending The order to return the search results (optional, default to false)
# @param int $start The record to begin the return set on (optional, default to 0)
# @param int $limit The number of records to return (optional, default to 20)
# @param boolean $active_only Determines whether to return only active categories (optional, default to true)
{
    my $params = {
    'account_id' => {
        data_type => 'int',
        description => 'The account id of the user',
        required => '0',
    },
    'keyword' => {
        data_type => 'string',
        description => 'The string to search on',
        required => '0',
    },
    'app_key' => {
        data_type => 'string',
        description => 'the appKey of the application to retrieve filters for',
        required => '0',
    },
    'response_group' => {
        data_type => 'string',
        description => 'The group of filters to return: ALL, GLOBAL or MINE. ALL returns both global and application specific matches, GLOBAL only returns global matches, and MINE only returns the application specific matches. If not provided search on the application provided.',
        required => '0',
    },
    'root_only' => {
        data_type => 'boolean',
        description => 'Restrict the search to only those filters with no parent filter assigned.',
        required => '0',
    },
    'sort_field' => {
        data_type => 'string',
        description => 'The column to sort the search on. Possible values include: ID, CREATED, UPDATED, ACTIVE, NAME, DISPLAY',
        required => '0',
    },
    'descending' => {
        data_type => 'boolean',
        description => 'The order to return the search results',
        required => '0',
    },
    'start' => {
        data_type => 'int',
        description => 'The record to begin the return set on',
        required => '0',
    },
    'limit' => {
        data_type => 'int',
        description => 'The number of records to return',
        required => '0',
    },
    'active_only' => {
        data_type => 'boolean',
        description => 'Determines whether to return only active categories',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'search_filters' } = {
        summary => 'Search Filters',
        params => $params,
        returns => 'ARRAY[FilterResponse]',
        };
}
# @return ARRAY[FilterResponse]
#
sub search_filters {
    my ($self, %args) = @_;

    # parse inputs
    my $_resource_path = '/filter/search';

    my $_method = 'GET';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'keyword'}) {
        $query_params->{'keyword'} = $self->{api_client}->to_query_value($args{'keyword'});
    }

    # query params
    if ( exists $args{'app_key'}) {
        $query_params->{'appKey'} = $self->{api_client}->to_query_value($args{'app_key'});
    }

    # query params
    if ( exists $args{'response_group'}) {
        $query_params->{'responseGroup'} = $self->{api_client}->to_query_value($args{'response_group'});
    }

    # query params
    if ( exists $args{'root_only'}) {
        $query_params->{'rootOnly'} = $self->{api_client}->to_query_value($args{'root_only'});
    }

    # query params
    if ( exists $args{'sort_field'}) {
        $query_params->{'sortField'} = $self->{api_client}->to_query_value($args{'sort_field'});
    }

    # query params
    if ( exists $args{'descending'}) {
        $query_params->{'descending'} = $self->{api_client}->to_query_value($args{'descending'});
    }

    # query params
    if ( exists $args{'start'}) {
        $query_params->{'start'} = $self->{api_client}->to_query_value($args{'start'});
    }

    # query params
    if ( exists $args{'limit'}) {
        $query_params->{'limit'} = $self->{api_client}->to_query_value($args{'limit'});
    }

    # query params
    if ( exists $args{'active_only'}) {
        $query_params->{'activeOnly'} = $self->{api_client}->to_query_value($args{'active_only'});
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('ARRAY[FilterResponse]', $response);
    return $_response_object;
}

#
# update_filter
#
# Update Filter
#
# @param int $account_id The account id of the user (required)
# @param int $filter_id The ID of the filter to edit (required)
# @param int $parent_filter_id The ID of the parent filter, if not provided then the parent filter will be null (optional)
# @param string $name The name of the filter (optional)
# @param string $description The description of the filter (optional)
# @param string $external_id A string identifier used by client applications to store external information (optional)
# @param string $external_type A string type used by client applications to store external information (optional)
# @param boolean $active Sets whether the filter is active or inactive (hidden from consumers) (optional)
# @param string $meta_data external custom client defined data (optional)
{
    my $params = {
    'account_id' => {
        data_type => 'int',
        description => 'The account id of the user',
        required => '1',
    },
    'filter_id' => {
        data_type => 'int',
        description => 'The ID of the filter to edit',
        required => '1',
    },
    'parent_filter_id' => {
        data_type => 'int',
        description => 'The ID of the parent filter, if not provided then the parent filter will be null',
        required => '0',
    },
    'name' => {
        data_type => 'string',
        description => 'The name of the filter',
        required => '0',
    },
    'description' => {
        data_type => 'string',
        description => 'The description of the filter',
        required => '0',
    },
    'external_id' => {
        data_type => 'string',
        description => 'A string identifier used by client applications to store external information',
        required => '0',
    },
    'external_type' => {
        data_type => 'string',
        description => 'A string type used by client applications to store external information',
        required => '0',
    },
    'active' => {
        data_type => 'boolean',
        description => 'Sets whether the filter is active or inactive (hidden from consumers)',
        required => '0',
    },
    'meta_data' => {
        data_type => 'string',
        description => 'external custom client defined data',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'update_filter' } = {
        summary => 'Update Filter',
        params => $params,
        returns => 'FilterTreeResponse',
        };
}
# @return FilterTreeResponse
#
sub update_filter {
    my ($self, %args) = @_;

    # verify the required parameter 'account_id' is set
    unless (exists $args{'account_id'}) {
      croak("Missing the required parameter 'account_id' when calling update_filter");
    }

    # verify the required parameter 'filter_id' is set
    unless (exists $args{'filter_id'}) {
      croak("Missing the required parameter 'filter_id' when calling update_filter");
    }

    # parse inputs
    my $_resource_path = '/filter/update';

    my $_method = 'POST';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'account_id'}) {
        $query_params->{'accountId'} = $self->{api_client}->to_query_value($args{'account_id'});
    }

    # query params
    if ( exists $args{'filter_id'}) {
        $query_params->{'filterId'} = $self->{api_client}->to_query_value($args{'filter_id'});
    }

    # query params
    if ( exists $args{'parent_filter_id'}) {
        $query_params->{'parentFilterId'} = $self->{api_client}->to_query_value($args{'parent_filter_id'});
    }

    # query params
    if ( exists $args{'name'}) {
        $query_params->{'name'} = $self->{api_client}->to_query_value($args{'name'});
    }

    # query params
    if ( exists $args{'description'}) {
        $query_params->{'description'} = $self->{api_client}->to_query_value($args{'description'});
    }

    # query params
    if ( exists $args{'external_id'}) {
        $query_params->{'externalId'} = $self->{api_client}->to_query_value($args{'external_id'});
    }

    # query params
    if ( exists $args{'external_type'}) {
        $query_params->{'externalType'} = $self->{api_client}->to_query_value($args{'external_type'});
    }

    # query params
    if ( exists $args{'active'}) {
        $query_params->{'active'} = $self->{api_client}->to_query_value($args{'active'});
    }

    # query params
    if ( exists $args{'meta_data'}) {
        $query_params->{'metaData'} = $self->{api_client}->to_query_value($args{'meta_data'});
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw()];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('FilterTreeResponse', $response);
    return $_response_object;
}

1;
