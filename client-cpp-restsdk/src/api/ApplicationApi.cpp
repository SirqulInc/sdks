/**
 * Sirqul IoT Platform
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 *
 * NOTE: This class is auto generated by OpenAPI-Generator 7.20.0-SNAPSHOT.
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


#include "CppRestOpenAPIClient/api/ApplicationApi.h"
#include "CppRestOpenAPIClient/IHttpBody.h"
#include "CppRestOpenAPIClient/JsonBody.h"
#include "CppRestOpenAPIClient/MultipartFormData.h"

#include <boost/algorithm/string/replace.hpp>

#include <unordered_set>

namespace org {
namespace openapitools {
namespace client {
namespace api {

using namespace org::openapitools::client::model;

ApplicationApi::ApplicationApi( std::shared_ptr<const ApiClient> apiClient )
    : m_ApiClient(apiClient)
{
}

ApplicationApi::~ApplicationApi()
{
}

pplx::task<std::shared_ptr<ApplicationResponse>> ApplicationApi::createApplication(double version, utility::string_t appName, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<utility::string_t> about, boost::optional<utility::string_t> bundleId, boost::optional<int64_t> appIconAssetId, boost::optional<int64_t> appLogoAssetId, boost::optional<utility::string_t> facebookAppId, boost::optional<utility::string_t> facebookAppSecret, boost::optional<utility::string_t> googleApiKey, boost::optional<bool> updateEULADate, boost::optional<utility::string_t> eulaVersion, boost::optional<utility::string_t> landingPageUrl, boost::optional<bool> showInActivities, boost::optional<utility::string_t> activityDescription, boost::optional<utility::string_t> inviteWelcomeText, boost::optional<utility::string_t> invitePageUrl, boost::optional<utility::string_t> urlScheme, boost::optional<utility::string_t> platforms, boost::optional<utility::string_t> downloadUrls, boost::optional<utility::string_t> categoryIds, boost::optional<utility::string_t> scoringType, boost::optional<int32_t> hintCost, boost::optional<int32_t> maxScore, boost::optional<float> ticketsPerPoint, boost::optional<bool> hasGameData, boost::optional<bool> publicNotifications, boost::optional<bool> useMatchingAlgorithm, boost::optional<bool> globalTickets, boost::optional<float> buildVersion, boost::optional<float> apiVersion, boost::optional<utility::string_t> placementName, boost::optional<utility::string_t> placementDescription, boost::optional<utility::string_t> placementSize, boost::optional<int32_t> placementHeight, boost::optional<int32_t> placementWidth, boost::optional<int32_t> placementRefreshInterval, boost::optional<bool> createObjectStore, boost::optional<bool> publicContentApproval, boost::optional<bool> productionMode, boost::optional<int32_t> minimumSessionLength, boost::optional<int32_t> sessionGapLength, boost::optional<bool> localAdsEnabled, boost::optional<utility::string_t> sqootApiKey, boost::optional<utility::string_t> trilatProcessingType, boost::optional<int32_t> maxSampleSize, boost::optional<double> minRSSI, boost::optional<utility::string_t> modules, boost::optional<int32_t> authorizedCount, boost::optional<utility::string_t> authorizedServers, boost::optional<utility::string_t> defaultTimezone, boost::optional<utility::string_t> smtpPass, boost::optional<utility::string_t> metaData, boost::optional<utility::string_t> placementMetaData, boost::optional<bool> ipsFloor, boost::optional<bool> enableAPNSBadge, boost::optional<bool> includeInReport, boost::optional<int64_t> defaultAppFilterId, boost::optional<bool> enableWelcomeEmail, boost::optional<utility::string_t> appleAppId, boost::optional<utility::string_t> appleTeamId, boost::optional<utility::string_t> appleAuthKeyId, boost::optional<std::shared_ptr<HttpContent>> appleAuthKey, boost::optional<utility::string_t> appleIssuerId, boost::optional<utility::string_t> appStoreKeyId, boost::optional<std::shared_ptr<HttpContent>> appStoreKey, boost::optional<std::shared_ptr<HttpContent>> googlePrivateKeyFile, boost::optional<utility::string_t> authorizeNetApiKey, boost::optional<utility::string_t> authorizeNetTransactionKey, boost::optional<utility::string_t> emailSender, boost::optional<utility::string_t> smtpUser, boost::optional<utility::string_t> smtpHost, boost::optional<utility::string_t> vatomBusinessId, boost::optional<utility::string_t> vatomRestClientId, boost::optional<utility::string_t> vatomRestSecretKey, boost::optional<utility::string_t> twilioAccountSID, boost::optional<utility::string_t> twilioAuthToken, boost::optional<utility::string_t> twilioSenderPhoneNumber, boost::optional<utility::string_t> openAISecretKey) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/create");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->createApplication does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("appName")] = ApiClient::parameterToString(appName);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (about)
    {
        localVarQueryParams[utility::conversions::to_string_t("about")] = ApiClient::parameterToString(*about);
    }
    if (bundleId)
    {
        localVarQueryParams[utility::conversions::to_string_t("bundleId")] = ApiClient::parameterToString(*bundleId);
    }
    if (appIconAssetId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appIconAssetId")] = ApiClient::parameterToString(*appIconAssetId);
    }
    if (appLogoAssetId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appLogoAssetId")] = ApiClient::parameterToString(*appLogoAssetId);
    }
    if (facebookAppId)
    {
        localVarQueryParams[utility::conversions::to_string_t("facebookAppId")] = ApiClient::parameterToString(*facebookAppId);
    }
    if (facebookAppSecret)
    {
        localVarQueryParams[utility::conversions::to_string_t("facebookAppSecret")] = ApiClient::parameterToString(*facebookAppSecret);
    }
    if (googleApiKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("googleApiKey")] = ApiClient::parameterToString(*googleApiKey);
    }
    if (updateEULADate)
    {
        localVarQueryParams[utility::conversions::to_string_t("updateEULADate")] = ApiClient::parameterToString(*updateEULADate);
    }
    if (eulaVersion)
    {
        localVarQueryParams[utility::conversions::to_string_t("eulaVersion")] = ApiClient::parameterToString(*eulaVersion);
    }
    if (landingPageUrl)
    {
        localVarQueryParams[utility::conversions::to_string_t("landingPageUrl")] = ApiClient::parameterToString(*landingPageUrl);
    }
    if (showInActivities)
    {
        localVarQueryParams[utility::conversions::to_string_t("showInActivities")] = ApiClient::parameterToString(*showInActivities);
    }
    if (activityDescription)
    {
        localVarQueryParams[utility::conversions::to_string_t("activityDescription")] = ApiClient::parameterToString(*activityDescription);
    }
    if (inviteWelcomeText)
    {
        localVarQueryParams[utility::conversions::to_string_t("inviteWelcomeText")] = ApiClient::parameterToString(*inviteWelcomeText);
    }
    if (invitePageUrl)
    {
        localVarQueryParams[utility::conversions::to_string_t("invitePageUrl")] = ApiClient::parameterToString(*invitePageUrl);
    }
    if (urlScheme)
    {
        localVarQueryParams[utility::conversions::to_string_t("urlScheme")] = ApiClient::parameterToString(*urlScheme);
    }
    if (platforms)
    {
        localVarQueryParams[utility::conversions::to_string_t("platforms")] = ApiClient::parameterToString(*platforms);
    }
    if (downloadUrls)
    {
        localVarQueryParams[utility::conversions::to_string_t("downloadUrls")] = ApiClient::parameterToString(*downloadUrls);
    }
    if (categoryIds)
    {
        localVarQueryParams[utility::conversions::to_string_t("categoryIds")] = ApiClient::parameterToString(*categoryIds);
    }
    if (scoringType)
    {
        localVarQueryParams[utility::conversions::to_string_t("scoringType")] = ApiClient::parameterToString(*scoringType);
    }
    if (hintCost)
    {
        localVarQueryParams[utility::conversions::to_string_t("hintCost")] = ApiClient::parameterToString(*hintCost);
    }
    if (maxScore)
    {
        localVarQueryParams[utility::conversions::to_string_t("maxScore")] = ApiClient::parameterToString(*maxScore);
    }
    if (ticketsPerPoint)
    {
        localVarQueryParams[utility::conversions::to_string_t("ticketsPerPoint")] = ApiClient::parameterToString(*ticketsPerPoint);
    }
    if (hasGameData)
    {
        localVarQueryParams[utility::conversions::to_string_t("hasGameData")] = ApiClient::parameterToString(*hasGameData);
    }
    if (publicNotifications)
    {
        localVarQueryParams[utility::conversions::to_string_t("publicNotifications")] = ApiClient::parameterToString(*publicNotifications);
    }
    if (useMatchingAlgorithm)
    {
        localVarQueryParams[utility::conversions::to_string_t("useMatchingAlgorithm")] = ApiClient::parameterToString(*useMatchingAlgorithm);
    }
    if (globalTickets)
    {
        localVarQueryParams[utility::conversions::to_string_t("globalTickets")] = ApiClient::parameterToString(*globalTickets);
    }
    if (buildVersion)
    {
        localVarQueryParams[utility::conversions::to_string_t("buildVersion")] = ApiClient::parameterToString(*buildVersion);
    }
    if (apiVersion)
    {
        localVarQueryParams[utility::conversions::to_string_t("apiVersion")] = ApiClient::parameterToString(*apiVersion);
    }
    if (placementName)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementName")] = ApiClient::parameterToString(*placementName);
    }
    if (placementDescription)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementDescription")] = ApiClient::parameterToString(*placementDescription);
    }
    if (placementSize)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementSize")] = ApiClient::parameterToString(*placementSize);
    }
    if (placementHeight)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementHeight")] = ApiClient::parameterToString(*placementHeight);
    }
    if (placementWidth)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementWidth")] = ApiClient::parameterToString(*placementWidth);
    }
    if (placementRefreshInterval)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementRefreshInterval")] = ApiClient::parameterToString(*placementRefreshInterval);
    }
    if (createObjectStore)
    {
        localVarQueryParams[utility::conversions::to_string_t("createObjectStore")] = ApiClient::parameterToString(*createObjectStore);
    }
    if (publicContentApproval)
    {
        localVarQueryParams[utility::conversions::to_string_t("publicContentApproval")] = ApiClient::parameterToString(*publicContentApproval);
    }
    if (productionMode)
    {
        localVarQueryParams[utility::conversions::to_string_t("productionMode")] = ApiClient::parameterToString(*productionMode);
    }
    if (minimumSessionLength)
    {
        localVarQueryParams[utility::conversions::to_string_t("minimumSessionLength")] = ApiClient::parameterToString(*minimumSessionLength);
    }
    if (sessionGapLength)
    {
        localVarQueryParams[utility::conversions::to_string_t("sessionGapLength")] = ApiClient::parameterToString(*sessionGapLength);
    }
    if (localAdsEnabled)
    {
        localVarQueryParams[utility::conversions::to_string_t("localAdsEnabled")] = ApiClient::parameterToString(*localAdsEnabled);
    }
    if (sqootApiKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("sqootApiKey")] = ApiClient::parameterToString(*sqootApiKey);
    }
    if (trilatProcessingType)
    {
        localVarQueryParams[utility::conversions::to_string_t("trilatProcessingType")] = ApiClient::parameterToString(*trilatProcessingType);
    }
    if (maxSampleSize)
    {
        localVarQueryParams[utility::conversions::to_string_t("maxSampleSize")] = ApiClient::parameterToString(*maxSampleSize);
    }
    if (minRSSI)
    {
        localVarQueryParams[utility::conversions::to_string_t("minRSSI")] = ApiClient::parameterToString(*minRSSI);
    }
    if (modules)
    {
        localVarQueryParams[utility::conversions::to_string_t("modules")] = ApiClient::parameterToString(*modules);
    }
    if (authorizedCount)
    {
        localVarQueryParams[utility::conversions::to_string_t("authorizedCount")] = ApiClient::parameterToString(*authorizedCount);
    }
    if (authorizedServers)
    {
        localVarQueryParams[utility::conversions::to_string_t("authorizedServers")] = ApiClient::parameterToString(*authorizedServers);
    }
    if (defaultTimezone)
    {
        localVarQueryParams[utility::conversions::to_string_t("defaultTimezone")] = ApiClient::parameterToString(*defaultTimezone);
    }
    if (smtpPass)
    {
        localVarQueryParams[utility::conversions::to_string_t("smtpPass")] = ApiClient::parameterToString(*smtpPass);
    }
    if (metaData)
    {
        localVarQueryParams[utility::conversions::to_string_t("metaData")] = ApiClient::parameterToString(*metaData);
    }
    if (placementMetaData)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementMetaData")] = ApiClient::parameterToString(*placementMetaData);
    }
    if (ipsFloor)
    {
        localVarQueryParams[utility::conversions::to_string_t("ipsFloor")] = ApiClient::parameterToString(*ipsFloor);
    }
    if (enableAPNSBadge)
    {
        localVarQueryParams[utility::conversions::to_string_t("enableAPNSBadge")] = ApiClient::parameterToString(*enableAPNSBadge);
    }
    if (includeInReport)
    {
        localVarQueryParams[utility::conversions::to_string_t("includeInReport")] = ApiClient::parameterToString(*includeInReport);
    }
    if (defaultAppFilterId)
    {
        localVarQueryParams[utility::conversions::to_string_t("defaultAppFilterId")] = ApiClient::parameterToString(*defaultAppFilterId);
    }
    if (enableWelcomeEmail)
    {
        localVarQueryParams[utility::conversions::to_string_t("enableWelcomeEmail")] = ApiClient::parameterToString(*enableWelcomeEmail);
    }
    if (appleAppId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleAppId")] = ApiClient::parameterToString(*appleAppId);
    }
    if (appleTeamId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleTeamId")] = ApiClient::parameterToString(*appleTeamId);
    }
    if (appleAuthKeyId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleAuthKeyId")] = ApiClient::parameterToString(*appleAuthKeyId);
    }
    if (appleAuthKey && *appleAuthKey != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleAuthKey")] = ApiClient::parameterToString(*appleAuthKey);
    }
    if (appleIssuerId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleIssuerId")] = ApiClient::parameterToString(*appleIssuerId);
    }
    if (appStoreKeyId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appStoreKeyId")] = ApiClient::parameterToString(*appStoreKeyId);
    }
    if (appStoreKey && *appStoreKey != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("appStoreKey")] = ApiClient::parameterToString(*appStoreKey);
    }
    if (googlePrivateKeyFile && *googlePrivateKeyFile != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("googlePrivateKeyFile")] = ApiClient::parameterToString(*googlePrivateKeyFile);
    }
    if (authorizeNetApiKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("authorizeNetApiKey")] = ApiClient::parameterToString(*authorizeNetApiKey);
    }
    if (authorizeNetTransactionKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("authorizeNetTransactionKey")] = ApiClient::parameterToString(*authorizeNetTransactionKey);
    }
    if (emailSender)
    {
        localVarQueryParams[utility::conversions::to_string_t("emailSender")] = ApiClient::parameterToString(*emailSender);
    }
    if (smtpUser)
    {
        localVarQueryParams[utility::conversions::to_string_t("smtpUser")] = ApiClient::parameterToString(*smtpUser);
    }
    if (smtpHost)
    {
        localVarQueryParams[utility::conversions::to_string_t("smtpHost")] = ApiClient::parameterToString(*smtpHost);
    }
    if (vatomBusinessId)
    {
        localVarQueryParams[utility::conversions::to_string_t("vatomBusinessId")] = ApiClient::parameterToString(*vatomBusinessId);
    }
    if (vatomRestClientId)
    {
        localVarQueryParams[utility::conversions::to_string_t("vatomRestClientId")] = ApiClient::parameterToString(*vatomRestClientId);
    }
    if (vatomRestSecretKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("vatomRestSecretKey")] = ApiClient::parameterToString(*vatomRestSecretKey);
    }
    if (twilioAccountSID)
    {
        localVarQueryParams[utility::conversions::to_string_t("twilioAccountSID")] = ApiClient::parameterToString(*twilioAccountSID);
    }
    if (twilioAuthToken)
    {
        localVarQueryParams[utility::conversions::to_string_t("twilioAuthToken")] = ApiClient::parameterToString(*twilioAuthToken);
    }
    if (twilioSenderPhoneNumber)
    {
        localVarQueryParams[utility::conversions::to_string_t("twilioSenderPhoneNumber")] = ApiClient::parameterToString(*twilioSenderPhoneNumber);
    }
    if (openAISecretKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("openAISecretKey")] = ApiClient::parameterToString(*openAISecretKey);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->createApplication does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling createApplication: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling createApplication: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<ApplicationResponse> localVarResult(new ApplicationResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling createApplication: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<PlacementResponse>> ApplicationApi::createApplicationPlacement(double version, utility::string_t appKey, utility::string_t size, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<utility::string_t> name, boost::optional<utility::string_t> description, boost::optional<int32_t> height, boost::optional<int32_t> width, boost::optional<int32_t> refreshInterval, boost::optional<int64_t> defaultImageId, boost::optional<bool> active) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/placement/create");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->createApplicationPlacement does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(appKey);
    }
    {
        localVarQueryParams[utility::conversions::to_string_t("size")] = ApiClient::parameterToString(size);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (name)
    {
        localVarQueryParams[utility::conversions::to_string_t("name")] = ApiClient::parameterToString(*name);
    }
    if (description)
    {
        localVarQueryParams[utility::conversions::to_string_t("description")] = ApiClient::parameterToString(*description);
    }
    if (height)
    {
        localVarQueryParams[utility::conversions::to_string_t("height")] = ApiClient::parameterToString(*height);
    }
    if (width)
    {
        localVarQueryParams[utility::conversions::to_string_t("width")] = ApiClient::parameterToString(*width);
    }
    if (refreshInterval)
    {
        localVarQueryParams[utility::conversions::to_string_t("refreshInterval")] = ApiClient::parameterToString(*refreshInterval);
    }
    if (defaultImageId)
    {
        localVarQueryParams[utility::conversions::to_string_t("defaultImageId")] = ApiClient::parameterToString(*defaultImageId);
    }
    if (active)
    {
        localVarQueryParams[utility::conversions::to_string_t("active")] = ApiClient::parameterToString(*active);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->createApplicationPlacement does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling createApplicationPlacement: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling createApplicationPlacement: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<PlacementResponse> localVarResult(new PlacementResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling createApplicationPlacement: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<SirqulResponse>> ApplicationApi::deleteApplication(double version, boost::optional<int64_t> accountId, boost::optional<utility::string_t> appKey) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/delete");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->deleteApplication does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (appKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(*appKey);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->deleteApplication does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling deleteApplication: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling deleteApplication: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<SirqulResponse> localVarResult(new SirqulResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling deleteApplication: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<PlacementResponse>> ApplicationApi::deleteApplicationPlacement(double version, int64_t placementId, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/placement/delete");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->deleteApplicationPlacement does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("placementId")] = ApiClient::parameterToString(placementId);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->deleteApplicationPlacement does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling deleteApplicationPlacement: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling deleteApplicationPlacement: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<PlacementResponse> localVarResult(new PlacementResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling deleteApplicationPlacement: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<ApplicationResponse>> ApplicationApi::getApplication(double version, boost::optional<utility::string_t> appKey, boost::optional<int64_t> applicationId) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/get");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->getApplication does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    if (appKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(*appKey);
    }
    if (applicationId)
    {
        localVarQueryParams[utility::conversions::to_string_t("applicationId")] = ApiClient::parameterToString(*applicationId);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->getApplication does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("GET"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling getApplication: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling getApplication: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<ApplicationResponse> localVarResult(new ApplicationResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling getApplication: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<PlacementResponse>> ApplicationApi::getApplicationPlacement(double version, int64_t placementId, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/placement/get");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->getApplicationPlacement does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("placementId")] = ApiClient::parameterToString(placementId);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->getApplicationPlacement does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("GET"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling getApplicationPlacement: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling getApplicationPlacement: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<PlacementResponse> localVarResult(new PlacementResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling getApplicationPlacement: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<SirqulResponse>> ApplicationApi::getApplicationVersions(double version) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/versions");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->getApplicationVersions does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;


    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->getApplicationVersions does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("GET"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling getApplicationVersions: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling getApplicationVersions: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<SirqulResponse> localVarResult(new SirqulResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling getApplicationVersions: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<AccountListResponse>> ApplicationApi::getUniqueUsersByApp(double version, utility::string_t appKey, boost::optional<utility::string_t> q, boost::optional<utility::string_t> keyword, boost::optional<int64_t> since, boost::optional<int32_t> i, boost::optional<int32_t> start, boost::optional<int32_t> l, boost::optional<int32_t> limit) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/users");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->getUniqueUsersByApp does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(appKey);
    }
    if (q)
    {
        localVarQueryParams[utility::conversions::to_string_t("q")] = ApiClient::parameterToString(*q);
    }
    if (keyword)
    {
        localVarQueryParams[utility::conversions::to_string_t("keyword")] = ApiClient::parameterToString(*keyword);
    }
    if (since)
    {
        localVarQueryParams[utility::conversions::to_string_t("since")] = ApiClient::parameterToString(*since);
    }
    if (i)
    {
        localVarQueryParams[utility::conversions::to_string_t("_i")] = ApiClient::parameterToString(*i);
    }
    if (start)
    {
        localVarQueryParams[utility::conversions::to_string_t("start")] = ApiClient::parameterToString(*start);
    }
    if (l)
    {
        localVarQueryParams[utility::conversions::to_string_t("_l")] = ApiClient::parameterToString(*l);
    }
    if (limit)
    {
        localVarQueryParams[utility::conversions::to_string_t("limit")] = ApiClient::parameterToString(*limit);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->getUniqueUsersByApp does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("GET"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling getUniqueUsersByApp: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling getUniqueUsersByApp: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<AccountListResponse> localVarResult(new AccountListResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling getUniqueUsersByApp: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::vector<std::shared_ptr<ApplicationShortResponse>>> ApplicationApi::listApplications(double version, boost::optional<int64_t> accountId, boost::optional<utility::string_t> q, boost::optional<utility::string_t> keyword, boost::optional<utility::string_t> platforms, boost::optional<utility::string_t> deviceIds, boost::optional<utility::string_t> deviceVersions, boost::optional<utility::string_t> categoryIds, boost::optional<utility::string_t> sortField, boost::optional<bool> hasAds, boost::optional<bool> publicNotifications, boost::optional<bool> filterBillable, boost::optional<bool> filterContentAdmin, boost::optional<bool> descending, boost::optional<int32_t> i, boost::optional<int32_t> start, boost::optional<int32_t> l, boost::optional<int32_t> limit, boost::optional<utility::string_t> applicationIds, boost::optional<bool> hasObjectStore, boost::optional<bool> activeOnly) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/list");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->listApplications does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (q)
    {
        localVarQueryParams[utility::conversions::to_string_t("q")] = ApiClient::parameterToString(*q);
    }
    if (keyword)
    {
        localVarQueryParams[utility::conversions::to_string_t("keyword")] = ApiClient::parameterToString(*keyword);
    }
    if (platforms)
    {
        localVarQueryParams[utility::conversions::to_string_t("platforms")] = ApiClient::parameterToString(*platforms);
    }
    if (deviceIds)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceIds")] = ApiClient::parameterToString(*deviceIds);
    }
    if (deviceVersions)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceVersions")] = ApiClient::parameterToString(*deviceVersions);
    }
    if (categoryIds)
    {
        localVarQueryParams[utility::conversions::to_string_t("categoryIds")] = ApiClient::parameterToString(*categoryIds);
    }
    if (sortField)
    {
        localVarQueryParams[utility::conversions::to_string_t("sortField")] = ApiClient::parameterToString(*sortField);
    }
    if (hasAds)
    {
        localVarQueryParams[utility::conversions::to_string_t("hasAds")] = ApiClient::parameterToString(*hasAds);
    }
    if (publicNotifications)
    {
        localVarQueryParams[utility::conversions::to_string_t("publicNotifications")] = ApiClient::parameterToString(*publicNotifications);
    }
    if (filterBillable)
    {
        localVarQueryParams[utility::conversions::to_string_t("filterBillable")] = ApiClient::parameterToString(*filterBillable);
    }
    if (filterContentAdmin)
    {
        localVarQueryParams[utility::conversions::to_string_t("filterContentAdmin")] = ApiClient::parameterToString(*filterContentAdmin);
    }
    if (descending)
    {
        localVarQueryParams[utility::conversions::to_string_t("descending")] = ApiClient::parameterToString(*descending);
    }
    if (i)
    {
        localVarQueryParams[utility::conversions::to_string_t("_i")] = ApiClient::parameterToString(*i);
    }
    if (start)
    {
        localVarQueryParams[utility::conversions::to_string_t("start")] = ApiClient::parameterToString(*start);
    }
    if (l)
    {
        localVarQueryParams[utility::conversions::to_string_t("_l")] = ApiClient::parameterToString(*l);
    }
    if (limit)
    {
        localVarQueryParams[utility::conversions::to_string_t("limit")] = ApiClient::parameterToString(*limit);
    }
    if (applicationIds)
    {
        localVarQueryParams[utility::conversions::to_string_t("applicationIds")] = ApiClient::parameterToString(*applicationIds);
    }
    if (hasObjectStore)
    {
        localVarQueryParams[utility::conversions::to_string_t("hasObjectStore")] = ApiClient::parameterToString(*hasObjectStore);
    }
    if (activeOnly)
    {
        localVarQueryParams[utility::conversions::to_string_t("activeOnly")] = ApiClient::parameterToString(*activeOnly);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->listApplications does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("GET"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling listApplications: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling listApplications: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::vector<std::shared_ptr<ApplicationShortResponse>> localVarResult;

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);
            for( auto& localVarItem : localVarJson.as_array() )
            {
                std::shared_ptr<ApplicationShortResponse> localVarItemObj;
                ModelBase::fromJson(localVarItem, localVarItemObj);
                localVarResult.push_back(localVarItemObj);
            }
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling listApplications: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::vector<std::shared_ptr<PlacementResponse>>> ApplicationApi::searchApplicationPlacement(double version, utility::string_t appKey, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<int32_t> start, boost::optional<int32_t> limit) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/placement/search");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->searchApplicationPlacement does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(appKey);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (start)
    {
        localVarQueryParams[utility::conversions::to_string_t("start")] = ApiClient::parameterToString(*start);
    }
    if (limit)
    {
        localVarQueryParams[utility::conversions::to_string_t("limit")] = ApiClient::parameterToString(*limit);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->searchApplicationPlacement does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("GET"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling searchApplicationPlacement: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling searchApplicationPlacement: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::vector<std::shared_ptr<PlacementResponse>> localVarResult;

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);
            for( auto& localVarItem : localVarJson.as_array() )
            {
                std::shared_ptr<PlacementResponse> localVarItemObj;
                ModelBase::fromJson(localVarItem, localVarItemObj);
                localVarResult.push_back(localVarItemObj);
            }
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling searchApplicationPlacement: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<ApplicationSettingsResponse>> ApplicationApi::searchApplicationSettings(double version, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<int64_t> connectionAccountId, boost::optional<utility::string_t> keyword, boost::optional<utility::string_t> sortField, boost::optional<bool> descending, boost::optional<int32_t> start, boost::optional<int32_t> limit) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/settings/search");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->searchApplicationSettings does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (connectionAccountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("connectionAccountId")] = ApiClient::parameterToString(*connectionAccountId);
    }
    if (keyword)
    {
        localVarQueryParams[utility::conversions::to_string_t("keyword")] = ApiClient::parameterToString(*keyword);
    }
    if (sortField)
    {
        localVarQueryParams[utility::conversions::to_string_t("sortField")] = ApiClient::parameterToString(*sortField);
    }
    if (descending)
    {
        localVarQueryParams[utility::conversions::to_string_t("descending")] = ApiClient::parameterToString(*descending);
    }
    if (start)
    {
        localVarQueryParams[utility::conversions::to_string_t("start")] = ApiClient::parameterToString(*start);
    }
    if (limit)
    {
        localVarQueryParams[utility::conversions::to_string_t("limit")] = ApiClient::parameterToString(*limit);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->searchApplicationSettings does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("GET"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling searchApplicationSettings: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling searchApplicationSettings: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<ApplicationSettingsResponse> localVarResult(new ApplicationSettingsResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling searchApplicationSettings: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::vector<std::shared_ptr<ApplicationResponse>>> ApplicationApi::searchApplications(double version, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<double> latitude, boost::optional<double> longitude, boost::optional<utility::string_t> q, boost::optional<utility::string_t> keyword, boost::optional<utility::string_t> qSearchFields, boost::optional<utility::string_t> sortField, boost::optional<bool> descending, boost::optional<int32_t> i, boost::optional<int32_t> start, boost::optional<int32_t> l, boost::optional<int32_t> limit, boost::optional<bool> hasAds, boost::optional<bool> publicNotifications, boost::optional<bool> activeOnly) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/search");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->searchApplications does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (latitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("latitude")] = ApiClient::parameterToString(*latitude);
    }
    if (longitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("longitude")] = ApiClient::parameterToString(*longitude);
    }
    if (q)
    {
        localVarQueryParams[utility::conversions::to_string_t("q")] = ApiClient::parameterToString(*q);
    }
    if (keyword)
    {
        localVarQueryParams[utility::conversions::to_string_t("keyword")] = ApiClient::parameterToString(*keyword);
    }
    if (qSearchFields)
    {
        localVarQueryParams[utility::conversions::to_string_t("qSearchFields")] = ApiClient::parameterToString(*qSearchFields);
    }
    if (sortField)
    {
        localVarQueryParams[utility::conversions::to_string_t("sortField")] = ApiClient::parameterToString(*sortField);
    }
    if (descending)
    {
        localVarQueryParams[utility::conversions::to_string_t("descending")] = ApiClient::parameterToString(*descending);
    }
    if (i)
    {
        localVarQueryParams[utility::conversions::to_string_t("_i")] = ApiClient::parameterToString(*i);
    }
    if (start)
    {
        localVarQueryParams[utility::conversions::to_string_t("start")] = ApiClient::parameterToString(*start);
    }
    if (l)
    {
        localVarQueryParams[utility::conversions::to_string_t("_l")] = ApiClient::parameterToString(*l);
    }
    if (limit)
    {
        localVarQueryParams[utility::conversions::to_string_t("limit")] = ApiClient::parameterToString(*limit);
    }
    if (hasAds)
    {
        localVarQueryParams[utility::conversions::to_string_t("hasAds")] = ApiClient::parameterToString(*hasAds);
    }
    if (publicNotifications)
    {
        localVarQueryParams[utility::conversions::to_string_t("publicNotifications")] = ApiClient::parameterToString(*publicNotifications);
    }
    if (activeOnly)
    {
        localVarQueryParams[utility::conversions::to_string_t("activeOnly")] = ApiClient::parameterToString(*activeOnly);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->searchApplications does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("GET"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling searchApplications: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling searchApplications: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::vector<std::shared_ptr<ApplicationResponse>> localVarResult;

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);
            for( auto& localVarItem : localVarJson.as_array() )
            {
                std::shared_ptr<ApplicationResponse> localVarItemObj;
                ModelBase::fromJson(localVarItem, localVarItemObj);
                localVarResult.push_back(localVarItemObj);
            }
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling searchApplications: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<ApplicationResponse>> ApplicationApi::updateApplication(double version, utility::string_t appKey, utility::string_t appName, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<utility::string_t> about, boost::optional<utility::string_t> bundleId, boost::optional<int64_t> appIconAssetId, boost::optional<int64_t> appLogoAssetId, boost::optional<utility::string_t> facebookAppId, boost::optional<utility::string_t> facebookAppSecret, boost::optional<utility::string_t> googleApiKey, boost::optional<bool> updateEULADate, boost::optional<utility::string_t> eulaVersion, boost::optional<utility::string_t> landingPageUrl, boost::optional<bool> showInActivities, boost::optional<utility::string_t> activityDescription, boost::optional<utility::string_t> inviteWelcomeText, boost::optional<utility::string_t> invitePageUrl, boost::optional<utility::string_t> urlScheme, boost::optional<utility::string_t> platforms, boost::optional<utility::string_t> downloadUrls, boost::optional<utility::string_t> categoryIds, boost::optional<utility::string_t> scoringType, boost::optional<int32_t> hintCost, boost::optional<int32_t> maxScore, boost::optional<float> ticketsPerPoint, boost::optional<bool> hasGameData, boost::optional<bool> publicNotifications, boost::optional<bool> useMatchingAlgorithm, boost::optional<bool> globalTickets, boost::optional<float> buildVersion, boost::optional<float> apiVersion, boost::optional<utility::string_t> placementName, boost::optional<utility::string_t> placementDescription, boost::optional<utility::string_t> placementSize, boost::optional<int32_t> placementHeight, boost::optional<int32_t> placementWidth, boost::optional<int32_t> placementRefreshInterval, boost::optional<bool> createObjectStore, boost::optional<bool> publicContentApproval, boost::optional<bool> productionMode, boost::optional<int32_t> minimumSessionLength, boost::optional<int32_t> sessionGapLength, boost::optional<bool> localAdsEnabled, boost::optional<utility::string_t> sqootApiKey, boost::optional<utility::string_t> trilatProcessingType, boost::optional<int32_t> maxSampleSize, boost::optional<double> minRSSI, boost::optional<utility::string_t> modules, boost::optional<int32_t> authorizedCount, boost::optional<utility::string_t> authorizedServers, boost::optional<utility::string_t> defaultTimezone, boost::optional<utility::string_t> smtpPass, boost::optional<utility::string_t> metaData, boost::optional<utility::string_t> placementMetaData, boost::optional<bool> ipsFloor, boost::optional<bool> enableAPNSBadge, boost::optional<bool> includeInReport, boost::optional<int64_t> defaultAppFilterId, boost::optional<bool> enableWelcomeEmail, boost::optional<utility::string_t> appleAppId, boost::optional<utility::string_t> appleTeamId, boost::optional<utility::string_t> appleAuthKeyId, boost::optional<std::shared_ptr<HttpContent>> appleAuthKey, boost::optional<utility::string_t> appleIssuerId, boost::optional<utility::string_t> appStoreKeyId, boost::optional<std::shared_ptr<HttpContent>> appStoreKey, boost::optional<std::shared_ptr<HttpContent>> googlePrivateKeyFile, boost::optional<utility::string_t> authorizeNetApiKey, boost::optional<utility::string_t> authorizeNetTransactionKey, boost::optional<utility::string_t> emailSender, boost::optional<utility::string_t> smtpUser, boost::optional<utility::string_t> smtpHost, boost::optional<utility::string_t> vatomBusinessId, boost::optional<utility::string_t> vatomRestClientId, boost::optional<utility::string_t> vatomRestSecretKey, boost::optional<utility::string_t> twilioAccountSID, boost::optional<utility::string_t> twilioAuthToken, boost::optional<utility::string_t> twilioSenderPhoneNumber, boost::optional<utility::string_t> openAISecretKey) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/update");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->updateApplication does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(appKey);
    }
    {
        localVarQueryParams[utility::conversions::to_string_t("appName")] = ApiClient::parameterToString(appName);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (about)
    {
        localVarQueryParams[utility::conversions::to_string_t("about")] = ApiClient::parameterToString(*about);
    }
    if (bundleId)
    {
        localVarQueryParams[utility::conversions::to_string_t("bundleId")] = ApiClient::parameterToString(*bundleId);
    }
    if (appIconAssetId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appIconAssetId")] = ApiClient::parameterToString(*appIconAssetId);
    }
    if (appLogoAssetId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appLogoAssetId")] = ApiClient::parameterToString(*appLogoAssetId);
    }
    if (facebookAppId)
    {
        localVarQueryParams[utility::conversions::to_string_t("facebookAppId")] = ApiClient::parameterToString(*facebookAppId);
    }
    if (facebookAppSecret)
    {
        localVarQueryParams[utility::conversions::to_string_t("facebookAppSecret")] = ApiClient::parameterToString(*facebookAppSecret);
    }
    if (googleApiKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("googleApiKey")] = ApiClient::parameterToString(*googleApiKey);
    }
    if (updateEULADate)
    {
        localVarQueryParams[utility::conversions::to_string_t("updateEULADate")] = ApiClient::parameterToString(*updateEULADate);
    }
    if (eulaVersion)
    {
        localVarQueryParams[utility::conversions::to_string_t("eulaVersion")] = ApiClient::parameterToString(*eulaVersion);
    }
    if (landingPageUrl)
    {
        localVarQueryParams[utility::conversions::to_string_t("landingPageUrl")] = ApiClient::parameterToString(*landingPageUrl);
    }
    if (showInActivities)
    {
        localVarQueryParams[utility::conversions::to_string_t("showInActivities")] = ApiClient::parameterToString(*showInActivities);
    }
    if (activityDescription)
    {
        localVarQueryParams[utility::conversions::to_string_t("activityDescription")] = ApiClient::parameterToString(*activityDescription);
    }
    if (inviteWelcomeText)
    {
        localVarQueryParams[utility::conversions::to_string_t("inviteWelcomeText")] = ApiClient::parameterToString(*inviteWelcomeText);
    }
    if (invitePageUrl)
    {
        localVarQueryParams[utility::conversions::to_string_t("invitePageUrl")] = ApiClient::parameterToString(*invitePageUrl);
    }
    if (urlScheme)
    {
        localVarQueryParams[utility::conversions::to_string_t("urlScheme")] = ApiClient::parameterToString(*urlScheme);
    }
    if (platforms)
    {
        localVarQueryParams[utility::conversions::to_string_t("platforms")] = ApiClient::parameterToString(*platforms);
    }
    if (downloadUrls)
    {
        localVarQueryParams[utility::conversions::to_string_t("downloadUrls")] = ApiClient::parameterToString(*downloadUrls);
    }
    if (categoryIds)
    {
        localVarQueryParams[utility::conversions::to_string_t("categoryIds")] = ApiClient::parameterToString(*categoryIds);
    }
    if (scoringType)
    {
        localVarQueryParams[utility::conversions::to_string_t("scoringType")] = ApiClient::parameterToString(*scoringType);
    }
    if (hintCost)
    {
        localVarQueryParams[utility::conversions::to_string_t("hintCost")] = ApiClient::parameterToString(*hintCost);
    }
    if (maxScore)
    {
        localVarQueryParams[utility::conversions::to_string_t("maxScore")] = ApiClient::parameterToString(*maxScore);
    }
    if (ticketsPerPoint)
    {
        localVarQueryParams[utility::conversions::to_string_t("ticketsPerPoint")] = ApiClient::parameterToString(*ticketsPerPoint);
    }
    if (hasGameData)
    {
        localVarQueryParams[utility::conversions::to_string_t("hasGameData")] = ApiClient::parameterToString(*hasGameData);
    }
    if (publicNotifications)
    {
        localVarQueryParams[utility::conversions::to_string_t("publicNotifications")] = ApiClient::parameterToString(*publicNotifications);
    }
    if (useMatchingAlgorithm)
    {
        localVarQueryParams[utility::conversions::to_string_t("useMatchingAlgorithm")] = ApiClient::parameterToString(*useMatchingAlgorithm);
    }
    if (globalTickets)
    {
        localVarQueryParams[utility::conversions::to_string_t("globalTickets")] = ApiClient::parameterToString(*globalTickets);
    }
    if (buildVersion)
    {
        localVarQueryParams[utility::conversions::to_string_t("buildVersion")] = ApiClient::parameterToString(*buildVersion);
    }
    if (apiVersion)
    {
        localVarQueryParams[utility::conversions::to_string_t("apiVersion")] = ApiClient::parameterToString(*apiVersion);
    }
    if (placementName)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementName")] = ApiClient::parameterToString(*placementName);
    }
    if (placementDescription)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementDescription")] = ApiClient::parameterToString(*placementDescription);
    }
    if (placementSize)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementSize")] = ApiClient::parameterToString(*placementSize);
    }
    if (placementHeight)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementHeight")] = ApiClient::parameterToString(*placementHeight);
    }
    if (placementWidth)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementWidth")] = ApiClient::parameterToString(*placementWidth);
    }
    if (placementRefreshInterval)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementRefreshInterval")] = ApiClient::parameterToString(*placementRefreshInterval);
    }
    if (createObjectStore)
    {
        localVarQueryParams[utility::conversions::to_string_t("createObjectStore")] = ApiClient::parameterToString(*createObjectStore);
    }
    if (publicContentApproval)
    {
        localVarQueryParams[utility::conversions::to_string_t("publicContentApproval")] = ApiClient::parameterToString(*publicContentApproval);
    }
    if (productionMode)
    {
        localVarQueryParams[utility::conversions::to_string_t("productionMode")] = ApiClient::parameterToString(*productionMode);
    }
    if (minimumSessionLength)
    {
        localVarQueryParams[utility::conversions::to_string_t("minimumSessionLength")] = ApiClient::parameterToString(*minimumSessionLength);
    }
    if (sessionGapLength)
    {
        localVarQueryParams[utility::conversions::to_string_t("sessionGapLength")] = ApiClient::parameterToString(*sessionGapLength);
    }
    if (localAdsEnabled)
    {
        localVarQueryParams[utility::conversions::to_string_t("localAdsEnabled")] = ApiClient::parameterToString(*localAdsEnabled);
    }
    if (sqootApiKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("sqootApiKey")] = ApiClient::parameterToString(*sqootApiKey);
    }
    if (trilatProcessingType)
    {
        localVarQueryParams[utility::conversions::to_string_t("trilatProcessingType")] = ApiClient::parameterToString(*trilatProcessingType);
    }
    if (maxSampleSize)
    {
        localVarQueryParams[utility::conversions::to_string_t("maxSampleSize")] = ApiClient::parameterToString(*maxSampleSize);
    }
    if (minRSSI)
    {
        localVarQueryParams[utility::conversions::to_string_t("minRSSI")] = ApiClient::parameterToString(*minRSSI);
    }
    if (modules)
    {
        localVarQueryParams[utility::conversions::to_string_t("modules")] = ApiClient::parameterToString(*modules);
    }
    if (authorizedCount)
    {
        localVarQueryParams[utility::conversions::to_string_t("authorizedCount")] = ApiClient::parameterToString(*authorizedCount);
    }
    if (authorizedServers)
    {
        localVarQueryParams[utility::conversions::to_string_t("authorizedServers")] = ApiClient::parameterToString(*authorizedServers);
    }
    if (defaultTimezone)
    {
        localVarQueryParams[utility::conversions::to_string_t("defaultTimezone")] = ApiClient::parameterToString(*defaultTimezone);
    }
    if (smtpPass)
    {
        localVarQueryParams[utility::conversions::to_string_t("smtpPass")] = ApiClient::parameterToString(*smtpPass);
    }
    if (metaData)
    {
        localVarQueryParams[utility::conversions::to_string_t("metaData")] = ApiClient::parameterToString(*metaData);
    }
    if (placementMetaData)
    {
        localVarQueryParams[utility::conversions::to_string_t("placementMetaData")] = ApiClient::parameterToString(*placementMetaData);
    }
    if (ipsFloor)
    {
        localVarQueryParams[utility::conversions::to_string_t("ipsFloor")] = ApiClient::parameterToString(*ipsFloor);
    }
    if (enableAPNSBadge)
    {
        localVarQueryParams[utility::conversions::to_string_t("enableAPNSBadge")] = ApiClient::parameterToString(*enableAPNSBadge);
    }
    if (includeInReport)
    {
        localVarQueryParams[utility::conversions::to_string_t("includeInReport")] = ApiClient::parameterToString(*includeInReport);
    }
    if (defaultAppFilterId)
    {
        localVarQueryParams[utility::conversions::to_string_t("defaultAppFilterId")] = ApiClient::parameterToString(*defaultAppFilterId);
    }
    if (enableWelcomeEmail)
    {
        localVarQueryParams[utility::conversions::to_string_t("enableWelcomeEmail")] = ApiClient::parameterToString(*enableWelcomeEmail);
    }
    if (appleAppId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleAppId")] = ApiClient::parameterToString(*appleAppId);
    }
    if (appleTeamId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleTeamId")] = ApiClient::parameterToString(*appleTeamId);
    }
    if (appleAuthKeyId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleAuthKeyId")] = ApiClient::parameterToString(*appleAuthKeyId);
    }
    if (appleAuthKey && *appleAuthKey != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleAuthKey")] = ApiClient::parameterToString(*appleAuthKey);
    }
    if (appleIssuerId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appleIssuerId")] = ApiClient::parameterToString(*appleIssuerId);
    }
    if (appStoreKeyId)
    {
        localVarQueryParams[utility::conversions::to_string_t("appStoreKeyId")] = ApiClient::parameterToString(*appStoreKeyId);
    }
    if (appStoreKey && *appStoreKey != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("appStoreKey")] = ApiClient::parameterToString(*appStoreKey);
    }
    if (googlePrivateKeyFile && *googlePrivateKeyFile != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("googlePrivateKeyFile")] = ApiClient::parameterToString(*googlePrivateKeyFile);
    }
    if (authorizeNetApiKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("authorizeNetApiKey")] = ApiClient::parameterToString(*authorizeNetApiKey);
    }
    if (authorizeNetTransactionKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("authorizeNetTransactionKey")] = ApiClient::parameterToString(*authorizeNetTransactionKey);
    }
    if (emailSender)
    {
        localVarQueryParams[utility::conversions::to_string_t("emailSender")] = ApiClient::parameterToString(*emailSender);
    }
    if (smtpUser)
    {
        localVarQueryParams[utility::conversions::to_string_t("smtpUser")] = ApiClient::parameterToString(*smtpUser);
    }
    if (smtpHost)
    {
        localVarQueryParams[utility::conversions::to_string_t("smtpHost")] = ApiClient::parameterToString(*smtpHost);
    }
    if (vatomBusinessId)
    {
        localVarQueryParams[utility::conversions::to_string_t("vatomBusinessId")] = ApiClient::parameterToString(*vatomBusinessId);
    }
    if (vatomRestClientId)
    {
        localVarQueryParams[utility::conversions::to_string_t("vatomRestClientId")] = ApiClient::parameterToString(*vatomRestClientId);
    }
    if (vatomRestSecretKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("vatomRestSecretKey")] = ApiClient::parameterToString(*vatomRestSecretKey);
    }
    if (twilioAccountSID)
    {
        localVarQueryParams[utility::conversions::to_string_t("twilioAccountSID")] = ApiClient::parameterToString(*twilioAccountSID);
    }
    if (twilioAuthToken)
    {
        localVarQueryParams[utility::conversions::to_string_t("twilioAuthToken")] = ApiClient::parameterToString(*twilioAuthToken);
    }
    if (twilioSenderPhoneNumber)
    {
        localVarQueryParams[utility::conversions::to_string_t("twilioSenderPhoneNumber")] = ApiClient::parameterToString(*twilioSenderPhoneNumber);
    }
    if (openAISecretKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("openAISecretKey")] = ApiClient::parameterToString(*openAISecretKey);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->updateApplication does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling updateApplication: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling updateApplication: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<ApplicationResponse> localVarResult(new ApplicationResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling updateApplication: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<SirqulResponse>> ApplicationApi::updateApplicationActive(double version, int64_t accountId, utility::string_t appKey, bool active) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/active");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->updateApplicationActive does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(accountId);
    }
    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(appKey);
    }
    {
        localVarQueryParams[utility::conversions::to_string_t("active")] = ApiClient::parameterToString(active);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->updateApplicationActive does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling updateApplicationActive: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling updateApplicationActive: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<SirqulResponse> localVarResult(new SirqulResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling updateApplicationActive: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<PlacementResponse>> ApplicationApi::updateApplicationPlacement(double version, int64_t placementId, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<utility::string_t> name, boost::optional<utility::string_t> description, boost::optional<utility::string_t> size, boost::optional<int32_t> height, boost::optional<int32_t> width, boost::optional<int32_t> refreshInterval, boost::optional<int64_t> defaultImageId, boost::optional<bool> active) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/placement/update");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->updateApplicationPlacement does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("placementId")] = ApiClient::parameterToString(placementId);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (name)
    {
        localVarQueryParams[utility::conversions::to_string_t("name")] = ApiClient::parameterToString(*name);
    }
    if (description)
    {
        localVarQueryParams[utility::conversions::to_string_t("description")] = ApiClient::parameterToString(*description);
    }
    if (size)
    {
        localVarQueryParams[utility::conversions::to_string_t("size")] = ApiClient::parameterToString(*size);
    }
    if (height)
    {
        localVarQueryParams[utility::conversions::to_string_t("height")] = ApiClient::parameterToString(*height);
    }
    if (width)
    {
        localVarQueryParams[utility::conversions::to_string_t("width")] = ApiClient::parameterToString(*width);
    }
    if (refreshInterval)
    {
        localVarQueryParams[utility::conversions::to_string_t("refreshInterval")] = ApiClient::parameterToString(*refreshInterval);
    }
    if (defaultImageId)
    {
        localVarQueryParams[utility::conversions::to_string_t("defaultImageId")] = ApiClient::parameterToString(*defaultImageId);
    }
    if (active)
    {
        localVarQueryParams[utility::conversions::to_string_t("active")] = ApiClient::parameterToString(*active);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->updateApplicationPlacement does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling updateApplicationPlacement: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling updateApplicationPlacement: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<PlacementResponse> localVarResult(new PlacementResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling updateApplicationPlacement: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<SirqulResponse>> ApplicationApi::uploadApplicationCertificate(double version, utility::string_t appKey, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<std::shared_ptr<HttpContent>> certificate) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/application/certificate/create");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("ApplicationApi->uploadApplicationCertificate does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(appKey);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (certificate && *certificate != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("certificate")] = ApiClient::parameterToString(*certificate);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("ApplicationApi->uploadApplicationCertificate does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling uploadApplicationCertificate: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling uploadApplicationCertificate: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<SirqulResponse> localVarResult(new SirqulResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling uploadApplicationCertificate: unsupported response type"));
        }

        return localVarResult;
    });
}

}
}
}
}

