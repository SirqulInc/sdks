/**
 * Sirqul IoT Platform
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 *
 * NOTE: This class is auto generated by OpenAPI-Generator 7.20.0-SNAPSHOT.
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


#include "CppRestOpenAPIClient/api/NoteApi.h"
#include "CppRestOpenAPIClient/IHttpBody.h"
#include "CppRestOpenAPIClient/JsonBody.h"
#include "CppRestOpenAPIClient/MultipartFormData.h"

#include <boost/algorithm/string/replace.hpp>

#include <unordered_set>

namespace org {
namespace openapitools {
namespace client {
namespace api {

using namespace org::openapitools::client::model;

NoteApi::NoteApi( std::shared_ptr<const ApiClient> apiClient )
    : m_ApiClient(apiClient)
{
}

NoteApi::~NoteApi()
{
}

pplx::task<std::shared_ptr<SirqulResponse>> NoteApi::batchOperation(double version, int64_t notableId, utility::string_t notableType, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<utility::string_t> batchOperation) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/note/batch");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("NoteApi->batchOperation does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("notableId")] = ApiClient::parameterToString(notableId);
    }
    {
        localVarQueryParams[utility::conversions::to_string_t("notableType")] = ApiClient::parameterToString(notableType);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (batchOperation)
    {
        localVarQueryParams[utility::conversions::to_string_t("batchOperation")] = ApiClient::parameterToString(*batchOperation);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("NoteApi->batchOperation does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling batchOperation: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling batchOperation: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<SirqulResponse> localVarResult(new SirqulResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling batchOperation: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<NoteResponse>> NoteApi::createNote(double version, utility::string_t comment, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<utility::string_t> notableType, boost::optional<int64_t> notableId, boost::optional<utility::string_t> noteType, boost::optional<utility::string_t> assetIds, boost::optional<utility::string_t> tags, boost::optional<utility::string_t> permissionableType, boost::optional<int64_t> permissionableId, boost::optional<utility::string_t> appKey, boost::optional<utility::string_t> locationDescription, boost::optional<double> latitude, boost::optional<double> longitude, boost::optional<utility::string_t> metaData, boost::optional<utility::string_t> receiverAccountIds, boost::optional<bool> returnFullResponse, boost::optional<bool> initializeAsset, boost::optional<bool> assetReturnNulls, boost::optional<int64_t> assetAlbumId, boost::optional<int64_t> assetCollectionId, boost::optional<utility::string_t> assetAddToDefaultAlbum, boost::optional<bool> assetAddToMediaLibrary, boost::optional<int32_t> assetVersionCode, boost::optional<utility::string_t> assetVersionName, boost::optional<utility::string_t> assetMetaData, boost::optional<utility::string_t> assetCaption, boost::optional<std::shared_ptr<HttpContent>> assetMedia, boost::optional<utility::string_t> assetMediaUrl, boost::optional<utility::string_t> assetMediaString, boost::optional<utility::string_t> assetMediaStringFileName, boost::optional<utility::string_t> assetMediaStringContentType, boost::optional<std::shared_ptr<HttpContent>> assetAttachedMedia, boost::optional<utility::string_t> assetAttachedMediaUrl, boost::optional<utility::string_t> assetAttachedMediaString, boost::optional<utility::string_t> assetAttachedMediaStringFileName, boost::optional<utility::string_t> assetAttachedMediaStringContentType, boost::optional<utility::string_t> assetLocationDescription, boost::optional<utility::string_t> assetApp, boost::optional<utility::string_t> assetSearchTags, boost::optional<double> assetLatitude, boost::optional<double> assetLongitude) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/note/create");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("NoteApi->createNote does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("comment")] = ApiClient::parameterToString(comment);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (notableType)
    {
        localVarQueryParams[utility::conversions::to_string_t("notableType")] = ApiClient::parameterToString(*notableType);
    }
    if (notableId)
    {
        localVarQueryParams[utility::conversions::to_string_t("notableId")] = ApiClient::parameterToString(*notableId);
    }
    if (noteType)
    {
        localVarQueryParams[utility::conversions::to_string_t("noteType")] = ApiClient::parameterToString(*noteType);
    }
    if (assetIds)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetIds")] = ApiClient::parameterToString(*assetIds);
    }
    if (tags)
    {
        localVarQueryParams[utility::conversions::to_string_t("tags")] = ApiClient::parameterToString(*tags);
    }
    if (permissionableType)
    {
        localVarQueryParams[utility::conversions::to_string_t("permissionableType")] = ApiClient::parameterToString(*permissionableType);
    }
    if (permissionableId)
    {
        localVarQueryParams[utility::conversions::to_string_t("permissionableId")] = ApiClient::parameterToString(*permissionableId);
    }
    if (appKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(*appKey);
    }
    if (locationDescription)
    {
        localVarQueryParams[utility::conversions::to_string_t("locationDescription")] = ApiClient::parameterToString(*locationDescription);
    }
    if (latitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("latitude")] = ApiClient::parameterToString(*latitude);
    }
    if (longitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("longitude")] = ApiClient::parameterToString(*longitude);
    }
    if (metaData)
    {
        localVarQueryParams[utility::conversions::to_string_t("metaData")] = ApiClient::parameterToString(*metaData);
    }
    if (receiverAccountIds)
    {
        localVarQueryParams[utility::conversions::to_string_t("receiverAccountIds")] = ApiClient::parameterToString(*receiverAccountIds);
    }
    if (returnFullResponse)
    {
        localVarQueryParams[utility::conversions::to_string_t("returnFullResponse")] = ApiClient::parameterToString(*returnFullResponse);
    }
    if (initializeAsset)
    {
        localVarQueryParams[utility::conversions::to_string_t("initializeAsset")] = ApiClient::parameterToString(*initializeAsset);
    }
    if (assetReturnNulls)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetReturnNulls")] = ApiClient::parameterToString(*assetReturnNulls);
    }
    if (assetAlbumId)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAlbumId")] = ApiClient::parameterToString(*assetAlbumId);
    }
    if (assetCollectionId)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetCollectionId")] = ApiClient::parameterToString(*assetCollectionId);
    }
    if (assetAddToDefaultAlbum)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAddToDefaultAlbum")] = ApiClient::parameterToString(*assetAddToDefaultAlbum);
    }
    if (assetAddToMediaLibrary)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAddToMediaLibrary")] = ApiClient::parameterToString(*assetAddToMediaLibrary);
    }
    if (assetVersionCode)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetVersionCode")] = ApiClient::parameterToString(*assetVersionCode);
    }
    if (assetVersionName)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetVersionName")] = ApiClient::parameterToString(*assetVersionName);
    }
    if (assetMetaData)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMetaData")] = ApiClient::parameterToString(*assetMetaData);
    }
    if (assetCaption)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetCaption")] = ApiClient::parameterToString(*assetCaption);
    }
    if (assetMedia && *assetMedia != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMedia")] = ApiClient::parameterToString(*assetMedia);
    }
    if (assetMediaUrl)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMediaUrl")] = ApiClient::parameterToString(*assetMediaUrl);
    }
    if (assetMediaString)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMediaString")] = ApiClient::parameterToString(*assetMediaString);
    }
    if (assetMediaStringFileName)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMediaStringFileName")] = ApiClient::parameterToString(*assetMediaStringFileName);
    }
    if (assetMediaStringContentType)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMediaStringContentType")] = ApiClient::parameterToString(*assetMediaStringContentType);
    }
    if (assetAttachedMedia && *assetAttachedMedia != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMedia")] = ApiClient::parameterToString(*assetAttachedMedia);
    }
    if (assetAttachedMediaUrl)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMediaUrl")] = ApiClient::parameterToString(*assetAttachedMediaUrl);
    }
    if (assetAttachedMediaString)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMediaString")] = ApiClient::parameterToString(*assetAttachedMediaString);
    }
    if (assetAttachedMediaStringFileName)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMediaStringFileName")] = ApiClient::parameterToString(*assetAttachedMediaStringFileName);
    }
    if (assetAttachedMediaStringContentType)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMediaStringContentType")] = ApiClient::parameterToString(*assetAttachedMediaStringContentType);
    }
    if (assetLocationDescription)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetLocationDescription")] = ApiClient::parameterToString(*assetLocationDescription);
    }
    if (assetApp)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetApp")] = ApiClient::parameterToString(*assetApp);
    }
    if (assetSearchTags)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetSearchTags")] = ApiClient::parameterToString(*assetSearchTags);
    }
    if (assetLatitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetLatitude")] = ApiClient::parameterToString(*assetLatitude);
    }
    if (assetLongitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetLongitude")] = ApiClient::parameterToString(*assetLongitude);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("NoteApi->createNote does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling createNote: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling createNote: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<NoteResponse> localVarResult(new NoteResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling createNote: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<SirqulResponse>> NoteApi::deleteNote(double version, int64_t noteId, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<double> latitude, boost::optional<double> longitude, boost::optional<utility::string_t> appKey) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/note/delete");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("NoteApi->deleteNote does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("noteId")] = ApiClient::parameterToString(noteId);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (latitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("latitude")] = ApiClient::parameterToString(*latitude);
    }
    if (longitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("longitude")] = ApiClient::parameterToString(*longitude);
    }
    if (appKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(*appKey);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("NoteApi->deleteNote does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling deleteNote: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling deleteNote: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<SirqulResponse> localVarResult(new SirqulResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling deleteNote: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<SirqulResponse>> NoteApi::getNote(double version, int64_t noteId, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<bool> returnFullResponse) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/note/get");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("NoteApi->getNote does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("noteId")] = ApiClient::parameterToString(noteId);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (returnFullResponse)
    {
        localVarQueryParams[utility::conversions::to_string_t("returnFullResponse")] = ApiClient::parameterToString(*returnFullResponse);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("NoteApi->getNote does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling getNote: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling getNote: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<SirqulResponse> localVarResult(new SirqulResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling getNote: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::vector<std::shared_ptr<NoteResponse>>> NoteApi::searchNotes(double version, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<utility::string_t> notableType, boost::optional<int64_t> notableId, boost::optional<utility::string_t> noteTypes, boost::optional<utility::string_t> appKey, boost::optional<utility::string_t> keyword, boost::optional<int64_t> flagCountMinimum, boost::optional<bool> flagsExceedThreshold, boost::optional<bool> includeInactive, boost::optional<utility::string_t> sortField, boost::optional<bool> descending, boost::optional<bool> returnFullResponse, boost::optional<int64_t> updatedSince, boost::optional<int64_t> updatedBefore, boost::optional<int32_t> start, boost::optional<int32_t> limit) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/note/search");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("NoteApi->searchNotes does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (notableType)
    {
        localVarQueryParams[utility::conversions::to_string_t("notableType")] = ApiClient::parameterToString(*notableType);
    }
    if (notableId)
    {
        localVarQueryParams[utility::conversions::to_string_t("notableId")] = ApiClient::parameterToString(*notableId);
    }
    if (noteTypes)
    {
        localVarQueryParams[utility::conversions::to_string_t("noteTypes")] = ApiClient::parameterToString(*noteTypes);
    }
    if (appKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(*appKey);
    }
    if (keyword)
    {
        localVarQueryParams[utility::conversions::to_string_t("keyword")] = ApiClient::parameterToString(*keyword);
    }
    if (flagCountMinimum)
    {
        localVarQueryParams[utility::conversions::to_string_t("flagCountMinimum")] = ApiClient::parameterToString(*flagCountMinimum);
    }
    if (flagsExceedThreshold)
    {
        localVarQueryParams[utility::conversions::to_string_t("flagsExceedThreshold")] = ApiClient::parameterToString(*flagsExceedThreshold);
    }
    if (includeInactive)
    {
        localVarQueryParams[utility::conversions::to_string_t("includeInactive")] = ApiClient::parameterToString(*includeInactive);
    }
    if (sortField)
    {
        localVarQueryParams[utility::conversions::to_string_t("sortField")] = ApiClient::parameterToString(*sortField);
    }
    if (descending)
    {
        localVarQueryParams[utility::conversions::to_string_t("descending")] = ApiClient::parameterToString(*descending);
    }
    if (returnFullResponse)
    {
        localVarQueryParams[utility::conversions::to_string_t("returnFullResponse")] = ApiClient::parameterToString(*returnFullResponse);
    }
    if (updatedSince)
    {
        localVarQueryParams[utility::conversions::to_string_t("updatedSince")] = ApiClient::parameterToString(*updatedSince);
    }
    if (updatedBefore)
    {
        localVarQueryParams[utility::conversions::to_string_t("updatedBefore")] = ApiClient::parameterToString(*updatedBefore);
    }
    if (start)
    {
        localVarQueryParams[utility::conversions::to_string_t("start")] = ApiClient::parameterToString(*start);
    }
    if (limit)
    {
        localVarQueryParams[utility::conversions::to_string_t("limit")] = ApiClient::parameterToString(*limit);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("NoteApi->searchNotes does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling searchNotes: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling searchNotes: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::vector<std::shared_ptr<NoteResponse>> localVarResult;

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);
            for( auto& localVarItem : localVarJson.as_array() )
            {
                std::shared_ptr<NoteResponse> localVarItemObj;
                ModelBase::fromJson(localVarItem, localVarItemObj);
                localVarResult.push_back(localVarItemObj);
            }
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling searchNotes: unsupported response type"));
        }

        return localVarResult;
    });
}
pplx::task<std::shared_ptr<NoteResponse>> NoteApi::updateNote(double version, int64_t noteId, boost::optional<utility::string_t> deviceId, boost::optional<int64_t> accountId, boost::optional<utility::string_t> comment, boost::optional<utility::string_t> noteType, boost::optional<utility::string_t> assetIds, boost::optional<utility::string_t> tags, boost::optional<utility::string_t> permissionableType, boost::optional<int64_t> permissionableId, boost::optional<utility::string_t> appKey, boost::optional<utility::string_t> locationDescription, boost::optional<double> latitude, boost::optional<double> longitude, boost::optional<utility::string_t> metaData, boost::optional<bool> returnFullResponse, boost::optional<bool> active, boost::optional<bool> updateAsset, boost::optional<bool> assetReturnNulls, boost::optional<int64_t> assetAlbumId, boost::optional<int64_t> assetCollectionId, boost::optional<utility::string_t> assetAddToDefaultAlbum, boost::optional<bool> assetAddToMediaLibrary, boost::optional<int32_t> assetVersionCode, boost::optional<utility::string_t> assetVersionName, boost::optional<utility::string_t> assetMetaData, boost::optional<utility::string_t> assetCaption, boost::optional<std::shared_ptr<HttpContent>> assetMedia, boost::optional<utility::string_t> assetMediaUrl, boost::optional<utility::string_t> assetMediaString, boost::optional<utility::string_t> assetMediaStringFileName, boost::optional<utility::string_t> assetMediaStringContentType, boost::optional<std::shared_ptr<HttpContent>> assetAttachedMedia, boost::optional<utility::string_t> assetAttachedMediaUrl, boost::optional<utility::string_t> assetAttachedMediaString, boost::optional<utility::string_t> assetAttachedMediaStringFileName, boost::optional<utility::string_t> assetAttachedMediaStringContentType, boost::optional<utility::string_t> assetLocationDescription, boost::optional<utility::string_t> assetApp, boost::optional<utility::string_t> assetSearchTags, boost::optional<double> assetLatitude, boost::optional<double> assetLongitude) const
{


    std::shared_ptr<const ApiConfiguration> localVarApiConfiguration( m_ApiClient->getConfiguration() );
    utility::string_t localVarPath = utility::conversions::to_string_t("/api/{version}/note/update");
    boost::replace_all(localVarPath, utility::conversions::to_string_t("{") + utility::conversions::to_string_t("version") + utility::conversions::to_string_t("}"), web::uri::encode_uri(ApiClient::parameterToString(version)));

    std::map<utility::string_t, utility::string_t> localVarQueryParams;
    std::map<utility::string_t, utility::string_t> localVarHeaderParams( localVarApiConfiguration->getDefaultHeaders() );
    std::map<utility::string_t, utility::string_t> localVarFormParams;
    std::map<utility::string_t, std::shared_ptr<HttpContent>> localVarFileParams;

    std::unordered_set<utility::string_t> localVarResponseHttpContentTypes;
    localVarResponseHttpContentTypes.insert( utility::conversions::to_string_t("*/*") );

    utility::string_t localVarResponseHttpContentType;

    // use JSON if possible
    if ( localVarResponseHttpContentTypes.size() == 0 )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // JSON
    else if ( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarResponseHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarResponseHttpContentTypes.end() )
    {
        localVarResponseHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else
    {
        throw ApiException(400, utility::conversions::to_string_t("NoteApi->updateNote does not produce any supported media type"));
    }

    localVarHeaderParams[utility::conversions::to_string_t("Accept")] = localVarResponseHttpContentType;

    std::unordered_set<utility::string_t> localVarConsumeHttpContentTypes;

    {
        localVarQueryParams[utility::conversions::to_string_t("noteId")] = ApiClient::parameterToString(noteId);
    }
    if (deviceId)
    {
        localVarQueryParams[utility::conversions::to_string_t("deviceId")] = ApiClient::parameterToString(*deviceId);
    }
    if (accountId)
    {
        localVarQueryParams[utility::conversions::to_string_t("accountId")] = ApiClient::parameterToString(*accountId);
    }
    if (comment)
    {
        localVarQueryParams[utility::conversions::to_string_t("comment")] = ApiClient::parameterToString(*comment);
    }
    if (noteType)
    {
        localVarQueryParams[utility::conversions::to_string_t("noteType")] = ApiClient::parameterToString(*noteType);
    }
    if (assetIds)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetIds")] = ApiClient::parameterToString(*assetIds);
    }
    if (tags)
    {
        localVarQueryParams[utility::conversions::to_string_t("tags")] = ApiClient::parameterToString(*tags);
    }
    if (permissionableType)
    {
        localVarQueryParams[utility::conversions::to_string_t("permissionableType")] = ApiClient::parameterToString(*permissionableType);
    }
    if (permissionableId)
    {
        localVarQueryParams[utility::conversions::to_string_t("permissionableId")] = ApiClient::parameterToString(*permissionableId);
    }
    if (appKey)
    {
        localVarQueryParams[utility::conversions::to_string_t("appKey")] = ApiClient::parameterToString(*appKey);
    }
    if (locationDescription)
    {
        localVarQueryParams[utility::conversions::to_string_t("locationDescription")] = ApiClient::parameterToString(*locationDescription);
    }
    if (latitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("latitude")] = ApiClient::parameterToString(*latitude);
    }
    if (longitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("longitude")] = ApiClient::parameterToString(*longitude);
    }
    if (metaData)
    {
        localVarQueryParams[utility::conversions::to_string_t("metaData")] = ApiClient::parameterToString(*metaData);
    }
    if (returnFullResponse)
    {
        localVarQueryParams[utility::conversions::to_string_t("returnFullResponse")] = ApiClient::parameterToString(*returnFullResponse);
    }
    if (active)
    {
        localVarQueryParams[utility::conversions::to_string_t("active")] = ApiClient::parameterToString(*active);
    }
    if (updateAsset)
    {
        localVarQueryParams[utility::conversions::to_string_t("updateAsset")] = ApiClient::parameterToString(*updateAsset);
    }
    if (assetReturnNulls)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetReturnNulls")] = ApiClient::parameterToString(*assetReturnNulls);
    }
    if (assetAlbumId)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAlbumId")] = ApiClient::parameterToString(*assetAlbumId);
    }
    if (assetCollectionId)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetCollectionId")] = ApiClient::parameterToString(*assetCollectionId);
    }
    if (assetAddToDefaultAlbum)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAddToDefaultAlbum")] = ApiClient::parameterToString(*assetAddToDefaultAlbum);
    }
    if (assetAddToMediaLibrary)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAddToMediaLibrary")] = ApiClient::parameterToString(*assetAddToMediaLibrary);
    }
    if (assetVersionCode)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetVersionCode")] = ApiClient::parameterToString(*assetVersionCode);
    }
    if (assetVersionName)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetVersionName")] = ApiClient::parameterToString(*assetVersionName);
    }
    if (assetMetaData)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMetaData")] = ApiClient::parameterToString(*assetMetaData);
    }
    if (assetCaption)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetCaption")] = ApiClient::parameterToString(*assetCaption);
    }
    if (assetMedia && *assetMedia != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMedia")] = ApiClient::parameterToString(*assetMedia);
    }
    if (assetMediaUrl)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMediaUrl")] = ApiClient::parameterToString(*assetMediaUrl);
    }
    if (assetMediaString)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMediaString")] = ApiClient::parameterToString(*assetMediaString);
    }
    if (assetMediaStringFileName)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMediaStringFileName")] = ApiClient::parameterToString(*assetMediaStringFileName);
    }
    if (assetMediaStringContentType)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetMediaStringContentType")] = ApiClient::parameterToString(*assetMediaStringContentType);
    }
    if (assetAttachedMedia && *assetAttachedMedia != nullptr)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMedia")] = ApiClient::parameterToString(*assetAttachedMedia);
    }
    if (assetAttachedMediaUrl)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMediaUrl")] = ApiClient::parameterToString(*assetAttachedMediaUrl);
    }
    if (assetAttachedMediaString)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMediaString")] = ApiClient::parameterToString(*assetAttachedMediaString);
    }
    if (assetAttachedMediaStringFileName)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMediaStringFileName")] = ApiClient::parameterToString(*assetAttachedMediaStringFileName);
    }
    if (assetAttachedMediaStringContentType)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetAttachedMediaStringContentType")] = ApiClient::parameterToString(*assetAttachedMediaStringContentType);
    }
    if (assetLocationDescription)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetLocationDescription")] = ApiClient::parameterToString(*assetLocationDescription);
    }
    if (assetApp)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetApp")] = ApiClient::parameterToString(*assetApp);
    }
    if (assetSearchTags)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetSearchTags")] = ApiClient::parameterToString(*assetSearchTags);
    }
    if (assetLatitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetLatitude")] = ApiClient::parameterToString(*assetLatitude);
    }
    if (assetLongitude)
    {
        localVarQueryParams[utility::conversions::to_string_t("assetLongitude")] = ApiClient::parameterToString(*assetLongitude);
    }

    std::shared_ptr<IHttpBody> localVarHttpBody;
    utility::string_t localVarRequestHttpContentType;

    // use JSON if possible
    if ( localVarConsumeHttpContentTypes.size() == 0 || localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/json")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/json");
    }
    // multipart formdata
    else if( localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("multipart/form-data")) != localVarConsumeHttpContentTypes.end() )
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("multipart/form-data");
    }
    else if (localVarConsumeHttpContentTypes.find(utility::conversions::to_string_t("application/x-www-form-urlencoded")) != localVarConsumeHttpContentTypes.end())
    {
        localVarRequestHttpContentType = utility::conversions::to_string_t("application/x-www-form-urlencoded");
    }
    else
    {
        throw ApiException(415, utility::conversions::to_string_t("NoteApi->updateNote does not consume any supported media type"));
    }


    return m_ApiClient->callApi(localVarPath, utility::conversions::to_string_t("POST"), localVarQueryParams, localVarHttpBody, localVarHeaderParams, localVarFormParams, localVarFileParams, localVarRequestHttpContentType)
    .then([=, this](web::http::http_response localVarResponse)
    {
        if (m_ApiClient->getResponseHandler())
        {
            m_ApiClient->getResponseHandler()(localVarResponse.status_code(), localVarResponse.headers());
        }

        // 1xx - informational : OK
        // 2xx - successful       : OK
        // 3xx - redirection   : OK
        // 4xx - client error  : not OK
        // 5xx - client error  : not OK
        if (localVarResponse.status_code() >= 400)
        {
            throw ApiException(localVarResponse.status_code()
                , utility::conversions::to_string_t("error calling updateNote: ") + localVarResponse.reason_phrase()
                , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
        }

        // check response content type
        if(localVarResponse.headers().has(utility::conversions::to_string_t("Content-Type")))
        {
            utility::string_t localVarContentType = localVarResponse.headers()[utility::conversions::to_string_t("Content-Type")];
            if( localVarContentType.find(localVarResponseHttpContentType) == std::string::npos )
            {
                throw ApiException(500
                    , utility::conversions::to_string_t("error calling updateNote: unexpected response type: ") + localVarContentType
                    , std::make_shared<std::stringstream>(localVarResponse.extract_utf8string(true).get()));
            }
        }

        return localVarResponse.extract_string();
    })
    .then([=, this](utility::string_t localVarResponse)
    {
        std::shared_ptr<NoteResponse> localVarResult(new NoteResponse());

        if(localVarResponseHttpContentType == utility::conversions::to_string_t("application/json"))
        {
            web::json::value localVarJson = web::json::value::parse(localVarResponse);

            ModelBase::fromJson(localVarJson, localVarResult);
        }
        // else if(localVarResponseHttpContentType == utility::conversions::to_string_t("multipart/form-data"))
        // {
        // TODO multipart response parsing
        // }
        else
        {
            throw ApiException(500
                , utility::conversions::to_string_t("error calling updateNote: unsupported response type"));
        }

        return localVarResult;
    });
}

}
}
}
}

