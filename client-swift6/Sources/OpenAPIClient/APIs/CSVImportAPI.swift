//
// CSVImportAPI.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation

open class CSVImportAPI {

    /**
     * enum for parameter responseGroup
     */
    public enum ResponseGroup_getStatusCSV: String, Sendable, CaseIterable {
        case summary = "SUMMARY"
        case details = "DETAILS"
        case errors = "ERRORS"
        case all = "ALL"
    }

    /**
     Detail Status
     
     - parameter version: (path)  
     - parameter accountId: (query) the id of the logged in user 
     - parameter batchId: (query) the id of the batch 
     - parameter responseGroup: (query) The group of categories to return: SUMMARY, DETAILS, ERRORS, OR ALL 
     - parameter start: (query) the start of the pagination 
     - parameter limit: (query) the limit of the pagination 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: SirqulResponse
     */
    open class func getStatusCSV(version: Double, accountId: Int64, batchId: Int64, responseGroup: ResponseGroup_getStatusCSV, start: Int64, limit: Int64, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> SirqulResponse {
        return try await getStatusCSVWithRequestBuilder(version: version, accountId: accountId, batchId: batchId, responseGroup: responseGroup, start: start, limit: limit, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Detail Status
     - GET /api/{version}/csvimport/batch/status/details
     - parameter version: (path)  
     - parameter accountId: (query) the id of the logged in user 
     - parameter batchId: (query) the id of the batch 
     - parameter responseGroup: (query) The group of categories to return: SUMMARY, DETAILS, ERRORS, OR ALL 
     - parameter start: (query) the start of the pagination 
     - parameter limit: (query) the limit of the pagination 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<SirqulResponse> 
     */
    open class func getStatusCSVWithRequestBuilder(version: Double, accountId: Int64, batchId: Int64, responseGroup: ResponseGroup_getStatusCSV, start: Int64, limit: Int64, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<SirqulResponse> {
        var localVariablePath = "/api/{version}/csvimport/batch/status/details"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "accountId": (wrappedValue: accountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "batchId": (wrappedValue: batchId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "responseGroup": (wrappedValue: responseGroup.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "start": (wrappedValue: start.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "limit": (wrappedValue: limit.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<SirqulResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }

    /**
     Search Status
     
     - parameter version: (path)  
     - parameter accountId: (query) the id of the account 
     - parameter start: (query) the start of the pagination 
     - parameter limit: (query) the limit of the pagination 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: CsvImportResponse
     */
    open class func listStatusCSV(version: Double, accountId: Int64, start: Int, limit: Int, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> CsvImportResponse {
        return try await listStatusCSVWithRequestBuilder(version: version, accountId: accountId, start: start, limit: limit, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Search Status
     - GET /api/{version}/csvimport/batch/list
     - Retrieves batches for a user.
     - parameter version: (path)  
     - parameter accountId: (query) the id of the account 
     - parameter start: (query) the start of the pagination 
     - parameter limit: (query) the limit of the pagination 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<CsvImportResponse> 
     */
    open class func listStatusCSVWithRequestBuilder(version: Double, accountId: Int64, start: Int, limit: Int, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<CsvImportResponse> {
        var localVariablePath = "/api/{version}/csvimport/batch/list"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "accountId": (wrappedValue: accountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "start": (wrappedValue: start.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "limit": (wrappedValue: limit.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<CsvImportResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }

    /**
     Batch Status
     
     - parameter version: (path)  
     - parameter accountId: (query) the id of the account 
     - parameter batchId: (query) the id of the batch to get its status 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: CsvImportResponse
     */
    open class func statusCSV(version: Double, accountId: Int64, batchId: Int64, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> CsvImportResponse {
        return try await statusCSVWithRequestBuilder(version: version, accountId: accountId, batchId: batchId, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Batch Status
     - GET /api/{version}/csvimport/batch/status
     - Checks status of batch upload.
     - parameter version: (path)  
     - parameter accountId: (query) the id of the account 
     - parameter batchId: (query) the id of the batch to get its status 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<CsvImportResponse> 
     */
    open class func statusCSVWithRequestBuilder(version: Double, accountId: Int64, batchId: Int64, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<CsvImportResponse> {
        var localVariablePath = "/api/{version}/csvimport/batch/status"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "accountId": (wrappedValue: accountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "batchId": (wrappedValue: batchId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<CsvImportResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }

    /**
     * enum for parameter uploadType
     */
    public enum UploadType_uploadCSV: String, Sendable, CaseIterable {
        case offers = "OFFERS"
        case retailers = "RETAILERS"
        case retailerlocations = "RETAILERLOCATIONS"
        case categories = "CATEGORIES"
        case filters = "FILTERS"
    }

    /**
     * enum for parameter fileFormat
     */
    public enum FileFormat_uploadCSV: String, Sendable, CaseIterable {
        case excel = "EXCEL"
        case mysql = "MYSQL"
        case rfc4180 = "RFC4180"
        case tdf = "TDF"
    }

    /**
     Upload CSV
     
     - parameter version: (path)  
     - parameter accountId: (query) the id of the account 
     - parameter uploadType: (query) the upload type: OFFERS, RETAILERS, RETAILERLOCATIONS, CATEGORIES, OR FILTERS 
     - parameter importFile: (query) the import file to reference 
     - parameter fileFormat: (query) the format of the file 
     - parameter appKey: (query) the application key (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: CsvImportResponse
     */
    open class func uploadCSV(version: Double, accountId: Int64, uploadType: UploadType_uploadCSV, importFile: URL, fileFormat: FileFormat_uploadCSV, appKey: String? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> CsvImportResponse {
        return try await uploadCSVWithRequestBuilder(version: version, accountId: accountId, uploadType: uploadType, importFile: importFile, fileFormat: fileFormat, appKey: appKey, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Upload CSV
     - POST /api/{version}/csvimport/upload
     - Uploads a CSV import file.
     - parameter version: (path)  
     - parameter accountId: (query) the id of the account 
     - parameter uploadType: (query) the upload type: OFFERS, RETAILERS, RETAILERLOCATIONS, CATEGORIES, OR FILTERS 
     - parameter importFile: (query) the import file to reference 
     - parameter fileFormat: (query) the format of the file 
     - parameter appKey: (query) the application key (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<CsvImportResponse> 
     */
    open class func uploadCSVWithRequestBuilder(version: Double, accountId: Int64, uploadType: UploadType_uploadCSV, importFile: URL, fileFormat: FileFormat_uploadCSV, appKey: String? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<CsvImportResponse> {
        var localVariablePath = "/api/{version}/csvimport/upload"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "accountId": (wrappedValue: accountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "uploadType": (wrappedValue: uploadType.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "importFile": (wrappedValue: importFile.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "appKey": (wrappedValue: appKey?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "fileFormat": (wrappedValue: fileFormat.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<CsvImportResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }
}
