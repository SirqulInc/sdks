//
// StripeAPI.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation

open class StripeAPI {

    /**
     Create Stripe Checkout Session
     
     - parameter appKey: (query) Sirqul Application Key 
     - parameter stripeParameters: (query) Stripe Parameters 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: SirqulResponse
     */
    open class func createStripeCheckoutSession(appKey: String, stripeParameters: String, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> SirqulResponse {
        return try await createStripeCheckoutSessionWithRequestBuilder(appKey: appKey, stripeParameters: stripeParameters, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Create Stripe Checkout Session
     - POST /stripe/checkout/session/create
     - Create a Stripe checkout session
     - parameter appKey: (query) Sirqul Application Key 
     - parameter stripeParameters: (query) Stripe Parameters 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<SirqulResponse> 
     */
    open class func createStripeCheckoutSessionWithRequestBuilder(appKey: String, stripeParameters: String, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<SirqulResponse> {
        let localVariablePath = "/stripe/checkout/session/create"
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "appKey": (wrappedValue: appKey.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "stripeParameters": (wrappedValue: stripeParameters.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<SirqulResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }
}
