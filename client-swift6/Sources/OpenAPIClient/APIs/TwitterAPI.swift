//
// TwitterAPI.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation

open class TwitterAPI {

    /**
     Authorize Twitter
     
     - parameter version: (path)  
     - parameter appKey: (query) the application key 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: SirqulResponse
     */
    open class func authorizeTwitter(version: Double, appKey: String, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> SirqulResponse {
        return try await authorizeTwitterWithRequestBuilder(version: version, appKey: appKey, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Authorize Twitter
     - POST /api/{version}/twitter/authorize
     - Makes an authorization call to twitter for a user to login and allow any app permissions.
     - parameter version: (path)  
     - parameter appKey: (query) the application key 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<SirqulResponse> 
     */
    open class func authorizeTwitterWithRequestBuilder(version: Double, appKey: String, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<SirqulResponse> {
        var localVariablePath = "/api/{version}/twitter/authorize"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "appKey": (wrappedValue: appKey.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<SirqulResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }

    /**
     Login Twitter
     
     - parameter version: (path)  
     - parameter accessToken: (query) The access token 
     - parameter accessTokenSecret: (query) The secret access token 
     - parameter appKey: (query) The application key 
     - parameter responseFilters: (query) a comma separated list of ProfileFilters for filtering the returned response data 
     - parameter deviceId: (query) The device id (optional)
     - parameter latitude: (query) The current latitude of the user (optional)
     - parameter longitude: (query) The current longitude of the user (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: ProfileResponse
     */
    open class func loginTwitter(version: Double, accessToken: String, accessTokenSecret: String, appKey: String, responseFilters: String, deviceId: String? = nil, latitude: Double? = nil, longitude: Double? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> ProfileResponse {
        return try await loginTwitterWithRequestBuilder(version: version, accessToken: accessToken, accessTokenSecret: accessTokenSecret, appKey: appKey, responseFilters: responseFilters, deviceId: deviceId, latitude: latitude, longitude: longitude, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Login Twitter
     - POST /api/{version}/twitter/login
     - Returns the user profile information given an access token and the secret access token. This call verifies the tokens with twitter and creates a Sirqul account for the user if its their first time logging in.
     - parameter version: (path)  
     - parameter accessToken: (query) The access token 
     - parameter accessTokenSecret: (query) The secret access token 
     - parameter appKey: (query) The application key 
     - parameter responseFilters: (query) a comma separated list of ProfileFilters for filtering the returned response data 
     - parameter deviceId: (query) The device id (optional)
     - parameter latitude: (query) The current latitude of the user (optional)
     - parameter longitude: (query) The current longitude of the user (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<ProfileResponse> 
     */
    open class func loginTwitterWithRequestBuilder(version: Double, accessToken: String, accessTokenSecret: String, appKey: String, responseFilters: String, deviceId: String? = nil, latitude: Double? = nil, longitude: Double? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<ProfileResponse> {
        var localVariablePath = "/api/{version}/twitter/login"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "deviceId": (wrappedValue: deviceId?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "accessToken": (wrappedValue: accessToken.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "accessTokenSecret": (wrappedValue: accessTokenSecret.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "appKey": (wrappedValue: appKey.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "responseFilters": (wrappedValue: responseFilters.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "latitude": (wrappedValue: latitude?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "longitude": (wrappedValue: longitude?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<ProfileResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }
}
