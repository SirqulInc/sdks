//
// DisbursementAPI.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation

open class DisbursementAPI {

    /**
     Check Disbursements
     
     - parameter version: (path)  
     - parameter disbursementId: (query) the ID of the disbursement being checked on 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: DisbursementResponse
     */
    open class func checkDisbursements(version: Double, disbursementId: Int64, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> DisbursementResponse {
        return try await checkDisbursementsWithRequestBuilder(version: version, disbursementId: disbursementId, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Check Disbursements
     - GET /api/{version}/disbursement/check
     - Checks the status of a captured disbrusement to see if it has been settled.
     - parameter version: (path)  
     - parameter disbursementId: (query) the ID of the disbursement being checked on 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<DisbursementResponse> 
     */
    open class func checkDisbursementsWithRequestBuilder(version: Double, disbursementId: Int64, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<DisbursementResponse> {
        var localVariablePath = "/api/{version}/disbursement/check"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "disbursementId": (wrappedValue: disbursementId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<DisbursementResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }

    /**
     * enum for parameter provider
     */
    public enum Provider_createDisbursement: String, Sendable, CaseIterable {
        case authorizeNet = "AUTHORIZE_NET"
        case amazonFps = "AMAZON_FPS"
        case billCom = "BILL_COM"
    }

    /**
     Create Disbursement
     
     - parameter version: (path)  
     - parameter accountId: (query) the ID of the logging in user (must be an EXECUTIVE account) 
     - parameter receiverAccountId: (query) the ID of the account receiving the disbursement 
     - parameter originalSenderAccountId: (query) the ID of the original sender account 
     - parameter amount: (query) the dollar amount of the disbursement 
     - parameter provider: (query) the provider (e.g. Authorize.net, Bill.com, etc.) 
     - parameter scheduledDate: (query) the date that the disbursement is scheduled to go out to the payment provider (optional)
     - parameter title: (query) a title given for the disbursement (optional)
     - parameter comment: (query) a comment that could be made for a disbursement (optional)
     - parameter externalId: (query) external ID, which can be used as a way to reference the disbursement (optional)
     - parameter introspectionParams: (query) This is for specifying parameters to make an http callback request for validating that the disbursement is valid (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: DisbursementResponse
     */
    open class func createDisbursement(version: Double, accountId: Int64, receiverAccountId: Int64, originalSenderAccountId: Int64, amount: Double, provider: Provider_createDisbursement, scheduledDate: Int64? = nil, title: String? = nil, comment: String? = nil, externalId: String? = nil, introspectionParams: String? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> DisbursementResponse {
        return try await createDisbursementWithRequestBuilder(version: version, accountId: accountId, receiverAccountId: receiverAccountId, originalSenderAccountId: originalSenderAccountId, amount: amount, provider: provider, scheduledDate: scheduledDate, title: title, comment: comment, externalId: externalId, introspectionParams: introspectionParams, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Create Disbursement
     - POST /api/{version}/disbursement/create
     - Creates a Disbursement for sending money to a retailer
     - parameter version: (path)  
     - parameter accountId: (query) the ID of the logging in user (must be an EXECUTIVE account) 
     - parameter receiverAccountId: (query) the ID of the account receiving the disbursement 
     - parameter originalSenderAccountId: (query) the ID of the original sender account 
     - parameter amount: (query) the dollar amount of the disbursement 
     - parameter provider: (query) the provider (e.g. Authorize.net, Bill.com, etc.) 
     - parameter scheduledDate: (query) the date that the disbursement is scheduled to go out to the payment provider (optional)
     - parameter title: (query) a title given for the disbursement (optional)
     - parameter comment: (query) a comment that could be made for a disbursement (optional)
     - parameter externalId: (query) external ID, which can be used as a way to reference the disbursement (optional)
     - parameter introspectionParams: (query) This is for specifying parameters to make an http callback request for validating that the disbursement is valid (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<DisbursementResponse> 
     */
    open class func createDisbursementWithRequestBuilder(version: Double, accountId: Int64, receiverAccountId: Int64, originalSenderAccountId: Int64, amount: Double, provider: Provider_createDisbursement, scheduledDate: Int64? = nil, title: String? = nil, comment: String? = nil, externalId: String? = nil, introspectionParams: String? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<DisbursementResponse> {
        var localVariablePath = "/api/{version}/disbursement/create"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "accountId": (wrappedValue: accountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "receiverAccountId": (wrappedValue: receiverAccountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "originalSenderAccountId": (wrappedValue: originalSenderAccountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "amount": (wrappedValue: amount.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "provider": (wrappedValue: provider.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "scheduledDate": (wrappedValue: scheduledDate?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "title": (wrappedValue: title?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "comment": (wrappedValue: comment?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "externalId": (wrappedValue: externalId?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "introspectionParams": (wrappedValue: introspectionParams?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<DisbursementResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }

    /**
     Get Disbursement
     
     - parameter version: (path)  
     - parameter accountId: (query) The logged in user. 
     - parameter disbursementId: (query) the id of the disbursement 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: DisbursementResponse
     */
    open class func getDisbursement(version: Double, accountId: Int64, disbursementId: Int64, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> DisbursementResponse {
        return try await getDisbursementWithRequestBuilder(version: version, accountId: accountId, disbursementId: disbursementId, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Get Disbursement
     - GET /api/{version}/disbursement/get
     - Get Disbursement details
     - parameter version: (path)  
     - parameter accountId: (query) The logged in user. 
     - parameter disbursementId: (query) the id of the disbursement 
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<DisbursementResponse> 
     */
    open class func getDisbursementWithRequestBuilder(version: Double, accountId: Int64, disbursementId: Int64, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<DisbursementResponse> {
        var localVariablePath = "/api/{version}/disbursement/get"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "accountId": (wrappedValue: accountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "disbursementId": (wrappedValue: disbursementId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<DisbursementResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }

    /**
     Search Disbursements
     
     - parameter version: (path)  
     - parameter accountId: (query) the id of the logged in user 
     - parameter receiverAccountId: (query) filter results by the id of the account receiving the disbursement (optional)
     - parameter statuses: (query) comma separated list of status values to search for, possilbe values include: NEW, APPROVED, VALIDATING, ERROR, AUTHORIZED, CAPTURED, SETTLED (optional)
     - parameter providers: (query) comma separated list of payment providers to search for, possbile values include: AUTHORIZE_NET, AMAZON_FPS, BILL_COM (optional)
     - parameter beforeDate: (query) the date for searching disbursements before it has been processed (optional)
     - parameter afterDate: (query) the date for searching disbursements before it has been processed (optional)
     - parameter start: (query) the start index for pagination (optional, default to 0)
     - parameter limit: (query) the limit per result set for pagination (optional, default to 20)
     - parameter activeOnly: (query) search on disbursements that are active only (optional, default to false)
     - parameter externalId: (query) search results by this external ID (that can be used to reference the disbursement) (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: [DisbursementResponse]
     */
    open class func searchDisbursements(version: Double, accountId: Int64, receiverAccountId: Int64? = nil, statuses: String? = nil, providers: String? = nil, beforeDate: Int64? = nil, afterDate: Int64? = nil, start: Int? = nil, limit: Int? = nil, activeOnly: Bool? = nil, externalId: String? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> [DisbursementResponse] {
        return try await searchDisbursementsWithRequestBuilder(version: version, accountId: accountId, receiverAccountId: receiverAccountId, statuses: statuses, providers: providers, beforeDate: beforeDate, afterDate: afterDate, start: start, limit: limit, activeOnly: activeOnly, externalId: externalId, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Search Disbursements
     - GET /api/{version}/disbursement/search
     - Search Disbursements
     - parameter version: (path)  
     - parameter accountId: (query) the id of the logged in user 
     - parameter receiverAccountId: (query) filter results by the id of the account receiving the disbursement (optional)
     - parameter statuses: (query) comma separated list of status values to search for, possilbe values include: NEW, APPROVED, VALIDATING, ERROR, AUTHORIZED, CAPTURED, SETTLED (optional)
     - parameter providers: (query) comma separated list of payment providers to search for, possbile values include: AUTHORIZE_NET, AMAZON_FPS, BILL_COM (optional)
     - parameter beforeDate: (query) the date for searching disbursements before it has been processed (optional)
     - parameter afterDate: (query) the date for searching disbursements before it has been processed (optional)
     - parameter start: (query) the start index for pagination (optional, default to 0)
     - parameter limit: (query) the limit per result set for pagination (optional, default to 20)
     - parameter activeOnly: (query) search on disbursements that are active only (optional, default to false)
     - parameter externalId: (query) search results by this external ID (that can be used to reference the disbursement) (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<[DisbursementResponse]> 
     */
    open class func searchDisbursementsWithRequestBuilder(version: Double, accountId: Int64, receiverAccountId: Int64? = nil, statuses: String? = nil, providers: String? = nil, beforeDate: Int64? = nil, afterDate: Int64? = nil, start: Int? = nil, limit: Int? = nil, activeOnly: Bool? = nil, externalId: String? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<[DisbursementResponse]> {
        var localVariablePath = "/api/{version}/disbursement/search"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "accountId": (wrappedValue: accountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "receiverAccountId": (wrappedValue: receiverAccountId?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "statuses": (wrappedValue: statuses?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "providers": (wrappedValue: providers?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "beforeDate": (wrappedValue: beforeDate?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "afterDate": (wrappedValue: afterDate?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "start": (wrappedValue: start?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "limit": (wrappedValue: limit?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "activeOnly": (wrappedValue: activeOnly?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "externalId": (wrappedValue: externalId?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<[DisbursementResponse]>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }

    /**
     * enum for parameter provider
     */
    public enum Provider_updateDisbursement: String, Sendable, CaseIterable {
        case authorizeNet = "AUTHORIZE_NET"
        case amazonFps = "AMAZON_FPS"
        case billCom = "BILL_COM"
    }

    /**
     Update Disbursement
     
     - parameter version: (path)  
     - parameter accountId: (query) the id of the logged in user 
     - parameter disbursementId: (query) the id of the disbursement being updated 
     - parameter amount: (query) the disbursement dollar amount being updated (optional)
     - parameter provider: (query) the payments and/or billing provider (e.g. Authorize.net, Bill.com, etc.) (optional)
     - parameter scheduledDate: (query) the date that the disbursement is scheduled to go out to the payment provider (optional)
     - parameter title: (query) the title given to the disbursement (optional)
     - parameter comment: (query) a comment that can be made on a disbursement (optional)
     - parameter externalId: (query) an external ID that can be used to reference the disbursement (optional)
     - parameter retry: (query) determines whether to try sending the disbursement again in the case of a previous failure (optional)
     - parameter introspectionParams: (query) for specifying parameters to make an http callback request for validating that the disbursement is valid (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: DisbursementResponse
     */
    open class func updateDisbursement(version: Double, accountId: Int64, disbursementId: Int64, amount: Double? = nil, provider: Provider_updateDisbursement? = nil, scheduledDate: Int64? = nil, title: String? = nil, comment: String? = nil, externalId: String? = nil, retry: Bool? = nil, introspectionParams: String? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) async throws(ErrorResponse) -> DisbursementResponse {
        return try await updateDisbursementWithRequestBuilder(version: version, accountId: accountId, disbursementId: disbursementId, amount: amount, provider: provider, scheduledDate: scheduledDate, title: title, comment: comment, externalId: externalId, retry: retry, introspectionParams: introspectionParams, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Update Disbursement
     - POST /api/{version}/disbursement/update
     - Update Disbursement
     - parameter version: (path)  
     - parameter accountId: (query) the id of the logged in user 
     - parameter disbursementId: (query) the id of the disbursement being updated 
     - parameter amount: (query) the disbursement dollar amount being updated (optional)
     - parameter provider: (query) the payments and/or billing provider (e.g. Authorize.net, Bill.com, etc.) (optional)
     - parameter scheduledDate: (query) the date that the disbursement is scheduled to go out to the payment provider (optional)
     - parameter title: (query) the title given to the disbursement (optional)
     - parameter comment: (query) a comment that can be made on a disbursement (optional)
     - parameter externalId: (query) an external ID that can be used to reference the disbursement (optional)
     - parameter retry: (query) determines whether to try sending the disbursement again in the case of a previous failure (optional)
     - parameter introspectionParams: (query) for specifying parameters to make an http callback request for validating that the disbursement is valid (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<DisbursementResponse> 
     */
    open class func updateDisbursementWithRequestBuilder(version: Double, accountId: Int64, disbursementId: Int64, amount: Double? = nil, provider: Provider_updateDisbursement? = nil, scheduledDate: Int64? = nil, title: String? = nil, comment: String? = nil, externalId: String? = nil, retry: Bool? = nil, introspectionParams: String? = nil, apiConfiguration: OpenAPIClientAPIConfiguration = OpenAPIClientAPIConfiguration.shared) -> RequestBuilder<DisbursementResponse> {
        var localVariablePath = "/api/{version}/disbursement/update"
        let versionPreEscape = "\(APIHelper.mapValueToPathItem(version))"
        let versionPostEscape = versionPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{version}", with: versionPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "accountId": (wrappedValue: accountId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "disbursementId": (wrappedValue: disbursementId.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "amount": (wrappedValue: amount?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "provider": (wrappedValue: provider?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "scheduledDate": (wrappedValue: scheduledDate?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "title": (wrappedValue: title?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "comment": (wrappedValue: comment?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "externalId": (wrappedValue: externalId?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "retry": (wrappedValue: retry?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "introspectionParams": (wrappedValue: introspectionParams?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<DisbursementResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: false, apiConfiguration: apiConfiguration)
    }
}
