=begin
#Sirqul IoT Platform

#Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>

The version of the OpenAPI document: 3.16
Contact: info@sirqul.com
Generated by: https://openapi-generator.tech
Generator version: 7.20.0-SNAPSHOT

=end

require 'cgi'

module OpenapiClient
  class PurchaseItemApi
    attr_accessor :api_client

    def initialize(api_client = ApiClient.default)
      @api_client = api_client
    end
    # Create Purchase
    # Creates a purchase item for in app purchases
    # @param app_key [String] The application key that the purchase can be used in
    # @param name [String] The name of the purchase item
    # @param purchase_type [String] The purchase provider &lt;ul&gt; &lt;li&gt;SIRQUL - the Sirqul store to make purchases using tickets&lt;/li&gt; &lt;li&gt;IOS - the iTunes store for iPhone, iPod, iPod Touch&lt;/li&gt; &lt;li&gt;GOOGLE - the Google Play store&lt;/li&gt; &lt;li&gt;AMAZON - the Amazon Android store&lt;/li&gt; &lt;li&gt;MAC - the iTunes store for OSX&lt;/li&gt; &lt;li&gt;WP8 - the Windows Phone 8 store&lt;/li&gt; &lt;li&gt;FREE - used for purchase items that are free (can be used for development/testing purposes)&lt;/li&gt; &lt;/ul&gt;
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @option opts [String] :description The description of the purchase item
    # @option opts [Integer] :tickets How much the purchase item is worth in tickets
    # @option opts [Float] :price How much the purchase item will cost in real money
    # @option opts [String] :purchase_code The unique identifier used by purchase providers to identify in-app-purchases
    # @option opts [String] :secret_key A secret key from purchase providers that would be used for validation
    # @option opts [Integer] :purchase_limit How many times a user acquire the same purchase item (default to 0)
    # @option opts [String] :service_action Determines whether the purchase item will enable certain features &lt;ul&gt; &lt;li&gt;DAY_PREMIUM - subscribes a user for a day of membership&lt;/li&gt; &lt;li&gt;WEEK_PREMIUM - subscribes a user for a week of membership&lt;/li&gt; &lt;li&gt;MONTH_PREMIUM - subscribes a user for a month of membership&lt;/li&gt; &lt;li&gt;ADD_TICKET - allows a user to add more tickets to their account&lt;/li&gt; &lt;li&gt;ADD_GIFT - allows a user to send/recieve the purchase item as a gift&lt;/li&gt; &lt;/ul&gt;
    # @option opts [Integer] :cover_asset_id The cover image of the purchase item
    # @option opts [Integer] :promo_asset_id An application specific asset that can be used to store/provide additional data
    # @option opts [Boolean] :giftable Determines whether the purchase item can be gifted to other users
    # @option opts [Boolean] :assetable Determines whether users can attach their own media/asset to the purchase item
    # @option opts [Boolean] :allocate_tickets Flag to indicate owner should receive tickets for completed missions (default to false)
    # @option opts [String] :ticket_type The type of ticket to reward, null means default type
    # @option opts [Integer] :points The number of points to award for completing a mission
    # @option opts [Integer] :offer_location_id The offer location that will get added to the user&#39;s wallet after purchase.
    # @return [PurchaseItemFullResponse]
    def create_purchase_item(app_key, name, purchase_type, opts = {})
      data, _status_code, _headers = create_purchase_item_with_http_info(app_key, name, purchase_type, opts)
      data
    end

    # Create Purchase
    # Creates a purchase item for in app purchases
    # @param app_key [String] The application key that the purchase can be used in
    # @param name [String] The name of the purchase item
    # @param purchase_type [String] The purchase provider &lt;ul&gt; &lt;li&gt;SIRQUL - the Sirqul store to make purchases using tickets&lt;/li&gt; &lt;li&gt;IOS - the iTunes store for iPhone, iPod, iPod Touch&lt;/li&gt; &lt;li&gt;GOOGLE - the Google Play store&lt;/li&gt; &lt;li&gt;AMAZON - the Amazon Android store&lt;/li&gt; &lt;li&gt;MAC - the iTunes store for OSX&lt;/li&gt; &lt;li&gt;WP8 - the Windows Phone 8 store&lt;/li&gt; &lt;li&gt;FREE - used for purchase items that are free (can be used for development/testing purposes)&lt;/li&gt; &lt;/ul&gt;
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @option opts [String] :description The description of the purchase item
    # @option opts [Integer] :tickets How much the purchase item is worth in tickets
    # @option opts [Float] :price How much the purchase item will cost in real money
    # @option opts [String] :purchase_code The unique identifier used by purchase providers to identify in-app-purchases
    # @option opts [String] :secret_key A secret key from purchase providers that would be used for validation
    # @option opts [Integer] :purchase_limit How many times a user acquire the same purchase item (default to 0)
    # @option opts [String] :service_action Determines whether the purchase item will enable certain features &lt;ul&gt; &lt;li&gt;DAY_PREMIUM - subscribes a user for a day of membership&lt;/li&gt; &lt;li&gt;WEEK_PREMIUM - subscribes a user for a week of membership&lt;/li&gt; &lt;li&gt;MONTH_PREMIUM - subscribes a user for a month of membership&lt;/li&gt; &lt;li&gt;ADD_TICKET - allows a user to add more tickets to their account&lt;/li&gt; &lt;li&gt;ADD_GIFT - allows a user to send/recieve the purchase item as a gift&lt;/li&gt; &lt;/ul&gt;
    # @option opts [Integer] :cover_asset_id The cover image of the purchase item
    # @option opts [Integer] :promo_asset_id An application specific asset that can be used to store/provide additional data
    # @option opts [Boolean] :giftable Determines whether the purchase item can be gifted to other users
    # @option opts [Boolean] :assetable Determines whether users can attach their own media/asset to the purchase item
    # @option opts [Boolean] :allocate_tickets Flag to indicate owner should receive tickets for completed missions (default to false)
    # @option opts [String] :ticket_type The type of ticket to reward, null means default type
    # @option opts [Integer] :points The number of points to award for completing a mission
    # @option opts [Integer] :offer_location_id The offer location that will get added to the user&#39;s wallet after purchase.
    # @return [Array<(PurchaseItemFullResponse, Integer, Hash)>] PurchaseItemFullResponse data, response status code and response headers
    def create_purchase_item_with_http_info(app_key, name, purchase_type, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: PurchaseItemApi.create_purchase_item ...'
      end
      # verify the required parameter 'app_key' is set
      if @api_client.config.client_side_validation && app_key.nil?
        fail ArgumentError, "Missing the required parameter 'app_key' when calling PurchaseItemApi.create_purchase_item"
      end
      # verify the required parameter 'name' is set
      if @api_client.config.client_side_validation && name.nil?
        fail ArgumentError, "Missing the required parameter 'name' when calling PurchaseItemApi.create_purchase_item"
      end
      # verify the required parameter 'purchase_type' is set
      if @api_client.config.client_side_validation && purchase_type.nil?
        fail ArgumentError, "Missing the required parameter 'purchase_type' when calling PurchaseItemApi.create_purchase_item"
      end
      # verify enum value
      allowable_values = ["SIRQUL", "IOS", "GOOGLE", "AMAZON", "MAC", "WP8", "FREE"]
      if @api_client.config.client_side_validation && !allowable_values.include?(purchase_type)
        fail ArgumentError, "invalid value for \"purchase_type\", must be one of #{allowable_values}"
      end
      allowable_values = ["DAY_PREMIUM", "WEEK_PREMIUM", "MONTH_PREMIUM", "YEAR_PREMIUM", "LIFETIME_PREMIUM", "ADD_TICKET", "ADD_GIFT", "ADD_POINTS"]
      if @api_client.config.client_side_validation && opts[:'service_action'] && !allowable_values.include?(opts[:'service_action'])
        fail ArgumentError, "invalid value for \"service_action\", must be one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/purchase/create'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'appKey'] = app_key
      query_params[:'name'] = name
      query_params[:'purchaseType'] = purchase_type
      query_params[:'deviceId'] = opts[:'device_id'] if !opts[:'device_id'].nil?
      query_params[:'accountId'] = opts[:'account_id'] if !opts[:'account_id'].nil?
      query_params[:'description'] = opts[:'description'] if !opts[:'description'].nil?
      query_params[:'tickets'] = opts[:'tickets'] if !opts[:'tickets'].nil?
      query_params[:'price'] = opts[:'price'] if !opts[:'price'].nil?
      query_params[:'purchaseCode'] = opts[:'purchase_code'] if !opts[:'purchase_code'].nil?
      query_params[:'secretKey'] = opts[:'secret_key'] if !opts[:'secret_key'].nil?
      query_params[:'purchaseLimit'] = opts[:'purchase_limit'] if !opts[:'purchase_limit'].nil?
      query_params[:'serviceAction'] = opts[:'service_action'] if !opts[:'service_action'].nil?
      query_params[:'coverAssetId'] = opts[:'cover_asset_id'] if !opts[:'cover_asset_id'].nil?
      query_params[:'promoAssetId'] = opts[:'promo_asset_id'] if !opts[:'promo_asset_id'].nil?
      query_params[:'giftable'] = opts[:'giftable'] if !opts[:'giftable'].nil?
      query_params[:'assetable'] = opts[:'assetable'] if !opts[:'assetable'].nil?
      query_params[:'allocateTickets'] = opts[:'allocate_tickets'] if !opts[:'allocate_tickets'].nil?
      query_params[:'ticketType'] = opts[:'ticket_type'] if !opts[:'ticket_type'].nil?
      query_params[:'points'] = opts[:'points'] if !opts[:'points'].nil?
      query_params[:'offerLocationId'] = opts[:'offer_location_id'] if !opts[:'offer_location_id'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['*/*']) unless header_params['Accept']

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'PurchaseItemFullResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || []

      new_options = opts.merge(
        :operation => :"PurchaseItemApi.create_purchase_item",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:POST, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: PurchaseItemApi#create_purchase_item\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Delete Purchase
    # Marks the purchase item as deleted
    # @param purchase_item_id [Integer] The purchase item id
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @return [SirqulResponse]
    def delete_purchase_item(purchase_item_id, opts = {})
      data, _status_code, _headers = delete_purchase_item_with_http_info(purchase_item_id, opts)
      data
    end

    # Delete Purchase
    # Marks the purchase item as deleted
    # @param purchase_item_id [Integer] The purchase item id
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @return [Array<(SirqulResponse, Integer, Hash)>] SirqulResponse data, response status code and response headers
    def delete_purchase_item_with_http_info(purchase_item_id, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: PurchaseItemApi.delete_purchase_item ...'
      end
      # verify the required parameter 'purchase_item_id' is set
      if @api_client.config.client_side_validation && purchase_item_id.nil?
        fail ArgumentError, "Missing the required parameter 'purchase_item_id' when calling PurchaseItemApi.delete_purchase_item"
      end
      # resource path
      local_var_path = '/purchase/delete'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'purchaseItemId'] = purchase_item_id
      query_params[:'deviceId'] = opts[:'device_id'] if !opts[:'device_id'].nil?
      query_params[:'accountId'] = opts[:'account_id'] if !opts[:'account_id'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['*/*']) unless header_params['Accept']

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'SirqulResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || []

      new_options = opts.merge(
        :operation => :"PurchaseItemApi.delete_purchase_item",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:POST, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: PurchaseItemApi#delete_purchase_item\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Get Purchase
    # Get detailed information about a purchase item
    # @param purchase_item_id [Integer] The purchase item id
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @return [PurchaseItemFullResponse]
    def get_purchase_item(purchase_item_id, opts = {})
      data, _status_code, _headers = get_purchase_item_with_http_info(purchase_item_id, opts)
      data
    end

    # Get Purchase
    # Get detailed information about a purchase item
    # @param purchase_item_id [Integer] The purchase item id
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @return [Array<(PurchaseItemFullResponse, Integer, Hash)>] PurchaseItemFullResponse data, response status code and response headers
    def get_purchase_item_with_http_info(purchase_item_id, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: PurchaseItemApi.get_purchase_item ...'
      end
      # verify the required parameter 'purchase_item_id' is set
      if @api_client.config.client_side_validation && purchase_item_id.nil?
        fail ArgumentError, "Missing the required parameter 'purchase_item_id' when calling PurchaseItemApi.get_purchase_item"
      end
      # resource path
      local_var_path = '/purchase/get'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'purchaseItemId'] = purchase_item_id
      query_params[:'deviceId'] = opts[:'device_id'] if !opts[:'device_id'].nil?
      query_params[:'accountId'] = opts[:'account_id'] if !opts[:'account_id'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['*/*']) unless header_params['Accept']

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'PurchaseItemFullResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || []

      new_options = opts.merge(
        :operation => :"PurchaseItemApi.get_purchase_item",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:GET, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: PurchaseItemApi#get_purchase_item\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Search Purchases
    # Search for purchasable items from the system
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @option opts [String] :app_key The application key to filter results by application
    # @option opts [Boolean] :filter_by_billable Determines whether to filter results by the user&#39;s billable entity (default to false)
    # @option opts [String] :purchase_type A comma separated list of purchase providers to filter by. Possible values include: &lt;ul&gt; &lt;li&gt;SIRQUL - purchases from the Sirqul store using tickets&lt;/li&gt; &lt;li&gt;IOS - purchases from the iTunes store for iPhone, iPod, iPod Touch&lt;/li&gt; &lt;li&gt;GOOGLE - purchases from the Google Play store&lt;/li&gt; &lt;li&gt;AMAZON - purchases from the Amazon Android store&lt;/li&gt; &lt;li&gt;MAC - purchases from the iTunes store for OSX&lt;/li&gt; &lt;li&gt;WP8 - purchases from the Windows Phone 8 store&lt;/li&gt; &lt;li&gt;FREE - purchases that are free (can be used for development/testing purposes)&lt;/li&gt; &lt;/ul&gt;
    # @option opts [String] :service_action A comma separated list of service actions to filter results by. Possible values include: &lt;ul&gt; &lt;li&gt;DAY_PREMIUM - purchases that subscribes a user for a day of membership&lt;/li&gt; &lt;li&gt;WEEK_PREMIUM - purchases that subscribes a user for a week of membership&lt;/li&gt; &lt;li&gt;MONTH_PREMIUM - purchases that subscribes a user for a month of membership&lt;/li&gt; &lt;li&gt;ADD_TICKET - purchases that allow users to add more tickets&lt;/li&gt; &lt;li&gt;ADD_GIFT - purchases that allow users to recieve gifts&lt;/li&gt; &lt;/ul&gt;
    # @option opts [String] :keyword The keyword used to search
    # @option opts [String] :sort_field The column to sort the search on. Possible values include: ID, CREATED, UPDATED, ACTIVE, ACTIVATED, EXPIRES, TITLE, SUBTITLE, DETAILS, OFFER_TYPE, SPECIAL_OFFER_TYPE, OFFER_VISIBILITY, ESTIMATED_VALUE, VOUCHER_PRICE, RETAILER_ID, RETAILER_NAME, RETAILER_LOCATION_ID, RETAILER_LOCATION_NAME, BILLABLE_ENTITY_ID, BILLABLE_ENTITY_NAME, RESPONSIBLE_DISPLAY (default to 'NAME')
    # @option opts [Boolean] :descending The order to return the search results (default to false)
    # @option opts [Integer] :start The record to begin the return set on (default to 0)
    # @option opts [Integer] :limit The number of records to return (default to 20)
    # @option opts [Boolean] :active_only Return only active results (default to false)
    # @return [Array<PurchaseItemResponse>]
    def search_purchase_items(opts = {})
      data, _status_code, _headers = search_purchase_items_with_http_info(opts)
      data
    end

    # Search Purchases
    # Search for purchasable items from the system
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @option opts [String] :app_key The application key to filter results by application
    # @option opts [Boolean] :filter_by_billable Determines whether to filter results by the user&#39;s billable entity (default to false)
    # @option opts [String] :purchase_type A comma separated list of purchase providers to filter by. Possible values include: &lt;ul&gt; &lt;li&gt;SIRQUL - purchases from the Sirqul store using tickets&lt;/li&gt; &lt;li&gt;IOS - purchases from the iTunes store for iPhone, iPod, iPod Touch&lt;/li&gt; &lt;li&gt;GOOGLE - purchases from the Google Play store&lt;/li&gt; &lt;li&gt;AMAZON - purchases from the Amazon Android store&lt;/li&gt; &lt;li&gt;MAC - purchases from the iTunes store for OSX&lt;/li&gt; &lt;li&gt;WP8 - purchases from the Windows Phone 8 store&lt;/li&gt; &lt;li&gt;FREE - purchases that are free (can be used for development/testing purposes)&lt;/li&gt; &lt;/ul&gt;
    # @option opts [String] :service_action A comma separated list of service actions to filter results by. Possible values include: &lt;ul&gt; &lt;li&gt;DAY_PREMIUM - purchases that subscribes a user for a day of membership&lt;/li&gt; &lt;li&gt;WEEK_PREMIUM - purchases that subscribes a user for a week of membership&lt;/li&gt; &lt;li&gt;MONTH_PREMIUM - purchases that subscribes a user for a month of membership&lt;/li&gt; &lt;li&gt;ADD_TICKET - purchases that allow users to add more tickets&lt;/li&gt; &lt;li&gt;ADD_GIFT - purchases that allow users to recieve gifts&lt;/li&gt; &lt;/ul&gt;
    # @option opts [String] :keyword The keyword used to search
    # @option opts [String] :sort_field The column to sort the search on. Possible values include: ID, CREATED, UPDATED, ACTIVE, ACTIVATED, EXPIRES, TITLE, SUBTITLE, DETAILS, OFFER_TYPE, SPECIAL_OFFER_TYPE, OFFER_VISIBILITY, ESTIMATED_VALUE, VOUCHER_PRICE, RETAILER_ID, RETAILER_NAME, RETAILER_LOCATION_ID, RETAILER_LOCATION_NAME, BILLABLE_ENTITY_ID, BILLABLE_ENTITY_NAME, RESPONSIBLE_DISPLAY (default to 'NAME')
    # @option opts [Boolean] :descending The order to return the search results (default to false)
    # @option opts [Integer] :start The record to begin the return set on (default to 0)
    # @option opts [Integer] :limit The number of records to return (default to 20)
    # @option opts [Boolean] :active_only Return only active results (default to false)
    # @return [Array<(Array<PurchaseItemResponse>, Integer, Hash)>] Array<PurchaseItemResponse> data, response status code and response headers
    def search_purchase_items_with_http_info(opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: PurchaseItemApi.search_purchase_items ...'
      end
      allowable_values = ["ID", "CREATED", "UPDATED", "DELETED", "SEARCH_TAGS", "ACTIVE", "NAME", "DESCRIPTION", "TICKETS", "PRICE", "PURCHASE_TYPE", "PURCHASE_CODE", "PURCHASE_LIMIT", "SERIVCE_ACTION", "GIFTABLE", "ASSETABLE", "APPLICATION_ID", "APPLICATION_NAME"]
      if @api_client.config.client_side_validation && opts[:'sort_field'] && !allowable_values.include?(opts[:'sort_field'])
        fail ArgumentError, "invalid value for \"sort_field\", must be one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/purchase/search'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'deviceId'] = opts[:'device_id'] if !opts[:'device_id'].nil?
      query_params[:'accountId'] = opts[:'account_id'] if !opts[:'account_id'].nil?
      query_params[:'appKey'] = opts[:'app_key'] if !opts[:'app_key'].nil?
      query_params[:'filterByBillable'] = opts[:'filter_by_billable'] if !opts[:'filter_by_billable'].nil?
      query_params[:'purchaseType'] = opts[:'purchase_type'] if !opts[:'purchase_type'].nil?
      query_params[:'serviceAction'] = opts[:'service_action'] if !opts[:'service_action'].nil?
      query_params[:'keyword'] = opts[:'keyword'] if !opts[:'keyword'].nil?
      query_params[:'sortField'] = opts[:'sort_field'] if !opts[:'sort_field'].nil?
      query_params[:'descending'] = opts[:'descending'] if !opts[:'descending'].nil?
      query_params[:'start'] = opts[:'start'] if !opts[:'start'].nil?
      query_params[:'limit'] = opts[:'limit'] if !opts[:'limit'].nil?
      query_params[:'activeOnly'] = opts[:'active_only'] if !opts[:'active_only'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['*/*']) unless header_params['Accept']

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'Array<PurchaseItemResponse>'

      # auth_names
      auth_names = opts[:debug_auth_names] || []

      new_options = opts.merge(
        :operation => :"PurchaseItemApi.search_purchase_items",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:GET, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: PurchaseItemApi#search_purchase_items\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Update Purchase
    # Updates a purchase item for in app purchases
    # @param purchase_item_id [Integer] The purchase item id
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @option opts [String] :name The name of the purchase item
    # @option opts [String] :description The description of the purchase item
    # @option opts [Integer] :tickets How much the purchase item is worth in tickets
    # @option opts [Float] :price How much the purchase item will cost in real money
    # @option opts [String] :purchase_type The purchase provider &lt;ul&gt; &lt;li&gt;SIRQUL - the Sirqul store to make purchases using tickets&lt;/li&gt; &lt;li&gt;IOS - the iTunes store for iPhone, iPod, iPod Touch&lt;/li&gt; &lt;li&gt;GOOGLE - the Google Play store&lt;/li&gt; &lt;li&gt;AMAZON - the Amazon Android store&lt;/li&gt; &lt;li&gt;MAC - the iTunes store for OSX&lt;/li&gt; &lt;li&gt;WP8 - the Windows Phone 8 store&lt;/li&gt; &lt;li&gt;FREE - used for purchase items that are free (can be used for development/testing purposes)&lt;/li&gt; &lt;/ul&gt;
    # @option opts [String] :purchase_code The unique identifier used by purchase providers to identify in-app-purchases
    # @option opts [String] :secret_key A secret key from purchase providers that would be used for validation
    # @option opts [Integer] :purchase_limit How many times a user acquire the same purchase item
    # @option opts [String] :service_action Determines whether the purchase item will enable certain features &lt;ul&gt; &lt;li&gt;DAY_PREMIUM - subscribes a user for a day of membership&lt;/li&gt; &lt;li&gt;WEEK_PREMIUM - subscribes a user for a week of membership&lt;/li&gt; &lt;li&gt;MONTH_PREMIUM - subscribes a user for a month of membership&lt;/li&gt; &lt;li&gt;ADD_TICKET - allows a user to add more tickets to their account&lt;/li&gt; &lt;li&gt;ADD_GIFT - allows a user to send/recieve the purchase item as a gift&lt;/li&gt; &lt;/ul&gt;
    # @option opts [Integer] :cover_asset_id The cover image of the purchase item
    # @option opts [Integer] :promo_asset_id An application specific asset that can be used to store/provide additional data
    # @option opts [Boolean] :giftable Determines whether the purchase item can be gifted to other users
    # @option opts [Boolean] :assetable Determines whether users can attach their own media/asset to the purchase item
    # @option opts [Boolean] :active Sets whether the purchase item is active or inactive (hidden from consumers)
    # @option opts [Boolean] :allocate_tickets Flag to indicate owner should receive tickets for completed missions (default to false)
    # @option opts [String] :ticket_type The type of ticket to reward, null means default type
    # @option opts [Integer] :points The number of points to award for completing a mission
    # @option opts [Integer] :offer_location_id The offer location that will get added to the user&#39;s wallet after purchase.
    # @return [PurchaseItemFullResponse]
    def update_purchase_item(purchase_item_id, opts = {})
      data, _status_code, _headers = update_purchase_item_with_http_info(purchase_item_id, opts)
      data
    end

    # Update Purchase
    # Updates a purchase item for in app purchases
    # @param purchase_item_id [Integer] The purchase item id
    # @param [Hash] opts the optional parameters
    # @option opts [String] :device_id The device id (deviceId or accountId required)
    # @option opts [Integer] :account_id The account id of the user (deviceId or accountId required)
    # @option opts [String] :name The name of the purchase item
    # @option opts [String] :description The description of the purchase item
    # @option opts [Integer] :tickets How much the purchase item is worth in tickets
    # @option opts [Float] :price How much the purchase item will cost in real money
    # @option opts [String] :purchase_type The purchase provider &lt;ul&gt; &lt;li&gt;SIRQUL - the Sirqul store to make purchases using tickets&lt;/li&gt; &lt;li&gt;IOS - the iTunes store for iPhone, iPod, iPod Touch&lt;/li&gt; &lt;li&gt;GOOGLE - the Google Play store&lt;/li&gt; &lt;li&gt;AMAZON - the Amazon Android store&lt;/li&gt; &lt;li&gt;MAC - the iTunes store for OSX&lt;/li&gt; &lt;li&gt;WP8 - the Windows Phone 8 store&lt;/li&gt; &lt;li&gt;FREE - used for purchase items that are free (can be used for development/testing purposes)&lt;/li&gt; &lt;/ul&gt;
    # @option opts [String] :purchase_code The unique identifier used by purchase providers to identify in-app-purchases
    # @option opts [String] :secret_key A secret key from purchase providers that would be used for validation
    # @option opts [Integer] :purchase_limit How many times a user acquire the same purchase item
    # @option opts [String] :service_action Determines whether the purchase item will enable certain features &lt;ul&gt; &lt;li&gt;DAY_PREMIUM - subscribes a user for a day of membership&lt;/li&gt; &lt;li&gt;WEEK_PREMIUM - subscribes a user for a week of membership&lt;/li&gt; &lt;li&gt;MONTH_PREMIUM - subscribes a user for a month of membership&lt;/li&gt; &lt;li&gt;ADD_TICKET - allows a user to add more tickets to their account&lt;/li&gt; &lt;li&gt;ADD_GIFT - allows a user to send/recieve the purchase item as a gift&lt;/li&gt; &lt;/ul&gt;
    # @option opts [Integer] :cover_asset_id The cover image of the purchase item
    # @option opts [Integer] :promo_asset_id An application specific asset that can be used to store/provide additional data
    # @option opts [Boolean] :giftable Determines whether the purchase item can be gifted to other users
    # @option opts [Boolean] :assetable Determines whether users can attach their own media/asset to the purchase item
    # @option opts [Boolean] :active Sets whether the purchase item is active or inactive (hidden from consumers)
    # @option opts [Boolean] :allocate_tickets Flag to indicate owner should receive tickets for completed missions (default to false)
    # @option opts [String] :ticket_type The type of ticket to reward, null means default type
    # @option opts [Integer] :points The number of points to award for completing a mission
    # @option opts [Integer] :offer_location_id The offer location that will get added to the user&#39;s wallet after purchase.
    # @return [Array<(PurchaseItemFullResponse, Integer, Hash)>] PurchaseItemFullResponse data, response status code and response headers
    def update_purchase_item_with_http_info(purchase_item_id, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: PurchaseItemApi.update_purchase_item ...'
      end
      # verify the required parameter 'purchase_item_id' is set
      if @api_client.config.client_side_validation && purchase_item_id.nil?
        fail ArgumentError, "Missing the required parameter 'purchase_item_id' when calling PurchaseItemApi.update_purchase_item"
      end
      allowable_values = ["SIRQUL", "IOS", "GOOGLE", "AMAZON", "MAC", "WP8", "FREE"]
      if @api_client.config.client_side_validation && opts[:'purchase_type'] && !allowable_values.include?(opts[:'purchase_type'])
        fail ArgumentError, "invalid value for \"purchase_type\", must be one of #{allowable_values}"
      end
      allowable_values = ["DAY_PREMIUM", "WEEK_PREMIUM", "MONTH_PREMIUM", "YEAR_PREMIUM", "LIFETIME_PREMIUM", "ADD_TICKET", "ADD_GIFT", "ADD_POINTS"]
      if @api_client.config.client_side_validation && opts[:'service_action'] && !allowable_values.include?(opts[:'service_action'])
        fail ArgumentError, "invalid value for \"service_action\", must be one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/purchase/update'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'purchaseItemId'] = purchase_item_id
      query_params[:'deviceId'] = opts[:'device_id'] if !opts[:'device_id'].nil?
      query_params[:'accountId'] = opts[:'account_id'] if !opts[:'account_id'].nil?
      query_params[:'name'] = opts[:'name'] if !opts[:'name'].nil?
      query_params[:'description'] = opts[:'description'] if !opts[:'description'].nil?
      query_params[:'tickets'] = opts[:'tickets'] if !opts[:'tickets'].nil?
      query_params[:'price'] = opts[:'price'] if !opts[:'price'].nil?
      query_params[:'purchaseType'] = opts[:'purchase_type'] if !opts[:'purchase_type'].nil?
      query_params[:'purchaseCode'] = opts[:'purchase_code'] if !opts[:'purchase_code'].nil?
      query_params[:'secretKey'] = opts[:'secret_key'] if !opts[:'secret_key'].nil?
      query_params[:'purchaseLimit'] = opts[:'purchase_limit'] if !opts[:'purchase_limit'].nil?
      query_params[:'serviceAction'] = opts[:'service_action'] if !opts[:'service_action'].nil?
      query_params[:'coverAssetId'] = opts[:'cover_asset_id'] if !opts[:'cover_asset_id'].nil?
      query_params[:'promoAssetId'] = opts[:'promo_asset_id'] if !opts[:'promo_asset_id'].nil?
      query_params[:'giftable'] = opts[:'giftable'] if !opts[:'giftable'].nil?
      query_params[:'assetable'] = opts[:'assetable'] if !opts[:'assetable'].nil?
      query_params[:'active'] = opts[:'active'] if !opts[:'active'].nil?
      query_params[:'allocateTickets'] = opts[:'allocate_tickets'] if !opts[:'allocate_tickets'].nil?
      query_params[:'ticketType'] = opts[:'ticket_type'] if !opts[:'ticket_type'].nil?
      query_params[:'points'] = opts[:'points'] if !opts[:'points'].nil?
      query_params[:'offerLocationId'] = opts[:'offer_location_id'] if !opts[:'offer_location_id'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['*/*']) unless header_params['Accept']

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'PurchaseItemFullResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || []

      new_options = opts.merge(
        :operation => :"PurchaseItemApi.update_purchase_item",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:POST, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: PurchaseItemApi#update_purchase_item\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end
  end
end
