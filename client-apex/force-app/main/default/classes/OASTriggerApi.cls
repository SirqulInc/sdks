/*
 * Sirqul IoT Platform
 * Sirqul provides an Engagement-as-a-Service (EaaS)\n								  	IoT Platform with Smart Mesh network technology to drive\n									  engagement, operational efficiency, rapid innovation and new\n								  	revenue streams. Please visit https://dev.sirqul.com/ for more\n						  			documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET[\'appKey\']);$b = htmlspecialchars($_GET[\'appRestKey\']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 *
 * NOTE: This class is auto generated by the OAS code generator program.
 * https://github.com/OpenAPITools/openapi-generator
 * Do not edit the class manually.
 */

public class OASTriggerApi {
    OASClient client;

    public OASTriggerApi(OASClient client) {
        this.client = client;
    }

    public OASTriggerApi() {
        this.client = new OASClient();
    }

    public OASClient getClient() {
        return this.client;
    }

    /**
     * Create Trigger
     * Create a trigger
     * @param accountId The logged in user (required)
     * @param name The name of the trigger (required)
     * @param appKey The application to target (optional)
     * @param groupingId Client defined identifier for grouping triggers (optional)
     * @param endpointURL The URL for making an HTTP call (optional)
     * @param payload The parameters for making an HTTP call (optional)
     * @param scheduledDate The date and time of the next trigger (optional)
     * @param startDate The starting date of the trigger (optional)
     * @param endDate The ending date of the trigger (optional)
     * @param cronExpression The cron expression that represents the trigger\&#39;s schedule (optional)
     * @param conditionalInput Json input representing conditional logic that has to be met before running the trigger (optional)
     * @param visibility The determines the scope of who is able to find and view the scheduled notification (PUBLIC - openly available to all Sirqul users, PRIVATE - only available to users that have been invited) (optional)
     * @param active Sets whether the Trigger is active or not (inactive Triggers are not processed) (optional, default to true)
     * @return OASTriggerResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASTriggerResponse createTrigger(Map<String, Object> params) {
        client.assertNotNull(params.get('accountId'), 'accountId');
        client.assertNotNull(params.get('name'), 'name');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('name', (String) params.get('name')));
        query.addAll(client.makeParam('appKey', (String) params.get('appKey')));
        query.addAll(client.makeParam('groupingId', (String) params.get('groupingId')));
        query.addAll(client.makeParam('endpointURL', (String) params.get('endpointURL')));
        query.addAll(client.makeParam('payload', (String) params.get('payload')));
        query.addAll(client.makeParam('scheduledDate', (Long) params.get('scheduledDate')));
        query.addAll(client.makeParam('startDate', (Long) params.get('startDate')));
        query.addAll(client.makeParam('endDate', (Long) params.get('endDate')));
        query.addAll(client.makeParam('cronExpression', (String) params.get('cronExpression')));
        query.addAll(client.makeParam('conditionalInput', (String) params.get('conditionalInput')));
        query.addAll(client.makeParam('visibility', (String) params.get('visibility')));
        query.addAll(client.makeParam('active', (Boolean) params.get('active')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASTriggerResponse) client.invoke(
            'POST', '/trigger/create', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASTriggerResponse.class
        );
    }
    /**
     * Delete Trigger
     * Mark a trigger as deleted.
     * @param accountId The logged in user. (required)
     * @param triggerId The id of the trigger to delete. (required)
     * @return OASSirqulResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASSirqulResponse deleteTrigger(Map<String, Object> params) {
        client.assertNotNull(params.get('accountId'), 'accountId');
        client.assertNotNull(params.get('triggerId'), 'triggerId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('triggerId', (Long) params.get('triggerId')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASSirqulResponse) client.invoke(
            'POST', '/trigger/delete', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASSirqulResponse.class
        );
    }
    /**
     * Get Trigger
     * Get a trigger
     * @param accountId The logged in user. (required)
     * @param triggerId The id of the Trigger to return. (required)
     * @return OASTriggerResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASTriggerResponse getTrigger(Map<String, Object> params) {
        client.assertNotNull(params.get('accountId'), 'accountId');
        client.assertNotNull(params.get('triggerId'), 'triggerId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('triggerId', (Long) params.get('triggerId')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASTriggerResponse) client.invoke(
            'GET', '/trigger/get', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASTriggerResponse.class
        );
    }
    /**
     * Search Triggers
     * Search for triggers
     * @param accountId The logged in user. (required)
     * @param groupingId Filter results by a grouping identifier defined by the client (optional)
     * @param filter A comma separated list of filters.\n* MINE - Return triggers that the user has created\n* SHARED - Return triggers that have been shared to the user\n* FOLLOWER - Return triggers that have been created by the user\&#39;\&#39;s followers (the content needs to have been APPROVED or FEATURED)\n* FOLLOWING - Return triggers that have been created by people who the user is following (the content needs to have been APPROVED or FEATURED)\n* PUBLIC - Return all PUBLIC triggers that have been APPROVED or FEATURED\n* ALL_PUBLIC - Return all PUBLIC triggers regardless of whether they are approved or not (ignores the approval status)\n* LIKED - Return all triggers that the user has liked\n* FEATURED - Return all triggers that have been featured\n* PENDING - Return all pending triggers\n (optional, default to 'MINE')
     * @param statuses Filter results by status (comma separated list). Values include: NEW, ERROR, COMPLETE, PROCESSING, TEMPLATE (optional, default to 'NEW,ERROR,COMPLETE,PROCESSING')
     * @param templateTypes Template Types (optional)
     * @param appKey Filter the list by a specific application (optional)
     * @param keyword Keyword search on the trigger names. (optional)
     * @param sortField The field to sort by. Possible values include: ID, CREATED, UPDATED, ACTIVE, NAME, SCHEDULED_DATE, START_DATE, END_DATE (optional, default to 'CREATED')
     * @param descending Determines whether the sorted list is in descending or ascending order (optional, default to true)
     * @param start Start the result set at some index. (optional, default to 0)
     * @param r_limit Limit the result to some number. (optional, default to 20)
     * @param activeOnly Determines whether to return only active results (optional, default to true)
     * @return List<OASTriggerResponse>
     * @throws OAS.ApiException if fails to make API call
     */
    public List<OASTriggerResponse> searchTriggers(Map<String, Object> params) {
        client.assertNotNull(params.get('accountId'), 'accountId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('groupingId', (String) params.get('groupingId')));
        query.addAll(client.makeParam('filter', (String) params.get('filter')));
        query.addAll(client.makeParam('statuses', (String) params.get('statuses')));
        query.addAll(client.makeParam('templateTypes', (String) params.get('templateTypes')));
        query.addAll(client.makeParam('appKey', (String) params.get('appKey')));
        query.addAll(client.makeParam('keyword', (String) params.get('keyword')));
        query.addAll(client.makeParam('sortField', (String) params.get('sortField')));
        query.addAll(client.makeParam('descending', (Boolean) params.get('descending')));
        query.addAll(client.makeParam('start', (Integer) params.get('start')));
        query.addAll(client.makeParam('limit', (Integer) params.get('r_limit')));
        query.addAll(client.makeParam('activeOnly', (Boolean) params.get('activeOnly')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (List<OASTriggerResponse>) client.invoke(
            'GET', '/trigger/search', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            List<OASTriggerResponse>.class
        );
    }
    /**
     * Update Trigger
     * Update a trigger
     * @param triggerId The trigger to update (required)
     * @param accountId The logged in user (required)
     * @param name The name of the trigger (optional)
     * @param appKey The application to target (optional)
     * @param groupingId Client defined identifier for grouping triggers (optional)
     * @param endpointURL The URL for making an HTTP call (optional)
     * @param payload The parameters for making an HTTP call (optional)
     * @param scheduledDate The date and time of the next trigger (optional)
     * @param startDate The starting date of the trigger (optional)
     * @param endDate The ending date of the trigger (optional)
     * @param cronExpression The cron expression that represents the trigger\&#39;s schedule (optional)
     * @param conditionalInput Json input representing conditional logic that has to be met before running the trigger (optional)
     * @param visibility The determines the scope of who is able to find and view the scheduled notification (PUBLIC - openly available to all Sirqul users, PRIVATE - only available to users that have been invited) (optional)
     * @param active Sets whether the Trigger is active or not (inactive Triggers are not processed) (optional)
     * @return OASTriggerResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASTriggerResponse updateTrigger(Map<String, Object> params) {
        client.assertNotNull(params.get('triggerId'), 'triggerId');
        client.assertNotNull(params.get('accountId'), 'accountId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('triggerId', (Long) params.get('triggerId')));
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('name', (String) params.get('name')));
        query.addAll(client.makeParam('appKey', (String) params.get('appKey')));
        query.addAll(client.makeParam('groupingId', (String) params.get('groupingId')));
        query.addAll(client.makeParam('endpointURL', (String) params.get('endpointURL')));
        query.addAll(client.makeParam('payload', (String) params.get('payload')));
        query.addAll(client.makeParam('scheduledDate', (Long) params.get('scheduledDate')));
        query.addAll(client.makeParam('startDate', (Long) params.get('startDate')));
        query.addAll(client.makeParam('endDate', (Long) params.get('endDate')));
        query.addAll(client.makeParam('cronExpression', (String) params.get('cronExpression')));
        query.addAll(client.makeParam('conditionalInput', (String) params.get('conditionalInput')));
        query.addAll(client.makeParam('visibility', (String) params.get('visibility')));
        query.addAll(client.makeParam('active', (Boolean) params.get('active')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASTriggerResponse) client.invoke(
            'POST', '/trigger/update', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASTriggerResponse.class
        );
    }
}
