/*
 * Sirqul IoT Platform
 * Sirqul provides an Engagement-as-a-Service (EaaS)\n								  	IoT Platform with Smart Mesh network technology to drive\n									  engagement, operational efficiency, rapid innovation and new\n								  	revenue streams. Please visit https://dev.sirqul.com/ for more\n						  			documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET[\'appKey\']);$b = htmlspecialchars($_GET[\'appRestKey\']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 *
 * NOTE: This class is auto generated by the OAS code generator program.
 * https://github.com/OpenAPITools/openapi-generator
 * Do not edit the class manually.
 */

public class OASSubscriptionApi {
    OASClient client;

    public OASSubscriptionApi(OASClient client) {
        this.client = client;
    }

    public OASSubscriptionApi() {
        this.client = new OASClient();
    }

    public OASClient getClient() {
        return this.client;
    }

    /**
     * Create Subscription
     * Create a subscription for a billable entity.  Provide a planId, if not provided then the base plan will be assigned.
     * @param version  (required)
     * @param accountId The account used to perform the create, must be the responsible manager (required)
     * @param planId The plan to subscribe to, if null use default plan (optional)
     * @param promoCode Set a promo code for a discount. (optional)
     * @return OASSubscriptionResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASSubscriptionResponse createSubscription(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        client.assertNotNull(params.get('accountId'), 'accountId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('planId', (Long) params.get('planId')));
        query.addAll(client.makeParam('promoCode', (String) params.get('promoCode')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASSubscriptionResponse) client.invoke(
            'POST', '/api/{version}/subscription/create', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASSubscriptionResponse.class
        );
    }
    /**
     * Delete Subscription
     * Suspend the current subscription for the billable entity managed by the account.  The account must be the responsible manager to perform this action
     * @param version  (required)
     * @param accountId The account used to perform the delete, must be the responsible manager (required)
     * @return OASSirqulResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASSirqulResponse deleteSubscription(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        client.assertNotNull(params.get('accountId'), 'accountId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASSirqulResponse) client.invoke(
            'POST', '/api/{version}/subscription/delete', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASSirqulResponse.class
        );
    }
    /**
     * Get Subscription
     * Use the accountId to determine the associated BillableEntity.  Then get the subscription.
     * @param version  (required)
     * @param accountId The account used to perform the lookup (required)
     * @return OASSubscriptionResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASSubscriptionResponse getSubscription(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        client.assertNotNull(params.get('accountId'), 'accountId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASSubscriptionResponse) client.invoke(
            'GET', '/api/{version}/subscription/get', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASSubscriptionResponse.class
        );
    }
    /**
     * Get Subscription Plan
     * Get the matched subscription plan
     * @param version  (required)
     * @param planId The ID of the plan to get (required)
     * @return OASSubscriptionPlanResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASSubscriptionPlanResponse getSubscriptionPlan(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        client.assertNotNull(params.get('planId'), 'planId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('planId', (Long) params.get('planId')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASSubscriptionPlanResponse) client.invoke(
            'GET', '/api/{version}/subscription/plan/get', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASSubscriptionPlanResponse.class
        );
    }
    /**
     * List Subscription Plans
     * Get the matched subscription plan
     * @param version  (required)
     * @param visible Include visible only (true), hidden only (false), or all (null) (optional)
     * @param role The role the plan is targeted for, values are: DEVELOPER, RETAILER, ADVERTISER (optional)
     * @return List<OASSubscriptionPlanResponse>
     * @throws OAS.ApiException if fails to make API call
     */
    public List<OASSubscriptionPlanResponse> getSubscriptionPlans(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('visible', (Boolean) params.get('visible')));
        query.addAll(client.makeParam('role', (String) params.get('role')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (List<OASSubscriptionPlanResponse>) client.invoke(
            'GET', '/api/{version}/subscription/plan/list', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            List<OASSubscriptionPlanResponse>.class
        );
    }
    /**
     * Get Subscription Usage
     * Use the accountId to determine the associated BillableEntity.  Then get the application usage.
     * @param version  (required)
     * @param accountId The account used to perform the lookup (required)
     * @param applicationId Get for just 1 application instead of the BillableEntity (optional)
     * @param start The start time frame (optional)
     * @param r_end The end time frame (optional)
     * @return OASApplicationUsageResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASApplicationUsageResponse getSubscriptionUsage(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        client.assertNotNull(params.get('accountId'), 'accountId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('applicationId', (Long) params.get('applicationId')));
        query.addAll(client.makeParam('start', (Long) params.get('start')));
        query.addAll(client.makeParam('end', (Long) params.get('r_end')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASApplicationUsageResponse) client.invoke(
            'GET', '/api/{version}/subscription/usage/get', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASApplicationUsageResponse.class
        );
    }
    /**
     * Update Subscription
     * Updates the subscription for the billable entity for an account
     * @param version  (required)
     * @param accountId The account used to perform the update, must be the responsible manager (required)
     * @param planId The plan to subscribe to (optional)
     * @param promoCode Set a promo code for a discount. (optional)
     * @param active Set active status (optional)
     * @return OASSubscriptionResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASSubscriptionResponse updateSubscription(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        client.assertNotNull(params.get('accountId'), 'accountId');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('planId', (Long) params.get('planId')));
        query.addAll(client.makeParam('promoCode', (String) params.get('promoCode')));
        query.addAll(client.makeParam('active', (Boolean) params.get('active')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASSubscriptionResponse) client.invoke(
            'POST', '/api/{version}/subscription/update', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASSubscriptionResponse.class
        );
    }
}
