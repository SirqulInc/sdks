/*
 * Sirqul IoT Platform
 * Sirqul provides an Engagement-as-a-Service (EaaS)\n								  	IoT Platform with Smart Mesh network technology to drive\n									  engagement, operational efficiency, rapid innovation and new\n								  	revenue streams. Please visit https://dev.sirqul.com/ for more\n						  			documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET[\'appKey\']);$b = htmlspecialchars($_GET[\'appRestKey\']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 *
 * NOTE: This class is auto generated by the OAS code generator program.
 * https://github.com/OpenAPITools/openapi-generator
 * Do not edit the class manually.
 */

public class OASLocationApi {
    OASClient client;

    public OASLocationApi(OASClient client) {
        this.client = client;
    }

    public OASLocationApi() {
        this.client = new OASClient();
    }

    public OASClient getClient() {
        return this.client;
    }

    /**
     * Create Trilateration Data with File
     * Creates trilateration samples for a source device (i.e. a router).
     * @param version  (required)
     * @param udid The unique identifier of the source device (required)
     * @param sourceTime The current timestamp of the source device (optional)
     * @param minimumSampleSize the minimum number of Edysen devices that must be used to be able to trilaterate a device (optional)
     * @param data The json formated sample data: \n&#x60;&#x60;&#x60;json\n{ \n  &quot;count&quot;: 2,\n  &quot;timespan&quot;: 10, \n  &quot;samples&quot;: [\n    {\n      &quot;deviceId&quot;: &quot;device1&quot;,\n      &quot;randomizedId&quot;: true, \n      &quot;deviceSignature&quot;: &quot;probe:xyz...&quot;, \n      &quot;alternativeId&quot;:&quot;adc123&quot;, \n      &quot;rssi&quot;: [-63, -75]\n    }, \n    {\n      &quot;deviceId&quot;: &quot;device2&quot;,\n      &quot;randomizedId&quot;: true, \n      &quot;deviceSignature&quot;: &quot;probe:xyz...&quot;, \n      &quot;alternativeId&quot;: &quot;adc123&quot;, \n      &quot;rssi&quot;: [-83, -79]\n    }\n  ]\n}\n&#x60;&#x60;&#x60;\n (optional)
     * @param dataFile Binary file containing data (multipart upload) (optional)
     * @return OASSirqulResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASSirqulResponse cacheTrilaterationData(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        client.assertNotNull(params.get('udid'), 'udid');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('udid', (String) params.get('udid')));
        query.addAll(client.makeParam('sourceTime', (Long) params.get('sourceTime')));
        query.addAll(client.makeParam('minimumSampleSize', (Integer) params.get('minimumSampleSize')));
        query.addAll(client.makeParam('data', (String) params.get('data')));
        query.addAll(client.makeParam('dataFile', (Blob) params.get('dataFile')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASSirqulResponse) client.invoke(
            'POST', '/api/{version}/location/trilaterate/cache', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASSirqulResponse.class
        );
    }
    /**
     * Create Trilateration Data with Rest
     * Creates trilateration samples for a source device (i.e. a router).
     * @param version  (required)
     * @param body  (optional)
     * @return OASSirqulResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASSirqulResponse cacheTrilaterationDataGzip(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        List<OAS.Param> query = new List<OAS.Param>();
        List<OAS.Param> form = new List<OAS.Param>();

        return (OASSirqulResponse) client.invoke(
            'POST', '/api/{version}/location/trilaterate/cache/submit',
            (OASTrilatCacheRequest) params.get('body'),
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASSirqulResponse.class
        );
    }
    /**
     * Get Location by IP
     * Get location information based on an IP address.
     * @param version  (required)
     * @param ip the ip address of the client device (optional)
     * @return OASCoordsResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASCoordsResponse getLocationByIp(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('ip', (String) params.get('ip')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASCoordsResponse) client.invoke(
            'GET', '/api/{version}/location/ip', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASCoordsResponse.class
        );
    }
    /**
     * Get Location by Trilateration
     * Send in device data and calculate a position based on signal strengths.
     * @param version  (required)
     * @param accountId The account making the request, if provided the last know location will be updated (optional)
     * @param latitude The known GPS latitude to compare to the calculated version (optional)
     * @param longitude The known GPS longitude to compare to the calculated version (optional)
     * @param data The json formated sample data: \n&#x60;&#x60;&#x60;json\n{ \n  &quot;count&quot;: 2,\n  &quot;timespan&quot;: 10, \n  &quot;samples&quot;: [\n    {\n      &quot;deviceId&quot;: &quot;device1&quot;,\n      &quot;rssi&quot;: [-63, -75]\n    }, \n    {\n      &quot;deviceId&quot;: &quot;device2&quot;,\n      &quot;rssi&quot;: [-83, -79]\n    }\n  ]\n}\n&#x60;&#x60;&#x60;\n (optional)
     * @param responseFilters Optional response filters (not used currently) (optional)
     * @return OASGeoPointResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASGeoPointResponse getLocationByTrilateration(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('latitude', (Double) params.get('latitude')));
        query.addAll(client.makeParam('longitude', (Double) params.get('longitude')));
        query.addAll(client.makeParam('data', (String) params.get('data')));
        query.addAll(client.makeParam('responseFilters', (String) params.get('responseFilters')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASGeoPointResponse) client.invoke(
            'GET', '/api/{version}/account/location/trilaterate', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASGeoPointResponse.class
        );
    }
    /**
     * Search Regions or Postal Codes
     * Searches geographic locations by proximity via address or keyword.
     * @param version  (required)
     * @param deviceId the device id (optional)
     * @param accountId the account id (optional)
     * @param currentlatitude This parameter is deprecated. (optional)
     * @param currentlongitude This parameter is deprecated. (optional)
     * @param currentLatitude the current latitude of the user (optional)
     * @param currentLongitude the current longitude of the user (optional)
     * @param query the query results by keyword or address (optional)
     * @param zipcode This parameter is deprecated. (optional)
     * @param zipCode the zip code to filter results (optional)
     * @param selectedMaplatitude This parameter is deprecated. (optional)
     * @param selectedMaplongitude This parameter is deprecated. (optional)
     * @param selectedMapLatitude the latitude of where the search should originate from (optional)
     * @param selectedMapLongitude the longitude of where the search should originate from (optional)
     * @param searchRange the search range of the search in miles (optional, default to 5d)
     * @param useGeocode determines whether to allow searches via address (optional, default to false)
     * @param i This parameter is deprecated. (optional)
     * @param start the start index for pagination (optional, default to 0)
     * @param l This parameter is deprecated. (optional)
     * @param r_limit the limit for pagination (optional, default to 20)
     * @return OASLocationSearchResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASLocationSearchResponse getLocations(Map<String, Object> params) {
        client.assertNotNull(params.get('version'), 'version');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('deviceId', (String) params.get('deviceId')));
        query.addAll(client.makeParam('accountId', (Long) params.get('accountId')));
        query.addAll(client.makeParam('currentlatitude', (Double) params.get('currentlatitude')));
        query.addAll(client.makeParam('currentlongitude', (Double) params.get('currentlongitude')));
        query.addAll(client.makeParam('currentLatitude', (Double) params.get('currentLatitude')));
        query.addAll(client.makeParam('currentLongitude', (Double) params.get('currentLongitude')));
        query.addAll(client.makeParam('query', (String) params.get('query')));
        query.addAll(client.makeParam('zipcode', (String) params.get('zipcode')));
        query.addAll(client.makeParam('zipCode', (String) params.get('zipCode')));
        query.addAll(client.makeParam('selectedMaplatitude', (Double) params.get('selectedMaplatitude')));
        query.addAll(client.makeParam('selectedMaplongitude', (Double) params.get('selectedMaplongitude')));
        query.addAll(client.makeParam('selectedMapLatitude', (Double) params.get('selectedMapLatitude')));
        query.addAll(client.makeParam('selectedMapLongitude', (Double) params.get('selectedMapLongitude')));
        query.addAll(client.makeParam('searchRange', (Double) params.get('searchRange')));
        query.addAll(client.makeParam('useGeocode', (Boolean) params.get('useGeocode')));
        query.addAll(client.makeParam('_i', (Integer) params.get('i')));
        query.addAll(client.makeParam('start', (Integer) params.get('start')));
        query.addAll(client.makeParam('_l', (Integer) params.get('l')));
        query.addAll(client.makeParam('limit', (Integer) params.get('r_limit')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (OASLocationSearchResponse) client.invoke(
            'GET', '/api/{version}/location/search', '',
            query, form,
            new Map<String, Object>{
                'version' => (Double) params.get('version')
            },
            new Map<String, Object>(),
            new List<String>{ '*/*' },
            new List<String>(),
            new List<String>(),
            OASLocationSearchResponse.class
        );
    }
}
